import{X as vu,Y as La,Z as Co,p as rt,r as dn,$ as Ua,U as yr,a0 as qa,K as gn,u as pi,a1 as Ga,a2 as cs,E as Wo,a3 as wu,i as jt,J as za,H as vi,P as yu,W as $n,a4 as bu,Q as hs,a5 as Au,T as _u,a6 as xu}from"./index.e6b8b1c8.js";var Eu=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,no=Math.ceil,je=Math.floor,pe="[BigNumber Error] ",ds=pe+"Number primitive has more than 15 significant digits: ",Fe=1e14,st=14,io=9007199254740991,oo=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Mr=1e7,oe=1e9;function Ha(r){var t,e,n,i=R.prototype={constructor:R,toString:null,valueOf:null},o=new R(1),s=20,a=4,u=-7,c=21,d=-1e7,g=1e7,_=!1,k=1,T=0,C={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},F="0123456789abcdefghijklmnopqrstuvwxyz",D=!0;function R(A,N){var P,S,I,y,f,l,m,v,w=this;if(!(w instanceof R))return new R(A,N);if(N==null){if(A&&A._isBigNumber===!0){w.s=A.s,!A.c||A.e>g?w.c=w.e=null:A.e<d?w.c=[w.e=0]:(w.e=A.e,w.c=A.c.slice());return}if((l=typeof A=="number")&&A*0==0){if(w.s=1/A<0?(A=-A,-1):1,A===~~A){for(y=0,f=A;f>=10;f/=10,y++);y>g?w.c=w.e=null:(w.e=y,w.c=[A]);return}v=String(A)}else{if(!Eu.test(v=String(A)))return n(w,v,l);w.s=v.charCodeAt(0)==45?(v=v.slice(1),-1):1}(y=v.indexOf("."))>-1&&(v=v.replace(".","")),(f=v.search(/e/i))>0?(y<0&&(y=f),y+=+v.slice(f+1),v=v.substring(0,f)):y<0&&(y=v.length)}else{if($t(N,2,F.length,"Base"),N==10&&D)return w=new R(A),K(w,s+w.e+1,a);if(v=String(A),l=typeof A=="number"){if(A*0!=0)return n(w,v,l,N);if(w.s=1/A<0?(v=v.slice(1),-1):1,R.DEBUG&&v.replace(/^0\.0*|\./,"").length>15)throw Error(ds+A)}else w.s=v.charCodeAt(0)===45?(v=v.slice(1),-1):1;for(P=F.slice(0,N),y=f=0,m=v.length;f<m;f++)if(P.indexOf(S=v.charAt(f))<0){if(S=="."){if(f>y){y=m;continue}}else if(!I&&(v==v.toUpperCase()&&(v=v.toLowerCase())||v==v.toLowerCase()&&(v=v.toUpperCase()))){I=!0,f=-1,y=0;continue}return n(w,String(A),l,N)}l=!1,v=e(v,N,10,w.s),(y=v.indexOf("."))>-1?v=v.replace(".",""):y=v.length}for(f=0;v.charCodeAt(f)===48;f++);for(m=v.length;v.charCodeAt(--m)===48;);if(v=v.slice(f,++m)){if(m-=f,l&&R.DEBUG&&m>15&&(A>io||A!==je(A)))throw Error(ds+w.s*A);if((y=y-f-1)>g)w.c=w.e=null;else if(y<d)w.c=[w.e=0];else{if(w.e=y,w.c=[],f=(y+1)%st,y<0&&(f+=st),f<m){for(f&&w.c.push(+v.slice(0,f)),m-=st;f<m;)w.c.push(+v.slice(f,f+=st));f=st-(v=v.slice(f)).length}else f-=m;for(;f--;v+="0");w.c.push(+v)}}else w.c=[w.e=0]}R.clone=Ha,R.ROUND_UP=0,R.ROUND_DOWN=1,R.ROUND_CEIL=2,R.ROUND_FLOOR=3,R.ROUND_HALF_UP=4,R.ROUND_HALF_DOWN=5,R.ROUND_HALF_EVEN=6,R.ROUND_HALF_CEIL=7,R.ROUND_HALF_FLOOR=8,R.EUCLID=9,R.config=R.set=function(A){var N,P;if(A!=null)if(typeof A=="object"){if(A.hasOwnProperty(N="DECIMAL_PLACES")&&(P=A[N],$t(P,0,oe,N),s=P),A.hasOwnProperty(N="ROUNDING_MODE")&&(P=A[N],$t(P,0,8,N),a=P),A.hasOwnProperty(N="EXPONENTIAL_AT")&&(P=A[N],P&&P.pop?($t(P[0],-oe,0,N),$t(P[1],0,oe,N),u=P[0],c=P[1]):($t(P,-oe,oe,N),u=-(c=P<0?-P:P))),A.hasOwnProperty(N="RANGE"))if(P=A[N],P&&P.pop)$t(P[0],-oe,-1,N),$t(P[1],1,oe,N),d=P[0],g=P[1];else if($t(P,-oe,oe,N),P)d=-(g=P<0?-P:P);else throw Error(pe+N+" cannot be zero: "+P);if(A.hasOwnProperty(N="CRYPTO"))if(P=A[N],P===!!P)if(P)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))_=P;else throw _=!P,Error(pe+"crypto unavailable");else _=P;else throw Error(pe+N+" not true or false: "+P);if(A.hasOwnProperty(N="MODULO_MODE")&&(P=A[N],$t(P,0,9,N),k=P),A.hasOwnProperty(N="POW_PRECISION")&&(P=A[N],$t(P,0,oe,N),T=P),A.hasOwnProperty(N="FORMAT"))if(P=A[N],typeof P=="object")C=P;else throw Error(pe+N+" not an object: "+P);if(A.hasOwnProperty(N="ALPHABET"))if(P=A[N],typeof P=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(P))D=P.slice(0,10)=="0123456789",F=P;else throw Error(pe+N+" invalid: "+P)}else throw Error(pe+"Object expected: "+A);return{DECIMAL_PLACES:s,ROUNDING_MODE:a,EXPONENTIAL_AT:[u,c],RANGE:[d,g],CRYPTO:_,MODULO_MODE:k,POW_PRECISION:T,FORMAT:C,ALPHABET:F}},R.isBigNumber=function(A){if(!A||A._isBigNumber!==!0)return!1;if(!R.DEBUG)return!0;var N,P,S=A.c,I=A.e,y=A.s;t:if({}.toString.call(S)=="[object Array]"){if((y===1||y===-1)&&I>=-oe&&I<=oe&&I===je(I)){if(S[0]===0){if(I===0&&S.length===1)return!0;break t}if(N=(I+1)%st,N<1&&(N+=st),String(S[0]).length==N){for(N=0;N<S.length;N++)if(P=S[N],P<0||P>=Fe||P!==je(P))break t;if(P!==0)return!0}}}else if(S===null&&I===null&&(y===null||y===1||y===-1))return!0;throw Error(pe+"Invalid BigNumber: "+A)},R.maximum=R.max=function(){return W(arguments,i.lt)},R.minimum=R.min=function(){return W(arguments,i.gt)},R.random=function(){var A=9007199254740992,N=Math.random()*A&2097151?function(){return je(Math.random()*A)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(P){var S,I,y,f,l,m=0,v=[],w=new R(o);if(P==null?P=s:$t(P,0,oe),f=no(P/st),_)if(crypto.getRandomValues){for(S=crypto.getRandomValues(new Uint32Array(f*=2));m<f;)l=S[m]*131072+(S[m+1]>>>11),l>=9e15?(I=crypto.getRandomValues(new Uint32Array(2)),S[m]=I[0],S[m+1]=I[1]):(v.push(l%1e14),m+=2);m=f/2}else if(crypto.randomBytes){for(S=crypto.randomBytes(f*=7);m<f;)l=(S[m]&31)*281474976710656+S[m+1]*1099511627776+S[m+2]*4294967296+S[m+3]*16777216+(S[m+4]<<16)+(S[m+5]<<8)+S[m+6],l>=9e15?crypto.randomBytes(7).copy(S,m):(v.push(l%1e14),m+=7);m=f/7}else throw _=!1,Error(pe+"crypto unavailable");if(!_)for(;m<f;)l=N(),l<9e15&&(v[m++]=l%1e14);for(f=v[--m],P%=st,f&&P&&(l=oo[st-P],v[m]=je(f/l)*l);v[m]===0;v.pop(),m--);if(m<0)v=[y=0];else{for(y=-1;v[0]===0;v.splice(0,1),y-=st);for(m=1,l=v[0];l>=10;l/=10,m++);m<st&&(y-=st-m)}return w.e=y,w.c=v,w}}(),R.sum=function(){for(var A=1,N=arguments,P=new R(N[0]);A<N.length;)P=P.plus(N[A++]);return P},e=function(){var A="0123456789";function N(P,S,I,y){for(var f,l=[0],m,v=0,w=P.length;v<w;){for(m=l.length;m--;l[m]*=S);for(l[0]+=y.indexOf(P.charAt(v++)),f=0;f<l.length;f++)l[f]>I-1&&(l[f+1]==null&&(l[f+1]=0),l[f+1]+=l[f]/I|0,l[f]%=I)}return l.reverse()}return function(P,S,I,y,f){var l,m,v,w,E,O,x,h,M=P.indexOf("."),X=s,p=a;for(M>=0&&(w=T,T=0,P=P.replace(".",""),h=new R(S),O=h.pow(P.length-M),T=w,h.c=N(lr(ke(O.c),O.e,"0"),10,I,A),h.e=h.c.length),x=N(P,S,I,f?(l=F,A):(l=A,F)),v=w=x.length;x[--w]==0;x.pop());if(!x[0])return l.charAt(0);if(M<0?--v:(O.c=x,O.e=v,O.s=y,O=t(O,h,X,p,I),x=O.c,E=O.r,v=O.e),m=v+X+1,M=x[m],w=I/2,E=E||m<0||x[m+1]!=null,E=p<4?(M!=null||E)&&(p==0||p==(O.s<0?3:2)):M>w||M==w&&(p==4||E||p==6&&x[m-1]&1||p==(O.s<0?8:7)),m<1||!x[0])P=E?lr(l.charAt(1),-X,l.charAt(0)):l.charAt(0);else{if(x.length=m,E)for(--I;++x[--m]>I;)x[m]=0,m||(++v,x=[1].concat(x));for(w=x.length;!x[--w];);for(M=0,P="";M<=w;P+=l.charAt(x[M++]));P=lr(P,v,l.charAt(0))}return P}}(),t=function(){function A(S,I,y){var f,l,m,v,w=0,E=S.length,O=I%Mr,x=I/Mr|0;for(S=S.slice();E--;)m=S[E]%Mr,v=S[E]/Mr|0,f=x*m+v*O,l=O*m+f%Mr*Mr+w,w=(l/y|0)+(f/Mr|0)+x*v,S[E]=l%y;return w&&(S=[w].concat(S)),S}function N(S,I,y,f){var l,m;if(y!=f)m=y>f?1:-1;else for(l=m=0;l<y;l++)if(S[l]!=I[l]){m=S[l]>I[l]?1:-1;break}return m}function P(S,I,y,f){for(var l=0;y--;)S[y]-=l,l=S[y]<I[y]?1:0,S[y]=l*f+S[y]-I[y];for(;!S[0]&&S.length>1;S.splice(0,1));}return function(S,I,y,f,l){var m,v,w,E,O,x,h,M,X,p,B,U,q,z,et,j,Y,lt=S.s==I.s?1:-1,Q=S.c,V=I.c;if(!Q||!Q[0]||!V||!V[0])return new R(!S.s||!I.s||(Q?V&&Q[0]==V[0]:!V)?NaN:Q&&Q[0]==0||!V?lt*0:lt/0);for(M=new R(lt),X=M.c=[],v=S.e-I.e,lt=y+v+1,l||(l=Fe,v=Pe(S.e/st)-Pe(I.e/st),lt=lt/st|0),w=0;V[w]==(Q[w]||0);w++);if(V[w]>(Q[w]||0)&&v--,lt<0)X.push(1),E=!0;else{for(z=Q.length,j=V.length,w=0,lt+=2,O=je(l/(V[0]+1)),O>1&&(V=A(V,O,l),Q=A(Q,O,l),j=V.length,z=Q.length),q=j,p=Q.slice(0,j),B=p.length;B<j;p[B++]=0);Y=V.slice(),Y=[0].concat(Y),et=V[0],V[1]>=l/2&&et++;do{if(O=0,m=N(V,p,j,B),m<0){if(U=p[0],j!=B&&(U=U*l+(p[1]||0)),O=je(U/et),O>1)for(O>=l&&(O=l-1),x=A(V,O,l),h=x.length,B=p.length;N(x,p,h,B)==1;)O--,P(x,j<h?Y:V,h,l),h=x.length,m=1;else O==0&&(m=O=1),x=V.slice(),h=x.length;if(h<B&&(x=[0].concat(x)),P(p,x,B,l),B=p.length,m==-1)for(;N(V,p,j,B)<1;)O++,P(p,j<B?Y:V,B,l),B=p.length}else m===0&&(O++,p=[0]);X[w++]=O,p[0]?p[B++]=Q[q]||0:(p=[Q[q]],B=1)}while((q++<z||p[0]!=null)&&lt--);E=p[0]!=null,X[0]||X.splice(0,1)}if(l==Fe){for(w=1,lt=X[0];lt>=10;lt/=10,w++);K(M,y+(M.e=w+v*st-1)+1,f,E)}else M.e=v,M.r=+E;return M}}();function G(A,N,P,S){var I,y,f,l,m;if(P==null?P=a:$t(P,0,8),!A.c)return A.toString();if(I=A.c[0],f=A.e,N==null)m=ke(A.c),m=S==1||S==2&&(f<=u||f>=c)?Jn(m,f):lr(m,f,"0");else if(A=K(new R(A),N,P),y=A.e,m=ke(A.c),l=m.length,S==1||S==2&&(N<=y||y<=u)){for(;l<N;m+="0",l++);m=Jn(m,y)}else if(N-=f,m=lr(m,y,"0"),y+1>l){if(--N>0)for(m+=".";N--;m+="0");}else if(N+=y-l,N>0)for(y+1==l&&(m+=".");N--;m+="0");return A.s<0&&I?"-"+m:m}function W(A,N){for(var P,S=1,I=new R(A[0]);S<A.length;S++)if(P=new R(A[S]),P.s)N.call(I,P)&&(I=P);else{I=P;break}return I}function H(A,N,P){for(var S=1,I=N.length;!N[--I];N.pop());for(I=N[0];I>=10;I/=10,S++);return(P=S+P*st-1)>g?A.c=A.e=null:P<d?A.c=[A.e=0]:(A.e=P,A.c=N),A}n=function(){var A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,N=/^([^.]+)\.$/,P=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(y,f,l,m){var v,w=l?f:f.replace(I,"");if(S.test(w))y.s=isNaN(w)?null:w<0?-1:1;else{if(!l&&(w=w.replace(A,function(E,O,x){return v=(x=x.toLowerCase())=="x"?16:x=="b"?2:8,!m||m==v?O:E}),m&&(v=m,w=w.replace(N,"$1").replace(P,"0.$1")),f!=w))return new R(w,v);if(R.DEBUG)throw Error(pe+"Not a"+(m?" base "+m:"")+" number: "+f);y.s=null}y.c=y.e=null}}();function K(A,N,P,S){var I,y,f,l,m,v,w,E=A.c,O=oo;if(E){t:{for(I=1,l=E[0];l>=10;l/=10,I++);if(y=N-I,y<0)y+=st,f=N,m=E[v=0],w=m/O[I-f-1]%10|0;else if(v=no((y+1)/st),v>=E.length)if(S){for(;E.length<=v;E.push(0));m=w=0,I=1,y%=st,f=y-st+1}else break t;else{for(m=l=E[v],I=1;l>=10;l/=10,I++);y%=st,f=y-st+I,w=f<0?0:m/O[I-f-1]%10|0}if(S=S||N<0||E[v+1]!=null||(f<0?m:m%O[I-f-1]),S=P<4?(w||S)&&(P==0||P==(A.s<0?3:2)):w>5||w==5&&(P==4||S||P==6&&(y>0?f>0?m/O[I-f]:0:E[v-1])%10&1||P==(A.s<0?8:7)),N<1||!E[0])return E.length=0,S?(N-=A.e+1,E[0]=O[(st-N%st)%st],A.e=-N||0):E[0]=A.e=0,A;if(y==0?(E.length=v,l=1,v--):(E.length=v+1,l=O[st-y],E[v]=f>0?je(m/O[I-f]%O[f])*l:0),S)for(;;)if(v==0){for(y=1,f=E[0];f>=10;f/=10,y++);for(f=E[0]+=l,l=1;f>=10;f/=10,l++);y!=l&&(A.e++,E[0]==Fe&&(E[0]=1));break}else{if(E[v]+=l,E[v]!=Fe)break;E[v--]=0,l=1}for(y=E.length;E[--y]===0;E.pop());}A.e>g?A.c=A.e=null:A.e<d&&(A.c=[A.e=0])}return A}function tt(A){var N,P=A.e;return P===null?A.toString():(N=ke(A.c),N=P<=u||P>=c?Jn(N,P):lr(N,P,"0"),A.s<0?"-"+N:N)}return i.absoluteValue=i.abs=function(){var A=new R(this);return A.s<0&&(A.s=1),A},i.comparedTo=function(A,N){return un(this,new R(A,N))},i.decimalPlaces=i.dp=function(A,N){var P,S,I,y=this;if(A!=null)return $t(A,0,oe),N==null?N=a:$t(N,0,8),K(new R(y),A+y.e+1,N);if(!(P=y.c))return null;if(S=((I=P.length-1)-Pe(this.e/st))*st,I=P[I])for(;I%10==0;I/=10,S--);return S<0&&(S=0),S},i.dividedBy=i.div=function(A,N){return t(this,new R(A,N),s,a)},i.dividedToIntegerBy=i.idiv=function(A,N){return t(this,new R(A,N),0,1)},i.exponentiatedBy=i.pow=function(A,N){var P,S,I,y,f,l,m,v,w,E=this;if(A=new R(A),A.c&&!A.isInteger())throw Error(pe+"Exponent not an integer: "+tt(A));if(N!=null&&(N=new R(N)),l=A.e>14,!E.c||!E.c[0]||E.c[0]==1&&!E.e&&E.c.length==1||!A.c||!A.c[0])return w=new R(Math.pow(+tt(E),l?2-Zn(A):+tt(A))),N?w.mod(N):w;if(m=A.s<0,N){if(N.c?!N.c[0]:!N.s)return new R(NaN);S=!m&&E.isInteger()&&N.isInteger(),S&&(E=E.mod(N))}else{if(A.e>9&&(E.e>0||E.e<-1||(E.e==0?E.c[0]>1||l&&E.c[1]>=24e7:E.c[0]<8e13||l&&E.c[0]<=9999975e7)))return y=E.s<0&&Zn(A)?-0:0,E.e>-1&&(y=1/y),new R(m?1/y:y);T&&(y=no(T/st+2))}for(l?(P=new R(.5),m&&(A.s=1),v=Zn(A)):(I=Math.abs(+tt(A)),v=I%2),w=new R(o);;){if(v){if(w=w.times(E),!w.c)break;y?w.c.length>y&&(w.c.length=y):S&&(w=w.mod(N))}if(I){if(I=je(I/2),I===0)break;v=I%2}else if(A=A.times(P),K(A,A.e+1,1),A.e>14)v=Zn(A);else{if(I=+tt(A),I===0)break;v=I%2}E=E.times(E),y?E.c&&E.c.length>y&&(E.c.length=y):S&&(E=E.mod(N))}return S?w:(m&&(w=o.div(w)),N?w.mod(N):y?K(w,T,a,f):w)},i.integerValue=function(A){var N=new R(this);return A==null?A=a:$t(A,0,8),K(N,N.e+1,A)},i.isEqualTo=i.eq=function(A,N){return un(this,new R(A,N))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(A,N){return un(this,new R(A,N))>0},i.isGreaterThanOrEqualTo=i.gte=function(A,N){return(N=un(this,new R(A,N)))===1||N===0},i.isInteger=function(){return!!this.c&&Pe(this.e/st)>this.c.length-2},i.isLessThan=i.lt=function(A,N){return un(this,new R(A,N))<0},i.isLessThanOrEqualTo=i.lte=function(A,N){return(N=un(this,new R(A,N)))===-1||N===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(A,N){var P,S,I,y,f=this,l=f.s;if(A=new R(A,N),N=A.s,!l||!N)return new R(NaN);if(l!=N)return A.s=-N,f.plus(A);var m=f.e/st,v=A.e/st,w=f.c,E=A.c;if(!m||!v){if(!w||!E)return w?(A.s=-N,A):new R(E?f:NaN);if(!w[0]||!E[0])return E[0]?(A.s=-N,A):new R(w[0]?f:a==3?-0:0)}if(m=Pe(m),v=Pe(v),w=w.slice(),l=m-v){for((y=l<0)?(l=-l,I=w):(v=m,I=E),I.reverse(),N=l;N--;I.push(0));I.reverse()}else for(S=(y=(l=w.length)<(N=E.length))?l:N,l=N=0;N<S;N++)if(w[N]!=E[N]){y=w[N]<E[N];break}if(y&&(I=w,w=E,E=I,A.s=-A.s),N=(S=E.length)-(P=w.length),N>0)for(;N--;w[P++]=0);for(N=Fe-1;S>l;){if(w[--S]<E[S]){for(P=S;P&&!w[--P];w[P]=N);--w[P],w[S]+=Fe}w[S]-=E[S]}for(;w[0]==0;w.splice(0,1),--v);return w[0]?H(A,w,v):(A.s=a==3?-1:1,A.c=[A.e=0],A)},i.modulo=i.mod=function(A,N){var P,S,I=this;return A=new R(A,N),!I.c||!A.s||A.c&&!A.c[0]?new R(NaN):!A.c||I.c&&!I.c[0]?new R(I):(k==9?(S=A.s,A.s=1,P=t(I,A,0,3),A.s=S,P.s*=S):P=t(I,A,0,k),A=I.minus(P.times(A)),!A.c[0]&&k==1&&(A.s=I.s),A)},i.multipliedBy=i.times=function(A,N){var P,S,I,y,f,l,m,v,w,E,O,x,h,M,X,p=this,B=p.c,U=(A=new R(A,N)).c;if(!B||!U||!B[0]||!U[0])return!p.s||!A.s||B&&!B[0]&&!U||U&&!U[0]&&!B?A.c=A.e=A.s=null:(A.s*=p.s,!B||!U?A.c=A.e=null:(A.c=[0],A.e=0)),A;for(S=Pe(p.e/st)+Pe(A.e/st),A.s*=p.s,m=B.length,E=U.length,m<E&&(h=B,B=U,U=h,I=m,m=E,E=I),I=m+E,h=[];I--;h.push(0));for(M=Fe,X=Mr,I=E;--I>=0;){for(P=0,O=U[I]%X,x=U[I]/X|0,f=m,y=I+f;y>I;)v=B[--f]%X,w=B[f]/X|0,l=x*v+w*O,v=O*v+l%X*X+h[y]+P,P=(v/M|0)+(l/X|0)+x*w,h[y--]=v%M;h[y]=P}return P?++S:h.splice(0,1),H(A,h,S)},i.negated=function(){var A=new R(this);return A.s=-A.s||null,A},i.plus=function(A,N){var P,S=this,I=S.s;if(A=new R(A,N),N=A.s,!I||!N)return new R(NaN);if(I!=N)return A.s=-N,S.minus(A);var y=S.e/st,f=A.e/st,l=S.c,m=A.c;if(!y||!f){if(!l||!m)return new R(I/0);if(!l[0]||!m[0])return m[0]?A:new R(l[0]?S:I*0)}if(y=Pe(y),f=Pe(f),l=l.slice(),I=y-f){for(I>0?(f=y,P=m):(I=-I,P=l),P.reverse();I--;P.push(0));P.reverse()}for(I=l.length,N=m.length,I-N<0&&(P=m,m=l,l=P,N=I),I=0;N;)I=(l[--N]=l[N]+m[N]+I)/Fe|0,l[N]=Fe===l[N]?0:l[N]%Fe;return I&&(l=[I].concat(l),++f),H(A,l,f)},i.precision=i.sd=function(A,N){var P,S,I,y=this;if(A!=null&&A!==!!A)return $t(A,1,oe),N==null?N=a:$t(N,0,8),K(new R(y),A,N);if(!(P=y.c))return null;if(I=P.length-1,S=I*st+1,I=P[I]){for(;I%10==0;I/=10,S--);for(I=P[0];I>=10;I/=10,S++);}return A&&y.e+1>S&&(S=y.e+1),S},i.shiftedBy=function(A){return $t(A,-io,io),this.times("1e"+A)},i.squareRoot=i.sqrt=function(){var A,N,P,S,I,y=this,f=y.c,l=y.s,m=y.e,v=s+4,w=new R("0.5");if(l!==1||!f||!f[0])return new R(!l||l<0&&(!f||f[0])?NaN:f?y:1/0);if(l=Math.sqrt(+tt(y)),l==0||l==1/0?(N=ke(f),(N.length+m)%2==0&&(N+="0"),l=Math.sqrt(+N),m=Pe((m+1)/2)-(m<0||m%2),l==1/0?N="5e"+m:(N=l.toExponential(),N=N.slice(0,N.indexOf("e")+1)+m),P=new R(N)):P=new R(l+""),P.c[0]){for(m=P.e,l=m+v,l<3&&(l=0);;)if(I=P,P=w.times(I.plus(t(y,I,v,1))),ke(I.c).slice(0,l)===(N=ke(P.c)).slice(0,l))if(P.e<m&&--l,N=N.slice(l-3,l+1),N=="9999"||!S&&N=="4999"){if(!S&&(K(I,I.e+s+2,0),I.times(I).eq(y))){P=I;break}v+=4,l+=4,S=1}else{(!+N||!+N.slice(1)&&N.charAt(0)=="5")&&(K(P,P.e+s+2,1),A=!P.times(P).eq(y));break}}return K(P,P.e+s+1,a,A)},i.toExponential=function(A,N){return A!=null&&($t(A,0,oe),A++),G(this,A,N,1)},i.toFixed=function(A,N){return A!=null&&($t(A,0,oe),A=A+this.e+1),G(this,A,N)},i.toFormat=function(A,N,P){var S,I=this;if(P==null)A!=null&&N&&typeof N=="object"?(P=N,N=null):A&&typeof A=="object"?(P=A,A=N=null):P=C;else if(typeof P!="object")throw Error(pe+"Argument not an object: "+P);if(S=I.toFixed(A,N),I.c){var y,f=S.split("."),l=+P.groupSize,m=+P.secondaryGroupSize,v=P.groupSeparator||"",w=f[0],E=f[1],O=I.s<0,x=O?w.slice(1):w,h=x.length;if(m&&(y=l,l=m,m=y,h-=y),l>0&&h>0){for(y=h%l||l,w=x.substr(0,y);y<h;y+=l)w+=v+x.substr(y,l);m>0&&(w+=v+x.slice(y)),O&&(w="-"+w)}S=E?w+(P.decimalSeparator||"")+((m=+P.fractionGroupSize)?E.replace(new RegExp("\\d{"+m+"}\\B","g"),"$&"+(P.fractionGroupSeparator||"")):E):w}return(P.prefix||"")+S+(P.suffix||"")},i.toFraction=function(A){var N,P,S,I,y,f,l,m,v,w,E,O,x=this,h=x.c;if(A!=null&&(l=new R(A),!l.isInteger()&&(l.c||l.s!==1)||l.lt(o)))throw Error(pe+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+tt(l));if(!h)return new R(x);for(N=new R(o),v=P=new R(o),S=m=new R(o),O=ke(h),y=N.e=O.length-x.e-1,N.c[0]=oo[(f=y%st)<0?st+f:f],A=!A||l.comparedTo(N)>0?y>0?N:v:l,f=g,g=1/0,l=new R(O),m.c[0]=0;w=t(l,N,0,1),I=P.plus(w.times(S)),I.comparedTo(A)!=1;)P=S,S=I,v=m.plus(w.times(I=v)),m=I,N=l.minus(w.times(I=N)),l=I;return I=t(A.minus(P),S,0,1),m=m.plus(I.times(v)),P=P.plus(I.times(S)),m.s=v.s=x.s,y=y*2,E=t(v,S,y,a).minus(x).abs().comparedTo(t(m,P,y,a).minus(x).abs())<1?[v,S]:[m,P],g=f,E},i.toNumber=function(){return+tt(this)},i.toPrecision=function(A,N){return A!=null&&$t(A,1,oe),G(this,A,N,2)},i.toString=function(A){var N,P=this,S=P.s,I=P.e;return I===null?S?(N="Infinity",S<0&&(N="-"+N)):N="NaN":(A==null?N=I<=u||I>=c?Jn(ke(P.c),I):lr(ke(P.c),I,"0"):A===10&&D?(P=K(new R(P),s+I+1,a),N=lr(ke(P.c),P.e,"0")):($t(A,2,F.length,"Base"),N=e(lr(ke(P.c),I,"0"),10,A,S,!0)),S<0&&P.c[0]&&(N="-"+N)),N},i.valueOf=i.toJSON=function(){return tt(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,r!=null&&R.set(r),R}function Pe(r){var t=r|0;return r>0||r===t?t:t-1}function ke(r){for(var t,e,n=1,i=r.length,o=r[0]+"";n<i;){for(t=r[n++]+"",e=st-t.length;e--;t="0"+t);o+=t}for(i=o.length;o.charCodeAt(--i)===48;);return o.slice(0,i+1||1)}function un(r,t){var e,n,i=r.c,o=t.c,s=r.s,a=t.s,u=r.e,c=t.e;if(!s||!a)return null;if(e=i&&!i[0],n=o&&!o[0],e||n)return e?n?0:-a:s;if(s!=a)return s;if(e=s<0,n=u==c,!i||!o)return n?0:!i^e?1:-1;if(!n)return u>c^e?1:-1;for(a=(u=i.length)<(c=o.length)?u:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^e?1:-1;return u==c?0:u>c^e?1:-1}function $t(r,t,e,n){if(r<t||r>e||r!==je(r))throw Error(pe+(n||"Argument")+(typeof r=="number"?r<t||r>e?" out of range: ":" not an integer: ":" not a primitive number: ")+String(r))}function Zn(r){var t=r.c.length-1;return Pe(r.e/st)==t&&r.c[t]%2!=0}function Jn(r,t){return(r.length>1?r.charAt(0)+"."+r.slice(1):r)+(t<0?"e":"e+")+t}function lr(r,t,e){var n,i;if(t<0){for(i=e+".";++t;i+=e);r=i+r}else if(n=r.length,++t>n){for(i=e,t-=n;--t;i+=e);r+=i}else t<n&&(r=r.slice(0,t)+"."+r.slice(t));return r}var he=Ha();const Nu="logger/5.7.0";let gs=!1,ms=!1;const ai={debug:1,default:2,info:2,warning:3,error:4,off:5};let ps=ai.default,so=null;function Mu(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{r.push(t)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const vs=Mu();var Po;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Po||(Po={}));var ze;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(ze||(ze={}));const ws="0123456789abcdef";class L{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const n=t.toLowerCase();ai[n]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(ps>ai[n])&&console.log.apply(console,e)}debug(...t){this._log(L.levels.DEBUG,t)}info(...t){this._log(L.levels.INFO,t)}warn(...t){this._log(L.levels.WARNING,t)}makeError(t,e,n){if(ms)return this.makeError("censored error",e,{});e||(e=L.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(u=>{const c=n[u];try{if(c instanceof Uint8Array){let d="";for(let g=0;g<c.length;g++)d+=ws[c[g]>>4],d+=ws[c[g]&15];i.push(u+"=Uint8Array(0x"+d+")")}else i.push(u+"="+JSON.stringify(c))}catch{i.push(u+"="+JSON.stringify(n[u].toString()))}}),i.push(`code=${e}`),i.push(`version=${this.version}`);const o=t;let s="";switch(e){case ze.NUMERIC_FAULT:{s="NUMERIC_FAULT";const u=t;switch(u){case"overflow":case"underflow":case"division-by-zero":s+="-"+u;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case ze.CALL_EXCEPTION:case ze.INSUFFICIENT_FUNDS:case ze.MISSING_NEW:case ze.NONCE_EXPIRED:case ze.REPLACEMENT_UNDERPRICED:case ze.TRANSACTION_REPLACED:case ze.UNPREDICTABLE_GAS_LIMIT:s=e;break}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const a=new Error(t);return a.reason=o,a.code=e,Object.keys(n).forEach(function(u){a[u]=n[u]}),a}throwError(t,e,n){throw this.makeError(t,e,n)}throwArgumentError(t,e,n){return this.throwError(t,L.errors.INVALID_ARGUMENT,{argument:e,value:n})}assert(t,e,n,i){t||this.throwError(e,n,i)}assertArgument(t,e,n,i){t||this.throwArgumentError(e,n,i)}checkNormalize(t){vs&&this.throwError("platform missing String.prototype.normalize",L.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:vs})}checkSafeUint53(t,e){typeof t=="number"&&(e==null&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,L.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,L.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,n){n?n=": "+n:n="",t<e&&this.throwError("missing argument"+n,L.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+n,L.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||t==null)&&this.throwError("missing new",L.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",L.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",L.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return so||(so=new L(Nu)),so}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",L.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),gs){if(!t)return;this.globalLogger().throwError("error censorship permanent",L.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ms=!!t,gs=!!e}static setLogLevel(t){const e=ai[t.toLowerCase()];if(e==null){L.globalLogger().warn("invalid log level - "+t);return}ps=e}static from(t){return new L(t)}}L.errors=ze;L.levels=Po;const ku="bytes/5.7.0",Jt=new L(ku);function Ka(r){return!!r.toHexString}function mn(r){return r.slice||(r.slice=function(){const t=Array.prototype.slice.call(arguments);return mn(new Uint8Array(Array.prototype.slice.apply(r,t)))}),r}function Qo(r){return gt(r)&&!(r.length%2)||Ri(r)}function ys(r){return typeof r=="number"&&r==r&&r%1===0}function Ri(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!ys(r.length)||r.length<0)return!1;for(let t=0;t<r.length;t++){const e=r[t];if(!ys(e)||e<0||e>=256)return!1}return!0}function nt(r,t){if(t||(t={}),typeof r=="number"){Jt.checkSafeUint53(r,"invalid arrayify value");const e=[];for(;r;)e.unshift(r&255),r=parseInt(String(r/256));return e.length===0&&e.push(0),mn(new Uint8Array(e))}if(t.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Ka(r)&&(r=r.toHexString()),gt(r)){let e=r.substring(2);e.length%2&&(t.hexPad==="left"?e="0"+e:t.hexPad==="right"?e+="0":Jt.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<e.length;i+=2)n.push(parseInt(e.substring(i,i+2),16));return mn(new Uint8Array(n))}return Ri(r)?mn(new Uint8Array(r)):Jt.throwArgumentError("invalid arrayify value","value",r)}function Ze(r){const t=r.map(i=>nt(i)),e=t.reduce((i,o)=>i+o.length,0),n=new Uint8Array(e);return t.reduce((i,o)=>(n.set(o,i),i+o.length),0),mn(n)}function vn(r){let t=nt(r);if(t.length===0)return t;let e=0;for(;e<t.length&&t[e]===0;)e++;return e&&(t=t.slice(e)),t}function fi(r,t){r=nt(r),r.length>t&&Jt.throwArgumentError("value out of range","value",arguments[0]);const e=new Uint8Array(t);return e.set(r,t-r.length),mn(e)}function gt(r,t){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||t&&r.length!==2+2*t)}const ao="0123456789abcdef";function at(r,t){if(t||(t={}),typeof r=="number"){Jt.checkSafeUint53(r,"invalid hexlify value");let e="";for(;r;)e=ao[r&15]+e,r=Math.floor(r/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(t.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Ka(r))return r.toHexString();if(gt(r))return r.length%2&&(t.hexPad==="left"?r="0x0"+r.substring(2):t.hexPad==="right"?r+="0":Jt.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(Ri(r)){let e="0x";for(let n=0;n<r.length;n++){let i=r[n];e+=ao[(i&240)>>4]+ao[i&15]}return e}return Jt.throwArgumentError("invalid hexlify value","value",r)}function mr(r){if(typeof r!="string")r=at(r);else if(!gt(r)||r.length%2)return null;return(r.length-2)/2}function le(r,t,e){return typeof r!="string"?r=at(r):(!gt(r)||r.length%2)&&Jt.throwArgumentError("invalid hexData","value",r),t=2+2*t,e!=null?"0x"+r.substring(t,2+2*e):"0x"+r.substring(t)}function Ee(r){let t="0x";return r.forEach(e=>{t+=at(e).substring(2)}),t}function jo(r){const t=Cu(at(r,{hexPad:"left"}));return t==="0x"?"0x0":t}function Cu(r){typeof r!="string"&&(r=at(r)),gt(r)||Jt.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let t=0;for(;t<r.length&&r[t]==="0";)t++;return"0x"+r.substring(t)}function ee(r,t){for(typeof r!="string"?r=at(r):gt(r)||Jt.throwArgumentError("invalid hex string","value",r),r.length>2*t+2&&Jt.throwArgumentError("value out of range","value",arguments[1]);r.length<2*t+2;)r="0x0"+r.substring(2);return r}function Ti(r){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Qo(r)){let e=nt(r);e.length===64?(t.v=27+(e[32]>>7),e[32]&=127,t.r=at(e.slice(0,32)),t.s=at(e.slice(32,64))):e.length===65?(t.r=at(e.slice(0,32)),t.s=at(e.slice(32,64)),t.v=e[64]):Jt.throwArgumentError("invalid signature string","signature",r),t.v<27&&(t.v===0||t.v===1?t.v+=27:Jt.throwArgumentError("signature invalid v byte","signature",r)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(e[32]|=128),t._vs=at(e.slice(32,64))}else{if(t.r=r.r,t.s=r.s,t.v=r.v,t.recoveryParam=r.recoveryParam,t._vs=r._vs,t._vs!=null){const i=fi(nt(t._vs),32);t._vs=at(i);const o=i[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=o:t.recoveryParam!==o&&Jt.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const s=at(i);t.s==null?t.s=s:t.s!==s&&Jt.throwArgumentError("signature v mismatch _vs","signature",r)}if(t.recoveryParam==null)t.v==null?Jt.throwArgumentError("signature missing v and recoveryParam","signature",r):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const i=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==i&&Jt.throwArgumentError("signature recoveryParam mismatch v","signature",r)}t.r==null||!gt(t.r)?Jt.throwArgumentError("signature missing or invalid r","signature",r):t.r=ee(t.r,32),t.s==null||!gt(t.s)?Jt.throwArgumentError("signature missing or invalid s","signature",r):t.s=ee(t.s,32);const e=nt(t.s);e[0]>=128&&Jt.throwArgumentError("signature s out of range","signature",r),t.recoveryParam&&(e[0]|=128);const n=at(e);t._vs&&(gt(t._vs)||Jt.throwArgumentError("signature invalid _vs","signature",r),t._vs=ee(t._vs,32)),t._vs==null?t._vs=n:t._vs!==n&&Jt.throwArgumentError("signature _vs mismatch v and s","signature",r)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var Wa={exports:{}};const Pu={},Ru=Object.freeze(Object.defineProperty({__proto__:null,default:Pu},Symbol.toStringTag,{value:"Module"})),Tu=vu(Ru);(function(r){(function(t,e){function n(y,f){if(!y)throw new Error(f||"Assertion failed")}function i(y,f){y.super_=f;var l=function(){};l.prototype=f.prototype,y.prototype=new l,y.prototype.constructor=y}function o(y,f,l){if(o.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((f==="le"||f==="be")&&(l=f,f=10),this._init(y||0,f||10,l||"be"))}typeof t=="object"?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Tu.Buffer}catch{}o.isBN=function(f){return f instanceof o?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===o.wordSize&&Array.isArray(f.words)},o.max=function(f,l){return f.cmp(l)>0?f:l},o.min=function(f,l){return f.cmp(l)<0?f:l},o.prototype._init=function(f,l,m){if(typeof f=="number")return this._initNumber(f,l,m);if(typeof f=="object")return this._initArray(f,l,m);l==="hex"&&(l=16),n(l===(l|0)&&l>=2&&l<=36),f=f.toString().replace(/\s+/g,"");var v=0;f[0]==="-"&&(v++,this.negative=1),v<f.length&&(l===16?this._parseHex(f,v,m):(this._parseBase(f,l,v),m==="le"&&this._initArray(this.toArray(),l,m)))},o.prototype._initNumber=function(f,l,m){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),l,m)},o.prototype._initArray=function(f,l,m){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w,E,O=0;if(m==="be")for(v=f.length-1,w=0;v>=0;v-=3)E=f[v]|f[v-1]<<8|f[v-2]<<16,this.words[w]|=E<<O&67108863,this.words[w+1]=E>>>26-O&67108863,O+=24,O>=26&&(O-=26,w++);else if(m==="le")for(v=0,w=0;v<f.length;v+=3)E=f[v]|f[v+1]<<8|f[v+2]<<16,this.words[w]|=E<<O&67108863,this.words[w+1]=E>>>26-O&67108863,O+=24,O>=26&&(O-=26,w++);return this._strip()};function a(y,f){var l=y.charCodeAt(f);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;n(!1,"Invalid character in "+y)}function u(y,f,l){var m=a(y,l);return l-1>=f&&(m|=a(y,l-1)<<4),m}o.prototype._parseHex=function(f,l,m){this.length=Math.ceil((f.length-l)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w=0,E=0,O;if(m==="be")for(v=f.length-1;v>=l;v-=2)O=u(f,l,v)<<w,this.words[E]|=O&67108863,w>=18?(w-=18,E+=1,this.words[E]|=O>>>26):w+=8;else{var x=f.length-l;for(v=x%2===0?l+1:l;v<f.length;v+=2)O=u(f,l,v)<<w,this.words[E]|=O&67108863,w>=18?(w-=18,E+=1,this.words[E]|=O>>>26):w+=8}this._strip()};function c(y,f,l,m){for(var v=0,w=0,E=Math.min(y.length,l),O=f;O<E;O++){var x=y.charCodeAt(O)-48;v*=m,x>=49?w=x-49+10:x>=17?w=x-17+10:w=x,n(x>=0&&w<m,"Invalid character"),v+=w}return v}o.prototype._parseBase=function(f,l,m){this.words=[0],this.length=1;for(var v=0,w=1;w<=67108863;w*=l)v++;v--,w=w/l|0;for(var E=f.length-m,O=E%v,x=Math.min(E,E-O)+m,h=0,M=m;M<x;M+=v)h=c(f,M,M+v,l),this.imuln(w),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(O!==0){var X=1;for(h=c(f,M,f.length,l),M=0;M<O;M++)X*=l;this.imuln(X),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},o.prototype.copy=function(f){f.words=new Array(this.length);for(var l=0;l<this.length;l++)f.words[l]=this.words[l];f.length=this.length,f.negative=this.negative,f.red=this.red};function d(y,f){y.words=f.words,y.length=f.length,y.negative=f.negative,y.red=f.red}if(o.prototype._move=function(f){d(f,this)},o.prototype.clone=function(){var f=new o(null);return this.copy(f),f},o.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{o.prototype.inspect=g}else o.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(f,l){f=f||10,l=l|0||1;var m;if(f===16||f==="hex"){m="";for(var v=0,w=0,E=0;E<this.length;E++){var O=this.words[E],x=((O<<v|w)&16777215).toString(16);w=O>>>24-v&16777215,v+=2,v>=26&&(v-=26,E--),w!==0||E!==this.length-1?m=_[6-x.length]+x+m:m=x+m}for(w!==0&&(m=w.toString(16)+m);m.length%l!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(f===(f|0)&&f>=2&&f<=36){var h=k[f],M=T[f];m="";var X=this.clone();for(X.negative=0;!X.isZero();){var p=X.modrn(M).toString(f);X=X.idivn(M),X.isZero()?m=p+m:m=_[h-p.length]+p+m}for(this.isZero()&&(m="0"+m);m.length%l!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(f,l){return this.toArrayLike(s,f,l)}),o.prototype.toArray=function(f,l){return this.toArrayLike(Array,f,l)};var C=function(f,l){return f.allocUnsafe?f.allocUnsafe(l):new f(l)};o.prototype.toArrayLike=function(f,l,m){this._strip();var v=this.byteLength(),w=m||Math.max(1,v);n(v<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0");var E=C(f,w),O=l==="le"?"LE":"BE";return this["_toArrayLike"+O](E,v),E},o.prototype._toArrayLikeLE=function(f,l){for(var m=0,v=0,w=0,E=0;w<this.length;w++){var O=this.words[w]<<E|v;f[m++]=O&255,m<f.length&&(f[m++]=O>>8&255),m<f.length&&(f[m++]=O>>16&255),E===6?(m<f.length&&(f[m++]=O>>24&255),v=0,E=0):(v=O>>>24,E+=2)}if(m<f.length)for(f[m++]=v;m<f.length;)f[m++]=0},o.prototype._toArrayLikeBE=function(f,l){for(var m=f.length-1,v=0,w=0,E=0;w<this.length;w++){var O=this.words[w]<<E|v;f[m--]=O&255,m>=0&&(f[m--]=O>>8&255),m>=0&&(f[m--]=O>>16&255),E===6?(m>=0&&(f[m--]=O>>24&255),v=0,E=0):(v=O>>>24,E+=2)}if(m>=0)for(f[m--]=v;m>=0;)f[m--]=0},Math.clz32?o.prototype._countBits=function(f){return 32-Math.clz32(f)}:o.prototype._countBits=function(f){var l=f,m=0;return l>=4096&&(m+=13,l>>>=13),l>=64&&(m+=7,l>>>=7),l>=8&&(m+=4,l>>>=4),l>=2&&(m+=2,l>>>=2),m+l},o.prototype._zeroBits=function(f){if(f===0)return 26;var l=f,m=0;return(l&8191)===0&&(m+=13,l>>>=13),(l&127)===0&&(m+=7,l>>>=7),(l&15)===0&&(m+=4,l>>>=4),(l&3)===0&&(m+=2,l>>>=2),(l&1)===0&&m++,m},o.prototype.bitLength=function(){var f=this.words[this.length-1],l=this._countBits(f);return(this.length-1)*26+l};function F(y){for(var f=new Array(y.bitLength()),l=0;l<f.length;l++){var m=l/26|0,v=l%26;f[l]=y.words[m]>>>v&1}return f}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,l=0;l<this.length;l++){var m=this._zeroBits(this.words[l]);if(f+=m,m!==26)break}return f},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},o.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var l=0;l<f.length;l++)this.words[l]=this.words[l]|f.words[l];return this._strip()},o.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},o.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},o.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},o.prototype.iuand=function(f){var l;this.length>f.length?l=f:l=this;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]&f.words[m];return this.length=l.length,this._strip()},o.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},o.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},o.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},o.prototype.iuxor=function(f){var l,m;this.length>f.length?(l=this,m=f):(l=f,m=this);for(var v=0;v<m.length;v++)this.words[v]=l.words[v]^m.words[v];if(this!==l)for(;v<l.length;v++)this.words[v]=l.words[v];return this.length=l.length,this._strip()},o.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},o.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},o.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},o.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var l=Math.ceil(f/26)|0,m=f%26;this._expand(l),m>0&&l--;for(var v=0;v<l;v++)this.words[v]=~this.words[v]&67108863;return m>0&&(this.words[v]=~this.words[v]&67108863>>26-m),this._strip()},o.prototype.notn=function(f){return this.clone().inotn(f)},o.prototype.setn=function(f,l){n(typeof f=="number"&&f>=0);var m=f/26|0,v=f%26;return this._expand(m+1),l?this.words[m]=this.words[m]|1<<v:this.words[m]=this.words[m]&~(1<<v),this._strip()},o.prototype.iadd=function(f){var l;if(this.negative!==0&&f.negative===0)return this.negative=0,l=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,l=this.isub(f),f.negative=1,l._normSign();var m,v;this.length>f.length?(m=this,v=f):(m=f,v=this);for(var w=0,E=0;E<v.length;E++)l=(m.words[E]|0)+(v.words[E]|0)+w,this.words[E]=l&67108863,w=l>>>26;for(;w!==0&&E<m.length;E++)l=(m.words[E]|0)+w,this.words[E]=l&67108863,w=l>>>26;if(this.length=m.length,w!==0)this.words[this.length]=w,this.length++;else if(m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this},o.prototype.add=function(f){var l;return f.negative!==0&&this.negative===0?(f.negative=0,l=this.sub(f),f.negative^=1,l):f.negative===0&&this.negative!==0?(this.negative=0,l=f.sub(this),this.negative=1,l):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},o.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var l=this.iadd(f);return f.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var m=this.cmp(f);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,w;m>0?(v=this,w=f):(v=f,w=this);for(var E=0,O=0;O<w.length;O++)l=(v.words[O]|0)-(w.words[O]|0)+E,E=l>>26,this.words[O]=l&67108863;for(;E!==0&&O<v.length;O++)l=(v.words[O]|0)+E,E=l>>26,this.words[O]=l&67108863;if(E===0&&O<v.length&&v!==this)for(;O<v.length;O++)this.words[O]=v.words[O];return this.length=Math.max(this.length,O),v!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(f){return this.clone().isub(f)};function D(y,f,l){l.negative=f.negative^y.negative;var m=y.length+f.length|0;l.length=m,m=m-1|0;var v=y.words[0]|0,w=f.words[0]|0,E=v*w,O=E&67108863,x=E/67108864|0;l.words[0]=O;for(var h=1;h<m;h++){for(var M=x>>>26,X=x&67108863,p=Math.min(h,f.length-1),B=Math.max(0,h-y.length+1);B<=p;B++){var U=h-B|0;v=y.words[U]|0,w=f.words[B]|0,E=v*w+X,M+=E/67108864|0,X=E&67108863}l.words[h]=X|0,x=M|0}return x!==0?l.words[h]=x|0:l.length--,l._strip()}var R=function(f,l,m){var v=f.words,w=l.words,E=m.words,O=0,x,h,M,X=v[0]|0,p=X&8191,B=X>>>13,U=v[1]|0,q=U&8191,z=U>>>13,et=v[2]|0,j=et&8191,Y=et>>>13,lt=v[3]|0,Q=lt&8191,V=lt>>>13,Br=v[4]|0,mt=Br&8191,pt=Br>>>13,Lr=v[5]|0,vt=Lr&8191,wt=Lr>>>13,Ur=v[6]|0,yt=Ur&8191,bt=Ur>>>13,qr=v[7]|0,At=qr&8191,_t=qr>>>13,Gr=v[8]|0,xt=Gr&8191,Et=Gr>>>13,zr=v[9]|0,Nt=zr&8191,Mt=zr>>>13,Hr=w[0]|0,kt=Hr&8191,Ct=Hr>>>13,Kr=w[1]|0,Pt=Kr&8191,Rt=Kr>>>13,Wr=w[2]|0,Tt=Wr&8191,Ot=Wr>>>13,Qr=w[3]|0,It=Qr&8191,St=Qr>>>13,jr=w[4]|0,Dt=jr&8191,Ft=jr>>>13,Yr=w[5]|0,Bt=Yr&8191,Lt=Yr>>>13,Xr=w[6]|0,Ut=Xr&8191,qt=Xr>>>13,Vr=w[7]|0,Gt=Vr&8191,zt=Vr>>>13,$r=w[8]|0,Ht=$r&8191,Kt=$r>>>13,Zr=w[9]|0,Wt=Zr&8191,Qt=Zr>>>13;m.negative=f.negative^l.negative,m.length=19,x=Math.imul(p,kt),h=Math.imul(p,Ct),h=h+Math.imul(B,kt)|0,M=Math.imul(B,Ct);var Ar=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,x=Math.imul(q,kt),h=Math.imul(q,Ct),h=h+Math.imul(z,kt)|0,M=Math.imul(z,Ct),x=x+Math.imul(p,Pt)|0,h=h+Math.imul(p,Rt)|0,h=h+Math.imul(B,Pt)|0,M=M+Math.imul(B,Rt)|0;var _r=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(_r>>>26)|0,_r&=67108863,x=Math.imul(j,kt),h=Math.imul(j,Ct),h=h+Math.imul(Y,kt)|0,M=Math.imul(Y,Ct),x=x+Math.imul(q,Pt)|0,h=h+Math.imul(q,Rt)|0,h=h+Math.imul(z,Pt)|0,M=M+Math.imul(z,Rt)|0,x=x+Math.imul(p,Tt)|0,h=h+Math.imul(p,Ot)|0,h=h+Math.imul(B,Tt)|0,M=M+Math.imul(B,Ot)|0;var xr=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(xr>>>26)|0,xr&=67108863,x=Math.imul(Q,kt),h=Math.imul(Q,Ct),h=h+Math.imul(V,kt)|0,M=Math.imul(V,Ct),x=x+Math.imul(j,Pt)|0,h=h+Math.imul(j,Rt)|0,h=h+Math.imul(Y,Pt)|0,M=M+Math.imul(Y,Rt)|0,x=x+Math.imul(q,Tt)|0,h=h+Math.imul(q,Ot)|0,h=h+Math.imul(z,Tt)|0,M=M+Math.imul(z,Ot)|0,x=x+Math.imul(p,It)|0,h=h+Math.imul(p,St)|0,h=h+Math.imul(B,It)|0,M=M+Math.imul(B,St)|0;var Er=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(Er>>>26)|0,Er&=67108863,x=Math.imul(mt,kt),h=Math.imul(mt,Ct),h=h+Math.imul(pt,kt)|0,M=Math.imul(pt,Ct),x=x+Math.imul(Q,Pt)|0,h=h+Math.imul(Q,Rt)|0,h=h+Math.imul(V,Pt)|0,M=M+Math.imul(V,Rt)|0,x=x+Math.imul(j,Tt)|0,h=h+Math.imul(j,Ot)|0,h=h+Math.imul(Y,Tt)|0,M=M+Math.imul(Y,Ot)|0,x=x+Math.imul(q,It)|0,h=h+Math.imul(q,St)|0,h=h+Math.imul(z,It)|0,M=M+Math.imul(z,St)|0,x=x+Math.imul(p,Dt)|0,h=h+Math.imul(p,Ft)|0,h=h+Math.imul(B,Dt)|0,M=M+Math.imul(B,Ft)|0;var Nr=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(vt,kt),h=Math.imul(vt,Ct),h=h+Math.imul(wt,kt)|0,M=Math.imul(wt,Ct),x=x+Math.imul(mt,Pt)|0,h=h+Math.imul(mt,Rt)|0,h=h+Math.imul(pt,Pt)|0,M=M+Math.imul(pt,Rt)|0,x=x+Math.imul(Q,Tt)|0,h=h+Math.imul(Q,Ot)|0,h=h+Math.imul(V,Tt)|0,M=M+Math.imul(V,Ot)|0,x=x+Math.imul(j,It)|0,h=h+Math.imul(j,St)|0,h=h+Math.imul(Y,It)|0,M=M+Math.imul(Y,St)|0,x=x+Math.imul(q,Dt)|0,h=h+Math.imul(q,Ft)|0,h=h+Math.imul(z,Dt)|0,M=M+Math.imul(z,Ft)|0,x=x+Math.imul(p,Bt)|0,h=h+Math.imul(p,Lt)|0,h=h+Math.imul(B,Bt)|0,M=M+Math.imul(B,Lt)|0;var Hi=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,x=Math.imul(yt,kt),h=Math.imul(yt,Ct),h=h+Math.imul(bt,kt)|0,M=Math.imul(bt,Ct),x=x+Math.imul(vt,Pt)|0,h=h+Math.imul(vt,Rt)|0,h=h+Math.imul(wt,Pt)|0,M=M+Math.imul(wt,Rt)|0,x=x+Math.imul(mt,Tt)|0,h=h+Math.imul(mt,Ot)|0,h=h+Math.imul(pt,Tt)|0,M=M+Math.imul(pt,Ot)|0,x=x+Math.imul(Q,It)|0,h=h+Math.imul(Q,St)|0,h=h+Math.imul(V,It)|0,M=M+Math.imul(V,St)|0,x=x+Math.imul(j,Dt)|0,h=h+Math.imul(j,Ft)|0,h=h+Math.imul(Y,Dt)|0,M=M+Math.imul(Y,Ft)|0,x=x+Math.imul(q,Bt)|0,h=h+Math.imul(q,Lt)|0,h=h+Math.imul(z,Bt)|0,M=M+Math.imul(z,Lt)|0,x=x+Math.imul(p,Ut)|0,h=h+Math.imul(p,qt)|0,h=h+Math.imul(B,Ut)|0,M=M+Math.imul(B,qt)|0;var Ki=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,x=Math.imul(At,kt),h=Math.imul(At,Ct),h=h+Math.imul(_t,kt)|0,M=Math.imul(_t,Ct),x=x+Math.imul(yt,Pt)|0,h=h+Math.imul(yt,Rt)|0,h=h+Math.imul(bt,Pt)|0,M=M+Math.imul(bt,Rt)|0,x=x+Math.imul(vt,Tt)|0,h=h+Math.imul(vt,Ot)|0,h=h+Math.imul(wt,Tt)|0,M=M+Math.imul(wt,Ot)|0,x=x+Math.imul(mt,It)|0,h=h+Math.imul(mt,St)|0,h=h+Math.imul(pt,It)|0,M=M+Math.imul(pt,St)|0,x=x+Math.imul(Q,Dt)|0,h=h+Math.imul(Q,Ft)|0,h=h+Math.imul(V,Dt)|0,M=M+Math.imul(V,Ft)|0,x=x+Math.imul(j,Bt)|0,h=h+Math.imul(j,Lt)|0,h=h+Math.imul(Y,Bt)|0,M=M+Math.imul(Y,Lt)|0,x=x+Math.imul(q,Ut)|0,h=h+Math.imul(q,qt)|0,h=h+Math.imul(z,Ut)|0,M=M+Math.imul(z,qt)|0,x=x+Math.imul(p,Gt)|0,h=h+Math.imul(p,zt)|0,h=h+Math.imul(B,Gt)|0,M=M+Math.imul(B,zt)|0;var Wi=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,x=Math.imul(xt,kt),h=Math.imul(xt,Ct),h=h+Math.imul(Et,kt)|0,M=Math.imul(Et,Ct),x=x+Math.imul(At,Pt)|0,h=h+Math.imul(At,Rt)|0,h=h+Math.imul(_t,Pt)|0,M=M+Math.imul(_t,Rt)|0,x=x+Math.imul(yt,Tt)|0,h=h+Math.imul(yt,Ot)|0,h=h+Math.imul(bt,Tt)|0,M=M+Math.imul(bt,Ot)|0,x=x+Math.imul(vt,It)|0,h=h+Math.imul(vt,St)|0,h=h+Math.imul(wt,It)|0,M=M+Math.imul(wt,St)|0,x=x+Math.imul(mt,Dt)|0,h=h+Math.imul(mt,Ft)|0,h=h+Math.imul(pt,Dt)|0,M=M+Math.imul(pt,Ft)|0,x=x+Math.imul(Q,Bt)|0,h=h+Math.imul(Q,Lt)|0,h=h+Math.imul(V,Bt)|0,M=M+Math.imul(V,Lt)|0,x=x+Math.imul(j,Ut)|0,h=h+Math.imul(j,qt)|0,h=h+Math.imul(Y,Ut)|0,M=M+Math.imul(Y,qt)|0,x=x+Math.imul(q,Gt)|0,h=h+Math.imul(q,zt)|0,h=h+Math.imul(z,Gt)|0,M=M+Math.imul(z,zt)|0,x=x+Math.imul(p,Ht)|0,h=h+Math.imul(p,Kt)|0,h=h+Math.imul(B,Ht)|0,M=M+Math.imul(B,Kt)|0;var Qi=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,x=Math.imul(Nt,kt),h=Math.imul(Nt,Ct),h=h+Math.imul(Mt,kt)|0,M=Math.imul(Mt,Ct),x=x+Math.imul(xt,Pt)|0,h=h+Math.imul(xt,Rt)|0,h=h+Math.imul(Et,Pt)|0,M=M+Math.imul(Et,Rt)|0,x=x+Math.imul(At,Tt)|0,h=h+Math.imul(At,Ot)|0,h=h+Math.imul(_t,Tt)|0,M=M+Math.imul(_t,Ot)|0,x=x+Math.imul(yt,It)|0,h=h+Math.imul(yt,St)|0,h=h+Math.imul(bt,It)|0,M=M+Math.imul(bt,St)|0,x=x+Math.imul(vt,Dt)|0,h=h+Math.imul(vt,Ft)|0,h=h+Math.imul(wt,Dt)|0,M=M+Math.imul(wt,Ft)|0,x=x+Math.imul(mt,Bt)|0,h=h+Math.imul(mt,Lt)|0,h=h+Math.imul(pt,Bt)|0,M=M+Math.imul(pt,Lt)|0,x=x+Math.imul(Q,Ut)|0,h=h+Math.imul(Q,qt)|0,h=h+Math.imul(V,Ut)|0,M=M+Math.imul(V,qt)|0,x=x+Math.imul(j,Gt)|0,h=h+Math.imul(j,zt)|0,h=h+Math.imul(Y,Gt)|0,M=M+Math.imul(Y,zt)|0,x=x+Math.imul(q,Ht)|0,h=h+Math.imul(q,Kt)|0,h=h+Math.imul(z,Ht)|0,M=M+Math.imul(z,Kt)|0,x=x+Math.imul(p,Wt)|0,h=h+Math.imul(p,Qt)|0,h=h+Math.imul(B,Wt)|0,M=M+Math.imul(B,Qt)|0;var ji=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(ji>>>26)|0,ji&=67108863,x=Math.imul(Nt,Pt),h=Math.imul(Nt,Rt),h=h+Math.imul(Mt,Pt)|0,M=Math.imul(Mt,Rt),x=x+Math.imul(xt,Tt)|0,h=h+Math.imul(xt,Ot)|0,h=h+Math.imul(Et,Tt)|0,M=M+Math.imul(Et,Ot)|0,x=x+Math.imul(At,It)|0,h=h+Math.imul(At,St)|0,h=h+Math.imul(_t,It)|0,M=M+Math.imul(_t,St)|0,x=x+Math.imul(yt,Dt)|0,h=h+Math.imul(yt,Ft)|0,h=h+Math.imul(bt,Dt)|0,M=M+Math.imul(bt,Ft)|0,x=x+Math.imul(vt,Bt)|0,h=h+Math.imul(vt,Lt)|0,h=h+Math.imul(wt,Bt)|0,M=M+Math.imul(wt,Lt)|0,x=x+Math.imul(mt,Ut)|0,h=h+Math.imul(mt,qt)|0,h=h+Math.imul(pt,Ut)|0,M=M+Math.imul(pt,qt)|0,x=x+Math.imul(Q,Gt)|0,h=h+Math.imul(Q,zt)|0,h=h+Math.imul(V,Gt)|0,M=M+Math.imul(V,zt)|0,x=x+Math.imul(j,Ht)|0,h=h+Math.imul(j,Kt)|0,h=h+Math.imul(Y,Ht)|0,M=M+Math.imul(Y,Kt)|0,x=x+Math.imul(q,Wt)|0,h=h+Math.imul(q,Qt)|0,h=h+Math.imul(z,Wt)|0,M=M+Math.imul(z,Qt)|0;var Yi=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,x=Math.imul(Nt,Tt),h=Math.imul(Nt,Ot),h=h+Math.imul(Mt,Tt)|0,M=Math.imul(Mt,Ot),x=x+Math.imul(xt,It)|0,h=h+Math.imul(xt,St)|0,h=h+Math.imul(Et,It)|0,M=M+Math.imul(Et,St)|0,x=x+Math.imul(At,Dt)|0,h=h+Math.imul(At,Ft)|0,h=h+Math.imul(_t,Dt)|0,M=M+Math.imul(_t,Ft)|0,x=x+Math.imul(yt,Bt)|0,h=h+Math.imul(yt,Lt)|0,h=h+Math.imul(bt,Bt)|0,M=M+Math.imul(bt,Lt)|0,x=x+Math.imul(vt,Ut)|0,h=h+Math.imul(vt,qt)|0,h=h+Math.imul(wt,Ut)|0,M=M+Math.imul(wt,qt)|0,x=x+Math.imul(mt,Gt)|0,h=h+Math.imul(mt,zt)|0,h=h+Math.imul(pt,Gt)|0,M=M+Math.imul(pt,zt)|0,x=x+Math.imul(Q,Ht)|0,h=h+Math.imul(Q,Kt)|0,h=h+Math.imul(V,Ht)|0,M=M+Math.imul(V,Kt)|0,x=x+Math.imul(j,Wt)|0,h=h+Math.imul(j,Qt)|0,h=h+Math.imul(Y,Wt)|0,M=M+Math.imul(Y,Qt)|0;var Xi=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,x=Math.imul(Nt,It),h=Math.imul(Nt,St),h=h+Math.imul(Mt,It)|0,M=Math.imul(Mt,St),x=x+Math.imul(xt,Dt)|0,h=h+Math.imul(xt,Ft)|0,h=h+Math.imul(Et,Dt)|0,M=M+Math.imul(Et,Ft)|0,x=x+Math.imul(At,Bt)|0,h=h+Math.imul(At,Lt)|0,h=h+Math.imul(_t,Bt)|0,M=M+Math.imul(_t,Lt)|0,x=x+Math.imul(yt,Ut)|0,h=h+Math.imul(yt,qt)|0,h=h+Math.imul(bt,Ut)|0,M=M+Math.imul(bt,qt)|0,x=x+Math.imul(vt,Gt)|0,h=h+Math.imul(vt,zt)|0,h=h+Math.imul(wt,Gt)|0,M=M+Math.imul(wt,zt)|0,x=x+Math.imul(mt,Ht)|0,h=h+Math.imul(mt,Kt)|0,h=h+Math.imul(pt,Ht)|0,M=M+Math.imul(pt,Kt)|0,x=x+Math.imul(Q,Wt)|0,h=h+Math.imul(Q,Qt)|0,h=h+Math.imul(V,Wt)|0,M=M+Math.imul(V,Qt)|0;var Vi=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,x=Math.imul(Nt,Dt),h=Math.imul(Nt,Ft),h=h+Math.imul(Mt,Dt)|0,M=Math.imul(Mt,Ft),x=x+Math.imul(xt,Bt)|0,h=h+Math.imul(xt,Lt)|0,h=h+Math.imul(Et,Bt)|0,M=M+Math.imul(Et,Lt)|0,x=x+Math.imul(At,Ut)|0,h=h+Math.imul(At,qt)|0,h=h+Math.imul(_t,Ut)|0,M=M+Math.imul(_t,qt)|0,x=x+Math.imul(yt,Gt)|0,h=h+Math.imul(yt,zt)|0,h=h+Math.imul(bt,Gt)|0,M=M+Math.imul(bt,zt)|0,x=x+Math.imul(vt,Ht)|0,h=h+Math.imul(vt,Kt)|0,h=h+Math.imul(wt,Ht)|0,M=M+Math.imul(wt,Kt)|0,x=x+Math.imul(mt,Wt)|0,h=h+Math.imul(mt,Qt)|0,h=h+Math.imul(pt,Wt)|0,M=M+Math.imul(pt,Qt)|0;var $i=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+($i>>>26)|0,$i&=67108863,x=Math.imul(Nt,Bt),h=Math.imul(Nt,Lt),h=h+Math.imul(Mt,Bt)|0,M=Math.imul(Mt,Lt),x=x+Math.imul(xt,Ut)|0,h=h+Math.imul(xt,qt)|0,h=h+Math.imul(Et,Ut)|0,M=M+Math.imul(Et,qt)|0,x=x+Math.imul(At,Gt)|0,h=h+Math.imul(At,zt)|0,h=h+Math.imul(_t,Gt)|0,M=M+Math.imul(_t,zt)|0,x=x+Math.imul(yt,Ht)|0,h=h+Math.imul(yt,Kt)|0,h=h+Math.imul(bt,Ht)|0,M=M+Math.imul(bt,Kt)|0,x=x+Math.imul(vt,Wt)|0,h=h+Math.imul(vt,Qt)|0,h=h+Math.imul(wt,Wt)|0,M=M+Math.imul(wt,Qt)|0;var Zi=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,x=Math.imul(Nt,Ut),h=Math.imul(Nt,qt),h=h+Math.imul(Mt,Ut)|0,M=Math.imul(Mt,qt),x=x+Math.imul(xt,Gt)|0,h=h+Math.imul(xt,zt)|0,h=h+Math.imul(Et,Gt)|0,M=M+Math.imul(Et,zt)|0,x=x+Math.imul(At,Ht)|0,h=h+Math.imul(At,Kt)|0,h=h+Math.imul(_t,Ht)|0,M=M+Math.imul(_t,Kt)|0,x=x+Math.imul(yt,Wt)|0,h=h+Math.imul(yt,Qt)|0,h=h+Math.imul(bt,Wt)|0,M=M+Math.imul(bt,Qt)|0;var Ji=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,x=Math.imul(Nt,Gt),h=Math.imul(Nt,zt),h=h+Math.imul(Mt,Gt)|0,M=Math.imul(Mt,zt),x=x+Math.imul(xt,Ht)|0,h=h+Math.imul(xt,Kt)|0,h=h+Math.imul(Et,Ht)|0,M=M+Math.imul(Et,Kt)|0,x=x+Math.imul(At,Wt)|0,h=h+Math.imul(At,Qt)|0,h=h+Math.imul(_t,Wt)|0,M=M+Math.imul(_t,Qt)|0;var to=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(to>>>26)|0,to&=67108863,x=Math.imul(Nt,Ht),h=Math.imul(Nt,Kt),h=h+Math.imul(Mt,Ht)|0,M=Math.imul(Mt,Kt),x=x+Math.imul(xt,Wt)|0,h=h+Math.imul(xt,Qt)|0,h=h+Math.imul(Et,Wt)|0,M=M+Math.imul(Et,Qt)|0;var eo=(O+x|0)+((h&8191)<<13)|0;O=(M+(h>>>13)|0)+(eo>>>26)|0,eo&=67108863,x=Math.imul(Nt,Wt),h=Math.imul(Nt,Qt),h=h+Math.imul(Mt,Wt)|0,M=Math.imul(Mt,Qt);var ro=(O+x|0)+((h&8191)<<13)|0;return O=(M+(h>>>13)|0)+(ro>>>26)|0,ro&=67108863,E[0]=Ar,E[1]=_r,E[2]=xr,E[3]=Er,E[4]=Nr,E[5]=Hi,E[6]=Ki,E[7]=Wi,E[8]=Qi,E[9]=ji,E[10]=Yi,E[11]=Xi,E[12]=Vi,E[13]=$i,E[14]=Zi,E[15]=Ji,E[16]=to,E[17]=eo,E[18]=ro,O!==0&&(E[19]=O,m.length++),m};Math.imul||(R=D);function G(y,f,l){l.negative=f.negative^y.negative,l.length=y.length+f.length;for(var m=0,v=0,w=0;w<l.length-1;w++){var E=v;v=0;for(var O=m&67108863,x=Math.min(w,f.length-1),h=Math.max(0,w-y.length+1);h<=x;h++){var M=w-h,X=y.words[M]|0,p=f.words[h]|0,B=X*p,U=B&67108863;E=E+(B/67108864|0)|0,U=U+O|0,O=U&67108863,E=E+(U>>>26)|0,v+=E>>>26,E&=67108863}l.words[w]=O,m=E,E=v}return m!==0?l.words[w]=m:l.length--,l._strip()}function W(y,f,l){return G(y,f,l)}o.prototype.mulTo=function(f,l){var m,v=this.length+f.length;return this.length===10&&f.length===10?m=R(this,f,l):v<63?m=D(this,f,l):v<1024?m=G(this,f,l):m=W(this,f,l),m},o.prototype.mul=function(f){var l=new o(null);return l.words=new Array(this.length+f.length),this.mulTo(f,l)},o.prototype.mulf=function(f){var l=new o(null);return l.words=new Array(this.length+f.length),W(this,f,l)},o.prototype.imul=function(f){return this.clone().mulTo(f,this)},o.prototype.imuln=function(f){var l=f<0;l&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var m=0,v=0;v<this.length;v++){var w=(this.words[v]|0)*f,E=(w&67108863)+(m&67108863);m>>=26,m+=w/67108864|0,m+=E>>>26,this.words[v]=E&67108863}return m!==0&&(this.words[v]=m,this.length++),l?this.ineg():this},o.prototype.muln=function(f){return this.clone().imuln(f)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(f){var l=F(f);if(l.length===0)return new o(1);for(var m=this,v=0;v<l.length&&l[v]===0;v++,m=m.sqr());if(++v<l.length)for(var w=m.sqr();v<l.length;v++,w=w.sqr())l[v]!==0&&(m=m.mul(w));return m},o.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var l=f%26,m=(f-l)/26,v=67108863>>>26-l<<26-l,w;if(l!==0){var E=0;for(w=0;w<this.length;w++){var O=this.words[w]&v,x=(this.words[w]|0)-O<<l;this.words[w]=x|E,E=O>>>26-l}E&&(this.words[w]=E,this.length++)}if(m!==0){for(w=this.length-1;w>=0;w--)this.words[w+m]=this.words[w];for(w=0;w<m;w++)this.words[w]=0;this.length+=m}return this._strip()},o.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},o.prototype.iushrn=function(f,l,m){n(typeof f=="number"&&f>=0);var v;l?v=(l-l%26)/26:v=0;var w=f%26,E=Math.min((f-w)/26,this.length),O=67108863^67108863>>>w<<w,x=m;if(v-=E,v=Math.max(0,v),x){for(var h=0;h<E;h++)x.words[h]=this.words[h];x.length=E}if(E!==0)if(this.length>E)for(this.length-=E,h=0;h<this.length;h++)this.words[h]=this.words[h+E];else this.words[0]=0,this.length=1;var M=0;for(h=this.length-1;h>=0&&(M!==0||h>=v);h--){var X=this.words[h]|0;this.words[h]=M<<26-w|X>>>w,M=X&O}return x&&M!==0&&(x.words[x.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(f,l,m){return n(this.negative===0),this.iushrn(f,l,m)},o.prototype.shln=function(f){return this.clone().ishln(f)},o.prototype.ushln=function(f){return this.clone().iushln(f)},o.prototype.shrn=function(f){return this.clone().ishrn(f)},o.prototype.ushrn=function(f){return this.clone().iushrn(f)},o.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var l=f%26,m=(f-l)/26,v=1<<l;if(this.length<=m)return!1;var w=this.words[m];return!!(w&v)},o.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var l=f%26,m=(f-l)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(l!==0&&m++,this.length=Math.min(m,this.length),l!==0){var v=67108863^67108863>>>l<<l;this.words[this.length-1]&=v}return this._strip()},o.prototype.maskn=function(f){return this.clone().imaskn(f)},o.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},o.prototype._iaddn=function(f){this.words[0]+=f;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},o.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},o.prototype.addn=function(f){return this.clone().iaddn(f)},o.prototype.subn=function(f){return this.clone().isubn(f)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(f,l,m){var v=f.length+m,w;this._expand(v);var E,O=0;for(w=0;w<f.length;w++){E=(this.words[w+m]|0)+O;var x=(f.words[w]|0)*l;E-=x&67108863,O=(E>>26)-(x/67108864|0),this.words[w+m]=E&67108863}for(;w<this.length-m;w++)E=(this.words[w+m]|0)+O,O=E>>26,this.words[w+m]=E&67108863;if(O===0)return this._strip();for(n(O===-1),O=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+O,O=E>>26,this.words[w]=E&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(f,l){var m=this.length-f.length,v=this.clone(),w=f,E=w.words[w.length-1]|0,O=this._countBits(E);m=26-O,m!==0&&(w=w.ushln(m),v.iushln(m),E=w.words[w.length-1]|0);var x=v.length-w.length,h;if(l!=="mod"){h=new o(null),h.length=x+1,h.words=new Array(h.length);for(var M=0;M<h.length;M++)h.words[M]=0}var X=v.clone()._ishlnsubmul(w,1,x);X.negative===0&&(v=X,h&&(h.words[x]=1));for(var p=x-1;p>=0;p--){var B=(v.words[w.length+p]|0)*67108864+(v.words[w.length+p-1]|0);for(B=Math.min(B/E|0,67108863),v._ishlnsubmul(w,B,p);v.negative!==0;)B--,v.negative=0,v._ishlnsubmul(w,1,p),v.isZero()||(v.negative^=1);h&&(h.words[p]=B)}return h&&h._strip(),v._strip(),l!=="div"&&m!==0&&v.iushrn(m),{div:h||null,mod:v}},o.prototype.divmod=function(f,l,m){if(n(!f.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,w,E;return this.negative!==0&&f.negative===0?(E=this.neg().divmod(f,l),l!=="mod"&&(v=E.div.neg()),l!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.iadd(f)),{div:v,mod:w}):this.negative===0&&f.negative!==0?(E=this.divmod(f.neg(),l),l!=="mod"&&(v=E.div.neg()),{div:v,mod:E.mod}):(this.negative&f.negative)!==0?(E=this.neg().divmod(f.neg(),l),l!=="div"&&(w=E.mod.neg(),m&&w.negative!==0&&w.isub(f)),{div:E.div,mod:w}):f.length>this.length||this.cmp(f)<0?{div:new o(0),mod:this}:f.length===1?l==="div"?{div:this.divn(f.words[0]),mod:null}:l==="mod"?{div:null,mod:new o(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new o(this.modrn(f.words[0]))}:this._wordDiv(f,l)},o.prototype.div=function(f){return this.divmod(f,"div",!1).div},o.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},o.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},o.prototype.divRound=function(f){var l=this.divmod(f);if(l.mod.isZero())return l.div;var m=l.div.negative!==0?l.mod.isub(f):l.mod,v=f.ushrn(1),w=f.andln(1),E=m.cmp(v);return E<0||w===1&&E===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},o.prototype.modrn=function(f){var l=f<0;l&&(f=-f),n(f<=67108863);for(var m=(1<<26)%f,v=0,w=this.length-1;w>=0;w--)v=(m*v+(this.words[w]|0))%f;return l?-v:v},o.prototype.modn=function(f){return this.modrn(f)},o.prototype.idivn=function(f){var l=f<0;l&&(f=-f),n(f<=67108863);for(var m=0,v=this.length-1;v>=0;v--){var w=(this.words[v]|0)+m*67108864;this.words[v]=w/f|0,m=w%f}return this._strip(),l?this.ineg():this},o.prototype.divn=function(f){return this.clone().idivn(f)},o.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var l=this,m=f.clone();l.negative!==0?l=l.umod(f):l=l.clone();for(var v=new o(1),w=new o(0),E=new o(0),O=new o(1),x=0;l.isEven()&&m.isEven();)l.iushrn(1),m.iushrn(1),++x;for(var h=m.clone(),M=l.clone();!l.isZero();){for(var X=0,p=1;(l.words[0]&p)===0&&X<26;++X,p<<=1);if(X>0)for(l.iushrn(X);X-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(h),w.isub(M)),v.iushrn(1),w.iushrn(1);for(var B=0,U=1;(m.words[0]&U)===0&&B<26;++B,U<<=1);if(B>0)for(m.iushrn(B);B-- >0;)(E.isOdd()||O.isOdd())&&(E.iadd(h),O.isub(M)),E.iushrn(1),O.iushrn(1);l.cmp(m)>=0?(l.isub(m),v.isub(E),w.isub(O)):(m.isub(l),E.isub(v),O.isub(w))}return{a:E,b:O,gcd:m.iushln(x)}},o.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var l=this,m=f.clone();l.negative!==0?l=l.umod(f):l=l.clone();for(var v=new o(1),w=new o(0),E=m.clone();l.cmpn(1)>0&&m.cmpn(1)>0;){for(var O=0,x=1;(l.words[0]&x)===0&&O<26;++O,x<<=1);if(O>0)for(l.iushrn(O);O-- >0;)v.isOdd()&&v.iadd(E),v.iushrn(1);for(var h=0,M=1;(m.words[0]&M)===0&&h<26;++h,M<<=1);if(h>0)for(m.iushrn(h);h-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);l.cmp(m)>=0?(l.isub(m),v.isub(w)):(m.isub(l),w.isub(v))}var X;return l.cmpn(1)===0?X=v:X=w,X.cmpn(0)<0&&X.iadd(f),X},o.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var l=this.clone(),m=f.clone();l.negative=0,m.negative=0;for(var v=0;l.isEven()&&m.isEven();v++)l.iushrn(1),m.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;m.isEven();)m.iushrn(1);var w=l.cmp(m);if(w<0){var E=l;l=m,m=E}else if(w===0||m.cmpn(1)===0)break;l.isub(m)}while(!0);return m.iushln(v)},o.prototype.invm=function(f){return this.egcd(f).a.umod(f)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(f){return this.words[0]&f},o.prototype.bincn=function(f){n(typeof f=="number");var l=f%26,m=(f-l)/26,v=1<<l;if(this.length<=m)return this._expand(m+1),this.words[m]|=v,this;for(var w=v,E=m;w!==0&&E<this.length;E++){var O=this.words[E]|0;O+=w,w=O>>>26,O&=67108863,this.words[E]=O}return w!==0&&(this.words[E]=w,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(f){var l=f<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var m;if(this.length>1)m=1;else{l&&(f=-f),n(f<=67108863,"Number is too big");var v=this.words[0]|0;m=v===f?0:v<f?-1:1}return this.negative!==0?-m|0:m},o.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var l=this.ucmp(f);return this.negative!==0?-l|0:l},o.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var l=0,m=this.length-1;m>=0;m--){var v=this.words[m]|0,w=f.words[m]|0;if(v!==w){v<w?l=-1:v>w&&(l=1);break}}return l},o.prototype.gtn=function(f){return this.cmpn(f)===1},o.prototype.gt=function(f){return this.cmp(f)===1},o.prototype.gten=function(f){return this.cmpn(f)>=0},o.prototype.gte=function(f){return this.cmp(f)>=0},o.prototype.ltn=function(f){return this.cmpn(f)===-1},o.prototype.lt=function(f){return this.cmp(f)===-1},o.prototype.lten=function(f){return this.cmpn(f)<=0},o.prototype.lte=function(f){return this.cmp(f)<=0},o.prototype.eqn=function(f){return this.cmpn(f)===0},o.prototype.eq=function(f){return this.cmp(f)===0},o.red=function(f){return new S(f)},o.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(f){return this.red=f,this},o.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},o.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},o.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},o.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},o.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},o.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},o.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},o.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var H={k256:null,p224:null,p192:null,p25519:null};function K(y,f){this.name=y,this.p=new o(f,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var f=new o(null);return f.words=new Array(Math.ceil(this.n/13)),f},K.prototype.ireduce=function(f){var l=f,m;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),m=l.bitLength();while(m>this.n);var v=m<this.n?-1:l.ucmp(this.p);return v===0?(l.words[0]=0,l.length=1):v>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},K.prototype.split=function(f,l){f.iushrn(this.n,0,l)},K.prototype.imulK=function(f){return f.imul(this.k)};function tt(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(tt,K),tt.prototype.split=function(f,l){for(var m=4194303,v=Math.min(f.length,9),w=0;w<v;w++)l.words[w]=f.words[w];if(l.length=v,f.length<=9){f.words[0]=0,f.length=1;return}var E=f.words[9];for(l.words[l.length++]=E&m,w=10;w<f.length;w++){var O=f.words[w]|0;f.words[w-10]=(O&m)<<4|E>>>22,E=O}E>>>=22,f.words[w-10]=E,E===0&&f.length>10?f.length-=10:f.length-=9},tt.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var l=0,m=0;m<f.length;m++){var v=f.words[m]|0;l+=v*977,f.words[m]=l&67108863,l=v*64+(l/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function A(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(A,K);function N(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(N,K);function P(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(P,K),P.prototype.imulK=function(f){for(var l=0,m=0;m<f.length;m++){var v=(f.words[m]|0)*19+l,w=v&67108863;v>>>=26,f.words[m]=w,l=v}return l!==0&&(f.words[f.length++]=l),f},o._prime=function(f){if(H[f])return H[f];var l;if(f==="k256")l=new tt;else if(f==="p224")l=new A;else if(f==="p192")l=new N;else if(f==="p25519")l=new P;else throw new Error("Unknown prime "+f);return H[f]=l,l};function S(y){if(typeof y=="string"){var f=o._prime(y);this.m=f.p,this.prime=f}else n(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}S.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},S.prototype._verify2=function(f,l){n((f.negative|l.negative)===0,"red works only with positives"),n(f.red&&f.red===l.red,"red works only with red numbers")},S.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(d(f,f.umod(this.m)._forceRed(this)),f)},S.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},S.prototype.add=function(f,l){this._verify2(f,l);var m=f.add(l);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},S.prototype.iadd=function(f,l){this._verify2(f,l);var m=f.iadd(l);return m.cmp(this.m)>=0&&m.isub(this.m),m},S.prototype.sub=function(f,l){this._verify2(f,l);var m=f.sub(l);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},S.prototype.isub=function(f,l){this._verify2(f,l);var m=f.isub(l);return m.cmpn(0)<0&&m.iadd(this.m),m},S.prototype.shl=function(f,l){return this._verify1(f),this.imod(f.ushln(l))},S.prototype.imul=function(f,l){return this._verify2(f,l),this.imod(f.imul(l))},S.prototype.mul=function(f,l){return this._verify2(f,l),this.imod(f.mul(l))},S.prototype.isqr=function(f){return this.imul(f,f.clone())},S.prototype.sqr=function(f){return this.mul(f,f)},S.prototype.sqrt=function(f){if(f.isZero())return f.clone();var l=this.m.andln(3);if(n(l%2===1),l===3){var m=this.m.add(new o(1)).iushrn(2);return this.pow(f,m)}for(var v=this.m.subn(1),w=0;!v.isZero()&&v.andln(1)===0;)w++,v.iushrn(1);n(!v.isZero());var E=new o(1).toRed(this),O=E.redNeg(),x=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);this.pow(h,x).cmp(O)!==0;)h.redIAdd(O);for(var M=this.pow(h,v),X=this.pow(f,v.addn(1).iushrn(1)),p=this.pow(f,v),B=w;p.cmp(E)!==0;){for(var U=p,q=0;U.cmp(E)!==0;q++)U=U.redSqr();n(q<B);var z=this.pow(M,new o(1).iushln(B-q-1));X=X.redMul(z),M=z.redSqr(),p=p.redMul(M),B=q}return X},S.prototype.invm=function(f){var l=f._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},S.prototype.pow=function(f,l){if(l.isZero())return new o(1).toRed(this);if(l.cmpn(1)===0)return f.clone();var m=4,v=new Array(1<<m);v[0]=new o(1).toRed(this),v[1]=f;for(var w=2;w<v.length;w++)v[w]=this.mul(v[w-1],f);var E=v[0],O=0,x=0,h=l.bitLength()%26;for(h===0&&(h=26),w=l.length-1;w>=0;w--){for(var M=l.words[w],X=h-1;X>=0;X--){var p=M>>X&1;if(E!==v[0]&&(E=this.sqr(E)),p===0&&O===0){x=0;continue}O<<=1,O|=p,x++,!(x!==m&&(w!==0||X!==0))&&(E=this.mul(E,v[O]),x=0,O=0)}h=26}return E},S.prototype.convertTo=function(f){var l=f.umod(this.m);return l===f?l.clone():l},S.prototype.convertFrom=function(f){var l=f.clone();return l.red=null,l},o.mont=function(f){return new I(f)};function I(y){S.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(I,S),I.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},I.prototype.convertFrom=function(f){var l=this.imod(f.mul(this.rinv));return l.red=null,l},I.prototype.imul=function(f,l){if(f.isZero()||l.isZero())return f.words[0]=0,f.length=1,f;var m=f.imul(l),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(v).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},I.prototype.mul=function(f,l){if(f.isZero()||l.isZero())return new o(0)._forceRed(this);var m=f.mul(l),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(v).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},I.prototype.invm=function(f){var l=this.imod(f._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(r,La)})(Wa);const it=Wa.exports,Ou="bignumber/5.7.0";var wi=it.BN;const cr=new L(Ou),fo={},bs=9007199254740991;let As=!1;class J{constructor(t,e){t!==fo&&cr.throwError("cannot call constructor directly; use BigNumber.from",L.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return me(ct(this).fromTwos(t))}toTwos(t){return me(ct(this).toTwos(t))}abs(){return this._hex[0]==="-"?J.from(this._hex.substring(1)):this}add(t){return me(ct(this).add(ct(t)))}sub(t){return me(ct(this).sub(ct(t)))}div(t){return J.from(t).isZero()&&Ce("division-by-zero","div"),me(ct(this).div(ct(t)))}mul(t){return me(ct(this).mul(ct(t)))}mod(t){const e=ct(t);return e.isNeg()&&Ce("division-by-zero","mod"),me(ct(this).umod(e))}pow(t){const e=ct(t);return e.isNeg()&&Ce("negative-power","pow"),me(ct(this).pow(e))}and(t){const e=ct(t);return(this.isNegative()||e.isNeg())&&Ce("unbound-bitwise-result","and"),me(ct(this).and(e))}or(t){const e=ct(t);return(this.isNegative()||e.isNeg())&&Ce("unbound-bitwise-result","or"),me(ct(this).or(e))}xor(t){const e=ct(t);return(this.isNegative()||e.isNeg())&&Ce("unbound-bitwise-result","xor"),me(ct(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Ce("negative-width","mask"),me(ct(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Ce("negative-width","shl"),me(ct(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Ce("negative-width","shr"),me(ct(this).shrn(t))}eq(t){return ct(this).eq(ct(t))}lt(t){return ct(this).lt(ct(t))}lte(t){return ct(this).lte(ct(t))}gt(t){return ct(this).gt(ct(t))}gte(t){return ct(this).gte(ct(t))}isNegative(){return this._hex[0]==="-"}isZero(){return ct(this).isZero()}toNumber(){try{return ct(this).toNumber()}catch{Ce("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return cr.throwError("this platform does not support BigInt",L.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?As||(As=!0,cr.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?cr.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",L.errors.UNEXPECTED_ARGUMENT,{}):cr.throwError("BigNumber.toString does not accept parameters",L.errors.UNEXPECTED_ARGUMENT,{})),ct(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof J)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new J(fo,Gn(t)):t.match(/^-?[0-9]+$/)?new J(fo,Gn(new wi(t))):cr.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&Ce("underflow","BigNumber.from",t),(t>=bs||t<=-bs)&&Ce("overflow","BigNumber.from",t),J.from(String(t));const e=t;if(typeof e=="bigint")return J.from(e.toString());if(Ri(e))return J.from(at(e));if(e)if(e.toHexString){const n=e.toHexString();if(typeof n=="string")return J.from(n)}else{let n=e._hex;if(n==null&&e.type==="BigNumber"&&(n=e.hex),typeof n=="string"&&(gt(n)||n[0]==="-"&&gt(n.substring(1))))return J.from(n)}return cr.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function Gn(r){if(typeof r!="string")return Gn(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&cr.throwArgumentError("invalid hex","value",r),r=Gn(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function me(r){return J.from(Gn(r))}function ct(r){const t=J.from(r).toHexString();return t[0]==="-"?new wi("-"+t.substring(3),16):new wi(t.substring(2),16)}function Ce(r,t,e){const n={fault:r,operation:t};return e!=null&&(n.value=e),cr.throwError(r,L.errors.NUMERIC_FAULT,n)}function Iu(r){return new wi(r,36).toString(16)}var Qa={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(r){(function(){var t="input is invalid type",e="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=La:o&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),d=[31,7936,2031616,520093696],g=[4,1024,262144,67108864],_=[1,256,65536,16777216],k=[6,1536,393216,100663296],T=[0,8,16,24],C=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],F=[224,256,384,512],D=[128,256],R=["hex","buffer","arrayBuffer","array","digest"],G={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(p){return Object.prototype.toString.call(p)==="[object Array]"}),u&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(p){return typeof p=="object"&&p.buffer&&p.buffer.constructor===ArrayBuffer});for(var W=function(p,B,U){return function(q){return new h(p,B,p).update(q)[U]()}},H=function(p,B,U){return function(q,z){return new h(p,B,z).update(q)[U]()}},K=function(p,B,U){return function(q,z,et,j){return f["cshake"+p].update(q,z,et,j)[U]()}},tt=function(p,B,U){return function(q,z,et,j){return f["kmac"+p].update(q,z,et,j)[U]()}},A=function(p,B,U,q){for(var z=0;z<R.length;++z){var et=R[z];p[et]=B(U,q,et)}return p},N=function(p,B){var U=W(p,B,"hex");return U.create=function(){return new h(p,B,p)},U.update=function(q){return U.create().update(q)},A(U,W,p,B)},P=function(p,B){var U=H(p,B,"hex");return U.create=function(q){return new h(p,B,q)},U.update=function(q,z){return U.create(z).update(q)},A(U,H,p,B)},S=function(p,B){var U=G[p],q=K(p,B,"hex");return q.create=function(z,et,j){return!et&&!j?f["shake"+p].create(z):new h(p,B,z).bytepad([et,j],U)},q.update=function(z,et,j,Y){return q.create(et,j,Y).update(z)},A(q,K,p,B)},I=function(p,B){var U=G[p],q=tt(p,B,"hex");return q.create=function(z,et,j){return new M(p,B,et).bytepad(["KMAC",j],U).bytepad([z],U)},q.update=function(z,et,j,Y){return q.create(z,j,Y).update(et)},A(q,tt,p,B)},y=[{name:"keccak",padding:_,bits:F,createMethod:N},{name:"sha3",padding:k,bits:F,createMethod:N},{name:"shake",padding:d,bits:D,createMethod:P},{name:"cshake",padding:g,bits:D,createMethod:S},{name:"kmac",padding:g,bits:D,createMethod:I}],f={},l=[],m=0;m<y.length;++m)for(var v=y[m],w=v.bits,E=0;E<w.length;++E){var O=v.name+"_"+w[E];if(l.push(O),f[O]=v.createMethod(w[E],v.padding),v.name!=="sha3"){var x=v.name+w[E];l.push(x),f[x]=f[O]}}function h(p,B,U){this.blocks=[],this.s=[],this.padding=B,this.outputBits=U,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(p<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=U>>5,this.extraBytes=(U&31)>>3;for(var q=0;q<50;++q)this.s[q]=0}h.prototype.update=function(p){if(this.finalized)throw new Error(e);var B,U=typeof p;if(U!=="string"){if(U==="object"){if(p===null)throw new Error(t);if(u&&p.constructor===ArrayBuffer)p=new Uint8Array(p);else if(!Array.isArray(p)&&(!u||!ArrayBuffer.isView(p)))throw new Error(t)}else throw new Error(t);B=!0}for(var q=this.blocks,z=this.byteCount,et=p.length,j=this.blockCount,Y=0,lt=this.s,Q,V;Y<et;){if(this.reset)for(this.reset=!1,q[0]=this.block,Q=1;Q<j+1;++Q)q[Q]=0;if(B)for(Q=this.start;Y<et&&Q<z;++Y)q[Q>>2]|=p[Y]<<T[Q++&3];else for(Q=this.start;Y<et&&Q<z;++Y)V=p.charCodeAt(Y),V<128?q[Q>>2]|=V<<T[Q++&3]:V<2048?(q[Q>>2]|=(192|V>>6)<<T[Q++&3],q[Q>>2]|=(128|V&63)<<T[Q++&3]):V<55296||V>=57344?(q[Q>>2]|=(224|V>>12)<<T[Q++&3],q[Q>>2]|=(128|V>>6&63)<<T[Q++&3],q[Q>>2]|=(128|V&63)<<T[Q++&3]):(V=65536+((V&1023)<<10|p.charCodeAt(++Y)&1023),q[Q>>2]|=(240|V>>18)<<T[Q++&3],q[Q>>2]|=(128|V>>12&63)<<T[Q++&3],q[Q>>2]|=(128|V>>6&63)<<T[Q++&3],q[Q>>2]|=(128|V&63)<<T[Q++&3]);if(this.lastByteIndex=Q,Q>=z){for(this.start=Q-z,this.block=q[j],Q=0;Q<j;++Q)lt[Q]^=q[Q];X(lt),this.reset=!0}else this.start=Q}return this},h.prototype.encode=function(p,B){var U=p&255,q=1,z=[U];for(p=p>>8,U=p&255;U>0;)z.unshift(U),p=p>>8,U=p&255,++q;return B?z.push(q):z.unshift(q),this.update(z),z.length},h.prototype.encodeString=function(p){var B,U=typeof p;if(U!=="string"){if(U==="object"){if(p===null)throw new Error(t);if(u&&p.constructor===ArrayBuffer)p=new Uint8Array(p);else if(!Array.isArray(p)&&(!u||!ArrayBuffer.isView(p)))throw new Error(t)}else throw new Error(t);B=!0}var q=0,z=p.length;if(B)q=z;else for(var et=0;et<p.length;++et){var j=p.charCodeAt(et);j<128?q+=1:j<2048?q+=2:j<55296||j>=57344?q+=3:(j=65536+((j&1023)<<10|p.charCodeAt(++et)&1023),q+=4)}return q+=this.encode(q*8),this.update(p),q},h.prototype.bytepad=function(p,B){for(var U=this.encode(B),q=0;q<p.length;++q)U+=this.encodeString(p[q]);var z=B-U%B,et=[];return et.length=z,this.update(et),this},h.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var p=this.blocks,B=this.lastByteIndex,U=this.blockCount,q=this.s;if(p[B>>2]|=this.padding[B&3],this.lastByteIndex===this.byteCount)for(p[0]=p[U],B=1;B<U+1;++B)p[B]=0;for(p[U-1]|=2147483648,B=0;B<U;++B)q[B]^=p[B];X(q)}},h.prototype.toString=h.prototype.hex=function(){this.finalize();for(var p=this.blockCount,B=this.s,U=this.outputBlocks,q=this.extraBytes,z=0,et=0,j="",Y;et<U;){for(z=0;z<p&&et<U;++z,++et)Y=B[z],j+=c[Y>>4&15]+c[Y&15]+c[Y>>12&15]+c[Y>>8&15]+c[Y>>20&15]+c[Y>>16&15]+c[Y>>28&15]+c[Y>>24&15];et%p===0&&(X(B),z=0)}return q&&(Y=B[z],j+=c[Y>>4&15]+c[Y&15],q>1&&(j+=c[Y>>12&15]+c[Y>>8&15]),q>2&&(j+=c[Y>>20&15]+c[Y>>16&15])),j},h.prototype.arrayBuffer=function(){this.finalize();var p=this.blockCount,B=this.s,U=this.outputBlocks,q=this.extraBytes,z=0,et=0,j=this.outputBits>>3,Y;q?Y=new ArrayBuffer(U+1<<2):Y=new ArrayBuffer(j);for(var lt=new Uint32Array(Y);et<U;){for(z=0;z<p&&et<U;++z,++et)lt[et]=B[z];et%p===0&&X(B)}return q&&(lt[z]=B[z],Y=Y.slice(0,j)),Y},h.prototype.buffer=h.prototype.arrayBuffer,h.prototype.digest=h.prototype.array=function(){this.finalize();for(var p=this.blockCount,B=this.s,U=this.outputBlocks,q=this.extraBytes,z=0,et=0,j=[],Y,lt;et<U;){for(z=0;z<p&&et<U;++z,++et)Y=et<<2,lt=B[z],j[Y]=lt&255,j[Y+1]=lt>>8&255,j[Y+2]=lt>>16&255,j[Y+3]=lt>>24&255;et%p===0&&X(B)}return q&&(Y=et<<2,lt=B[z],j[Y]=lt&255,q>1&&(j[Y+1]=lt>>8&255),q>2&&(j[Y+2]=lt>>16&255)),j};function M(p,B,U){h.call(this,p,B,U)}M.prototype=new h,M.prototype.finalize=function(){return this.encode(this.outputBits,!0),h.prototype.finalize.call(this)};var X=function(p){var B,U,q,z,et,j,Y,lt,Q,V,Br,mt,pt,Lr,vt,wt,Ur,yt,bt,qr,At,_t,Gr,xt,Et,zr,Nt,Mt,Hr,kt,Ct,Kr,Pt,Rt,Wr,Tt,Ot,Qr,It,St,jr,Dt,Ft,Yr,Bt,Lt,Xr,Ut,qt,Vr,Gt,zt,$r,Ht,Kt,Zr,Wt,Qt,Ar,_r,xr,Er,Nr;for(q=0;q<48;q+=2)z=p[0]^p[10]^p[20]^p[30]^p[40],et=p[1]^p[11]^p[21]^p[31]^p[41],j=p[2]^p[12]^p[22]^p[32]^p[42],Y=p[3]^p[13]^p[23]^p[33]^p[43],lt=p[4]^p[14]^p[24]^p[34]^p[44],Q=p[5]^p[15]^p[25]^p[35]^p[45],V=p[6]^p[16]^p[26]^p[36]^p[46],Br=p[7]^p[17]^p[27]^p[37]^p[47],mt=p[8]^p[18]^p[28]^p[38]^p[48],pt=p[9]^p[19]^p[29]^p[39]^p[49],B=mt^(j<<1|Y>>>31),U=pt^(Y<<1|j>>>31),p[0]^=B,p[1]^=U,p[10]^=B,p[11]^=U,p[20]^=B,p[21]^=U,p[30]^=B,p[31]^=U,p[40]^=B,p[41]^=U,B=z^(lt<<1|Q>>>31),U=et^(Q<<1|lt>>>31),p[2]^=B,p[3]^=U,p[12]^=B,p[13]^=U,p[22]^=B,p[23]^=U,p[32]^=B,p[33]^=U,p[42]^=B,p[43]^=U,B=j^(V<<1|Br>>>31),U=Y^(Br<<1|V>>>31),p[4]^=B,p[5]^=U,p[14]^=B,p[15]^=U,p[24]^=B,p[25]^=U,p[34]^=B,p[35]^=U,p[44]^=B,p[45]^=U,B=lt^(mt<<1|pt>>>31),U=Q^(pt<<1|mt>>>31),p[6]^=B,p[7]^=U,p[16]^=B,p[17]^=U,p[26]^=B,p[27]^=U,p[36]^=B,p[37]^=U,p[46]^=B,p[47]^=U,B=V^(z<<1|et>>>31),U=Br^(et<<1|z>>>31),p[8]^=B,p[9]^=U,p[18]^=B,p[19]^=U,p[28]^=B,p[29]^=U,p[38]^=B,p[39]^=U,p[48]^=B,p[49]^=U,Lr=p[0],vt=p[1],Lt=p[11]<<4|p[10]>>>28,Xr=p[10]<<4|p[11]>>>28,Mt=p[20]<<3|p[21]>>>29,Hr=p[21]<<3|p[20]>>>29,_r=p[31]<<9|p[30]>>>23,xr=p[30]<<9|p[31]>>>23,Dt=p[40]<<18|p[41]>>>14,Ft=p[41]<<18|p[40]>>>14,Rt=p[2]<<1|p[3]>>>31,Wr=p[3]<<1|p[2]>>>31,wt=p[13]<<12|p[12]>>>20,Ur=p[12]<<12|p[13]>>>20,Ut=p[22]<<10|p[23]>>>22,qt=p[23]<<10|p[22]>>>22,kt=p[33]<<13|p[32]>>>19,Ct=p[32]<<13|p[33]>>>19,Er=p[42]<<2|p[43]>>>30,Nr=p[43]<<2|p[42]>>>30,Ht=p[5]<<30|p[4]>>>2,Kt=p[4]<<30|p[5]>>>2,Tt=p[14]<<6|p[15]>>>26,Ot=p[15]<<6|p[14]>>>26,yt=p[25]<<11|p[24]>>>21,bt=p[24]<<11|p[25]>>>21,Vr=p[34]<<15|p[35]>>>17,Gt=p[35]<<15|p[34]>>>17,Kr=p[45]<<29|p[44]>>>3,Pt=p[44]<<29|p[45]>>>3,xt=p[6]<<28|p[7]>>>4,Et=p[7]<<28|p[6]>>>4,Zr=p[17]<<23|p[16]>>>9,Wt=p[16]<<23|p[17]>>>9,Qr=p[26]<<25|p[27]>>>7,It=p[27]<<25|p[26]>>>7,qr=p[36]<<21|p[37]>>>11,At=p[37]<<21|p[36]>>>11,zt=p[47]<<24|p[46]>>>8,$r=p[46]<<24|p[47]>>>8,Yr=p[8]<<27|p[9]>>>5,Bt=p[9]<<27|p[8]>>>5,zr=p[18]<<20|p[19]>>>12,Nt=p[19]<<20|p[18]>>>12,Qt=p[29]<<7|p[28]>>>25,Ar=p[28]<<7|p[29]>>>25,St=p[38]<<8|p[39]>>>24,jr=p[39]<<8|p[38]>>>24,_t=p[48]<<14|p[49]>>>18,Gr=p[49]<<14|p[48]>>>18,p[0]=Lr^~wt&yt,p[1]=vt^~Ur&bt,p[10]=xt^~zr&Mt,p[11]=Et^~Nt&Hr,p[20]=Rt^~Tt&Qr,p[21]=Wr^~Ot&It,p[30]=Yr^~Lt&Ut,p[31]=Bt^~Xr&qt,p[40]=Ht^~Zr&Qt,p[41]=Kt^~Wt&Ar,p[2]=wt^~yt&qr,p[3]=Ur^~bt&At,p[12]=zr^~Mt&kt,p[13]=Nt^~Hr&Ct,p[22]=Tt^~Qr&St,p[23]=Ot^~It&jr,p[32]=Lt^~Ut&Vr,p[33]=Xr^~qt&Gt,p[42]=Zr^~Qt&_r,p[43]=Wt^~Ar&xr,p[4]=yt^~qr&_t,p[5]=bt^~At&Gr,p[14]=Mt^~kt&Kr,p[15]=Hr^~Ct&Pt,p[24]=Qr^~St&Dt,p[25]=It^~jr&Ft,p[34]=Ut^~Vr&zt,p[35]=qt^~Gt&$r,p[44]=Qt^~_r&Er,p[45]=Ar^~xr&Nr,p[6]=qr^~_t&Lr,p[7]=At^~Gr&vt,p[16]=kt^~Kr&xt,p[17]=Ct^~Pt&Et,p[26]=St^~Dt&Rt,p[27]=jr^~Ft&Wr,p[36]=Vr^~zt&Yr,p[37]=Gt^~$r&Bt,p[46]=_r^~Er&Ht,p[47]=xr^~Nr&Kt,p[8]=_t^~Lr&wt,p[9]=Gr^~vt&Ur,p[18]=Kr^~xt&zr,p[19]=Pt^~Et&Nt,p[28]=Dt^~Rt&Tt,p[29]=Ft^~Wr&Ot,p[38]=zt^~Yr&Lt,p[39]=$r^~Bt&Xr,p[48]=Er^~Ht&Zr,p[49]=Nr^~Kt&Wt,p[0]^=C[q],p[1]^=C[q+1]};if(a)r.exports=f;else for(m=0;m<l.length;++m)i[l[m]]=f[l[m]]})()})(Qa);const Su=Qa.exports;function ie(r){return"0x"+Su.keccak_256(nt(r))}const Du="rlp/5.7.0",Xe=new L(Du);function _s(r){const t=[];for(;r;)t.unshift(r&255),r>>=8;return t}function xs(r,t,e){let n=0;for(let i=0;i<e;i++)n=n*256+r[t+i];return n}function ja(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(o){n=n.concat(ja(o))}),n.length<=55)return n.unshift(192+n.length),n;const i=_s(n.length);return i.unshift(247+i.length),i.concat(n)}Qo(r)||Xe.throwArgumentError("RLP object must be BytesLike","object",r);const t=Array.prototype.slice.call(nt(r));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=_s(t.length);return e.unshift(183+e.length),e.concat(t)}function Oi(r){return at(ja(r))}function Es(r,t,e,n){const i=[];for(;e<t+1+n;){const o=Ya(r,e);i.push(o.result),e+=o.consumed,e>t+1+n&&Xe.throwError("child data too short",L.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Ya(r,t){if(r.length===0&&Xe.throwError("data too short",L.errors.BUFFER_OVERRUN,{}),r[t]>=248){const e=r[t]-247;t+1+e>r.length&&Xe.throwError("data short segment too short",L.errors.BUFFER_OVERRUN,{});const n=xs(r,t+1,e);return t+1+e+n>r.length&&Xe.throwError("data long segment too short",L.errors.BUFFER_OVERRUN,{}),Es(r,t,t+1+e,e+n)}else if(r[t]>=192){const e=r[t]-192;return t+1+e>r.length&&Xe.throwError("data array too short",L.errors.BUFFER_OVERRUN,{}),Es(r,t,t+1,e)}else if(r[t]>=184){const e=r[t]-183;t+1+e>r.length&&Xe.throwError("data array too short",L.errors.BUFFER_OVERRUN,{});const n=xs(r,t+1,e);t+1+e+n>r.length&&Xe.throwError("data array too short",L.errors.BUFFER_OVERRUN,{});const i=at(r.slice(t+1+e,t+1+e+n));return{consumed:1+e+n,result:i}}else if(r[t]>=128){const e=r[t]-128;t+1+e>r.length&&Xe.throwError("data too short",L.errors.BUFFER_OVERRUN,{});const n=at(r.slice(t+1,t+1+e));return{consumed:1+e,result:n}}return{consumed:1,result:at(r[t])}}function Yo(r){const t=nt(r),e=Ya(t,0);return e.consumed!==t.length&&Xe.throwArgumentError("invalid rlp data","data",r),e.result}const Fu="address/5.7.0",Tr=new L(Fu);function Ns(r){gt(r,20)||Tr.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const t=r.substring(2).split(""),e=new Uint8Array(40);for(let i=0;i<40;i++)e[i]=t[i].charCodeAt(0);const n=nt(ie(e));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const Bu=9007199254740991;function Lu(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const Xo={};for(let r=0;r<10;r++)Xo[String(r)]=String(r);for(let r=0;r<26;r++)Xo[String.fromCharCode(65+r)]=String(10+r);const Ms=Math.floor(Lu(Bu));function Uu(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let t=r.split("").map(n=>Xo[n]).join("");for(;t.length>=Ms;){let n=t.substring(0,Ms);t=parseInt(n,10)%97+t.substring(n.length)}let e=String(98-parseInt(t,10)%97);for(;e.length<2;)e="0"+e;return e}function ge(r){let t=null;if(typeof r!="string"&&Tr.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),t=Ns(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==r&&Tr.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==Uu(r)&&Tr.throwArgumentError("bad icap checksum","address",r),t=Iu(r.substring(4));t.length<40;)t="0"+t;t=Ns("0x"+t)}else Tr.throwArgumentError("invalid address","address",r);return t}function qu(r){try{return ge(r),!0}catch{}return!1}function Gu(r){let t=null;try{t=ge(r.from)}catch{Tr.throwArgumentError("missing from address","transaction",r)}const e=vn(nt(J.from(r.nonce).toHexString()));return ge(le(ie(Oi([t,e])),12))}function zu(r,t,e){return mr(t)!==32&&Tr.throwArgumentError("salt must be 32 bytes","salt",t),mr(e)!==32&&Tr.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",e),ge(le(ie(Ze(["0xff",ge(r),t,e])),12))}function Hu(){return{string:null,BigNumber:null,BN:null,bigint:null}}function ti(r,t){const e=typeof r=="string"||typeof r=="number"||typeof r=="bigint"?BigInt(r):he.isBigNumber(r)?BigInt(r.toFixed()):BigInt(r.toString());return t==="bigint"?e:t==="string"?e.toString():t==="BigNumber"?new he(e.toString()):new it(e.toString())}function Ku(r,t){if(r[t]!==null)return r[t];if(r.bigint!==null)return ti(r.bigint,t);if(r.string!==null)return ti(r.string,t);if(r.BigNumber!==null)return ti(r.BigNumber,t);if(r.BN!==null)return ti(r.BN,t);throw new Qu}function ei(r,t){const e=Ku(r,t);return r[t]=e,e}function Wu(r,t){if(typeof t=="number")rt(Number.isInteger(t),()=>`number should be an integer, got: ${t}`),rt(Number.isSafeInteger(t),"number should be a safe integer"),r.bigint=BigInt(t);else if(typeof t=="string"||typeof t=="bigint")r.bigint=BigInt(t);else if(t instanceof he)rt(!t.isNaN(),"NaN"),rt(t.decimalPlaces(0).eq(t),()=>`BigNumber has decimals, but Wei cannot: ${t.toString()}`),r.BigNumber=t;else if(t instanceof J)r.bigint=t.toBigInt();else if(t instanceof it)r.BN=t;else throw new Error(`Cannot accept this value as Wei input: ${String(t)}`)}class Qu extends Error{constructor(){super(...arguments),this.message="Wei value should not be constructed without initial value"}}const Ro=class{constructor(r){this.#t=Hu(),Co(this),r instanceof Ro?this.#t=r.#t:Wu(this.#t,r)}static fromToken({decimals:r},t){const e=new he(t).multipliedBy(new he(10).pow(r));return new Ro(e)}#t;get asStr(){return ei(this.#t,"string")}get asBigNum(){return ei(this.#t,"BigNumber")}get asBN(){return ei(this.#t,"BN")}get asBigInt(){return ei(this.#t,"bigint")}toToken(r){return this.decimals(r).toFixed()}decimals({decimals:r}){return this.asBigNum.div(new he(10).pow(r))}toString(){return this.asStr}toJSON(){return this.asStr}};let An=Ro;const ju=qu;function zd(r,t=4,e=!1){return`${r.slice(e?0:2,2+t)}....${r.slice(-t)}`}function Hd(r){return Number(r)===0}function Yu(r){if(ju(r))return r;throw new Error(`not a valid address: "${r}"`)}function Xu(){return~~(Date.now()/1e3)+300}function Vu(r,t){return new An(r.asBigInt*BigInt(t))}function tn(r){return typeof r=="bigint"?new he(r.toString()):r instanceof he?r:new he(r)}function ks(r){if(typeof r=="bigint")return r;const t=tn(r);return rt(t.isInteger,"value in not an integer"),BigInt(t.toFixed(0))}class ne{static fromBigNumber(t,e=0){const n=new he(10).pow(e),i=tn(t).multipliedBy(n);return new ne(i.toFixed(0),n)}constructor(t,e=1){this.numerator=ks(t),this.denominator=ks(e)}get quotient(){return new he(this.numerator.toString()).dividedBy(this.denominator.toString())}invert(){return new ne(this.denominator,this.numerator)}plus(t){return this.denominator===t.denominator?new ne(this.numerator+t.numerator,this.denominator):new ne(this.numerator*t.denominator+t.numerator*this.denominator,this.denominator*t.denominator)}minus(t){return this.denominator===t.denominator?new ne(this.numerator-t.numerator,this.denominator):new ne(this.numerator*t.denominator-t.numerator*this.denominator,this.denominator*t.denominator)}isLessThan(t){return this.numerator*t.denominator<t.numerator*this.denominator}isLessOrEqualThan(t){return this.numerator*t.denominator<=t.numerator*this.denominator}isEqualTo(t){return this.numerator*t.denominator===t.numerator*this.denominator}isGreaterThan(t){return this.numerator*t.denominator>t.numerator*this.denominator}isGreaterOrEqualThan(t){return this.numerator*t.denominator>=t.numerator*this.denominator}multipliedBy(t){return new ne(this.numerator*t.numerator,this.denominator*t.denominator)}dividedBy(t){return new ne(this.numerator*t.denominator,this.denominator*t.numerator)}toFixed(t=2,e=he.ROUND_HALF_UP){return rt(t>=0,`${t} is negative.`),tn(this.numerator).div(tn(this.denominator)).toFixed(t,e)}toFormat(t=2,e=he.ROUND_HALF_UP,n={decimalSeparator:"."}){return rt(t>=0,`${t} is negative.`),tn(this.numerator).div(tn(this.denominator)).toFormat(t,e,n)}clone(){return new ne(this.numerator,this.denominator)}}const Cs=new ne(100);class Vo extends ne{toFixed(t=2,e=he.ROUND_HALF_UP){return this.multipliedBy(Cs).toFixed(t,e)}toFormat(t=2,e=he.ROUND_HALF_UP,n={decimalSeparator:".",suffix:"%"}){return this.multipliedBy(Cs).toFormat(t,e,n)}}class Xa{constructor(t,e,n){this.decimals=t,this.symbol=e,this.name=n}equals(t){return t.symbol===this.symbol}amountToFraction(t,e=!1){const n=tn(t),i=new he(10).pow(this.decimals);return new ne(e?n.multipliedBy(i):n,i)}}const $u=2n**256n-1n,Va="0x73365f8f27de98d7634be67a167f229b32e7bf6c",$a=18,Zu="0x42f127458246b1db8d8a58d31a22b307408439e4",Ju=18,Kd="0xce12c887fae83a5f94f6cf3c8d4c1cee8b1c7786",Wd="0x339ba51a3d65ad5418aee14b0546088bfe99403c",Qd="0x4d25d48f8a072446c3aa84ba482092a0bea0bf5d",jd="0xf68b8d3fae7FEB747cB4dCe0a4c91A100B140245",Yd=18,Xd=Object.freeze({chainName:"Klaytn Baobab",chainId:1001,rpcUrl:"https://api.baobab.klaytn.net:8651/",blockExplorerUrl:"https://baobab.scope.klaytn.com/",nativeToken:{name:"KLAY",symbol:"KLAY",decimals:$a}}),Vd=new Vo(3,1e3),tl=3,el=3,Ps=new Vo(1,10),$d=new Xa(2,"USD","US Dollars"),Za="https://baobab.klaytnfinder.io";function Zd(r){return`${Za}/account/${r}`}function Jd(r){return`${Za}/tx/${r}`}const rl={address:Va,name:"KLAY",symbol:"KLAY",decimals:$a},nl={address:Zu,decimals:Ju,symbol:"DEX",name:"DEX Token"},tg=Object.freeze([rl,nl,{address:"0xb9920BD871e39C6EF46169c32e7AC4C698688881",name:"Mercury",symbol:"MER",decimals:18},{address:"0x1CDcD477994e86A11E21C27ca907bEA266EA3A0a",name:"Venus",symbol:"VEN",decimals:18},{address:"0x2486A551714F947C386Fe9c8b895C2A6b3275EC9",name:"Earth",symbol:"EA",decimals:18},{address:"0xAFea7569B745EaE7AB22cF17c3B237c3350407A1",name:"Mars",symbol:"ARS",decimals:18},{address:"0xC20A9eB22de0C6920619aDe93A11283C2a07273e",name:"Jupiter",symbol:"JUP",decimals:18},{address:"0xce77229fF8451f5791ef4Cc2a841735Ed4edc3cA",name:"Saturn",symbol:"SAT",decimals:18},{address:"0xFbcb69f52D6A08C156c543Dd4Dc0521F5F545755",name:"Uranus",symbol:"URA",decimals:18},{address:"0x7cB550723972d7F29b047D6e71b62DcCcAF93992",name:"Neptune",symbol:"NEP",decimals:18},{address:"0xcdBD333BDBB99bC80D77B10CCF74285a97150E5d",name:"Pluto",symbol:"PL",decimals:18},{address:"0x246C989333Fa3C3247C7171F6bca68062172992C",name:"Io",symbol:"IO",decimals:18}]);function Rs(r){return r.toLowerCase()===Va.toLowerCase()}class $o extends ne{constructor(t,e,n){super(e,n),this.currency=t}static fromAmount(t,e,n=!1){const{denominator:i,numerator:o}=t.amountToFraction(e,n);return new $o(t,i,o)}}class b extends Array{constructor(t,e){if(super(t),this.sign=e,t>b.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(t){var e=Math.floor,n=Number.isFinite;if(typeof t=="number"){if(t===0)return b.__zero();if(b.__isOneDigitInt(t))return 0>t?b.__oneDigit(-t,!0):b.__oneDigit(t,!1);if(!n(t)||e(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return b.__fromDouble(t)}if(typeof t=="string"){const i=b.__fromString(t);if(i===null)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return i}if(typeof t=="boolean")return t===!0?b.__oneDigit(1,!1):b.__zero();if(typeof t=="object"){if(t.constructor===b)return t;const i=b.__toPrimitive(t);return b.BigInt(i)}throw new TypeError("Cannot convert "+t+" to a BigInt")}toDebugString(){const t=["BigInt["];for(const e of this)t.push((e&&(e>>>0).toString(16))+", ");return t.push("]"),t.join("")}toString(t=10){if(2>t||36<t)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(t&t-1)==0?b.__toStringBasePowerOfTwo(this,t):b.__toStringGeneric(this,t,!1)}static toNumber(t){const e=t.length;if(e===0)return 0;if(e===1){const F=t.__unsignedDigit(0);return t.sign?-F:F}const n=t.__digit(e-1),i=b.__clz30(n),o=30*e-i;if(1024<o)return t.sign?-1/0:1/0;let s=o-1,a=n,u=e-1;const c=i+3;let d=c===32?0:a<<c;d>>>=12;const g=c-12;let _=12<=c?0:a<<20+c,k=20+c;for(0<g&&0<u&&(u--,a=t.__digit(u),d|=a>>>30-g,_=a<<g+2,k=g+2);0<k&&0<u;)u--,a=t.__digit(u),_|=30<=k?a<<k-30:a>>>30-k,k-=30;const T=b.__decideRounding(t,k,u,a);if((T===1||T===0&&(1&_)==1)&&(_=_+1>>>0,_===0&&(d++,d>>>20!=0&&(d=0,s++,1023<s))))return t.sign?-1/0:1/0;const C=t.sign?-2147483648:0;return s=s+1023<<20,b.__kBitConversionInts[1]=C|s|d,b.__kBitConversionInts[0]=_,b.__kBitConversionDouble[0]}static unaryMinus(t){if(t.length===0)return t;const e=t.__copy();return e.sign=!t.sign,e}static bitwiseNot(t){return t.sign?b.__absoluteSubOne(t).__trim():b.__absoluteAddOne(t,!0)}static exponentiate(t,e){if(e.sign)throw new RangeError("Exponent must be positive");if(e.length===0)return b.__oneDigit(1,!1);if(t.length===0)return t;if(t.length===1&&t.__digit(0)===1)return t.sign&&(1&e.__digit(0))==0?b.unaryMinus(t):t;if(1<e.length)throw new RangeError("BigInt too big");let n=e.__unsignedDigit(0);if(n===1)return t;if(n>=b.__kMaxLengthBits)throw new RangeError("BigInt too big");if(t.length===1&&t.__digit(0)===2){const s=1+(0|n/30),a=t.sign&&(1&n)!=0,u=new b(s,a);u.__initializeDigits();const c=1<<n%30;return u.__setDigit(s-1,c),u}let i=null,o=t;for((1&n)!=0&&(i=t),n>>=1;n!==0;n>>=1)o=b.multiply(o,o),(1&n)!=0&&(i===null?i=o:i=b.multiply(i,o));return i}static multiply(t,e){if(t.length===0)return t;if(e.length===0)return e;let n=t.length+e.length;30<=t.__clzmsd()+e.__clzmsd()&&n--;const i=new b(n,t.sign!==e.sign);i.__initializeDigits();for(let o=0;o<t.length;o++)b.__multiplyAccumulate(e,t.__digit(o),i,o);return i.__trim()}static divide(t,e){if(e.length===0)throw new RangeError("Division by zero");if(0>b.__absoluteCompare(t,e))return b.__zero();const n=t.sign!==e.sign,i=e.__unsignedDigit(0);let o;if(e.length===1&&32767>=i){if(i===1)return n===t.sign?t:b.unaryMinus(t);o=b.__absoluteDivSmall(t,i,null)}else o=b.__absoluteDivLarge(t,e,!0,!1);return o.sign=n,o.__trim()}static remainder(t,e){if(e.length===0)throw new RangeError("Division by zero");if(0>b.__absoluteCompare(t,e))return t;const n=e.__unsignedDigit(0);if(e.length===1&&32767>=n){if(n===1)return b.__zero();const o=b.__absoluteModSmall(t,n);return o===0?b.__zero():b.__oneDigit(o,t.sign)}const i=b.__absoluteDivLarge(t,e,!1,!0);return i.sign=t.sign,i.__trim()}static add(t,e){const n=t.sign;return n===e.sign?b.__absoluteAdd(t,e,n):0<=b.__absoluteCompare(t,e)?b.__absoluteSub(t,e,n):b.__absoluteSub(e,t,!n)}static subtract(t,e){const n=t.sign;return n===e.sign?0<=b.__absoluteCompare(t,e)?b.__absoluteSub(t,e,n):b.__absoluteSub(e,t,!n):b.__absoluteAdd(t,e,n)}static leftShift(t,e){return e.length===0||t.length===0?t:e.sign?b.__rightShiftByAbsolute(t,e):b.__leftShiftByAbsolute(t,e)}static signedRightShift(t,e){return e.length===0||t.length===0?t:e.sign?b.__leftShiftByAbsolute(t,e):b.__rightShiftByAbsolute(t,e)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(t,e){return 0>b.__compareToBigInt(t,e)}static lessThanOrEqual(t,e){return 0>=b.__compareToBigInt(t,e)}static greaterThan(t,e){return 0<b.__compareToBigInt(t,e)}static greaterThanOrEqual(t,e){return 0<=b.__compareToBigInt(t,e)}static equal(t,e){if(t.sign!==e.sign||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t.__digit(n)!==e.__digit(n))return!1;return!0}static notEqual(t,e){return!b.equal(t,e)}static bitwiseAnd(t,e){var n=Math.max;if(!t.sign&&!e.sign)return b.__absoluteAnd(t,e).__trim();if(t.sign&&e.sign){const i=n(t.length,e.length)+1;let o=b.__absoluteSubOne(t,i);const s=b.__absoluteSubOne(e);return o=b.__absoluteOr(o,s,o),b.__absoluteAddOne(o,!0,o).__trim()}return t.sign&&([t,e]=[e,t]),b.__absoluteAndNot(t,b.__absoluteSubOne(e)).__trim()}static bitwiseXor(t,e){var n=Math.max;if(!t.sign&&!e.sign)return b.__absoluteXor(t,e).__trim();if(t.sign&&e.sign){const s=n(t.length,e.length),a=b.__absoluteSubOne(t,s),u=b.__absoluteSubOne(e);return b.__absoluteXor(a,u,a).__trim()}const i=n(t.length,e.length)+1;t.sign&&([t,e]=[e,t]);let o=b.__absoluteSubOne(e,i);return o=b.__absoluteXor(o,t,o),b.__absoluteAddOne(o,!0,o).__trim()}static bitwiseOr(t,e){var n=Math.max;const i=n(t.length,e.length);if(!t.sign&&!e.sign)return b.__absoluteOr(t,e).__trim();if(t.sign&&e.sign){let s=b.__absoluteSubOne(t,i);const a=b.__absoluteSubOne(e);return s=b.__absoluteAnd(s,a,s),b.__absoluteAddOne(s,!0,s).__trim()}t.sign&&([t,e]=[e,t]);let o=b.__absoluteSubOne(e,i);return o=b.__absoluteAndNot(o,t,o),b.__absoluteAddOne(o,!0,o).__trim()}static asIntN(t,e){var n=Math.floor;if(e.length===0)return e;if(t=n(t),0>t)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(t===0)return b.__zero();if(t>=b.__kMaxLengthBits)return e;const i=0|(t+29)/30;if(e.length<i)return e;const o=e.__unsignedDigit(i-1),s=1<<(t-1)%30;if(e.length===i&&o<s)return e;if((o&s)!==s)return b.__truncateToNBits(t,e);if(!e.sign)return b.__truncateAndSubFromPowerOfTwo(t,e,!0);if((o&s-1)==0){for(let a=i-2;0<=a;a--)if(e.__digit(a)!==0)return b.__truncateAndSubFromPowerOfTwo(t,e,!1);return e.length===i&&o===s?e:b.__truncateToNBits(t,e)}return b.__truncateAndSubFromPowerOfTwo(t,e,!1)}static asUintN(t,e){var n=Math.floor;if(e.length===0)return e;if(t=n(t),0>t)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(t===0)return b.__zero();if(e.sign){if(t>b.__kMaxLengthBits)throw new RangeError("BigInt too big");return b.__truncateAndSubFromPowerOfTwo(t,e,!1)}if(t>=b.__kMaxLengthBits)return e;const i=0|(t+29)/30;if(e.length<i)return e;const o=t%30;return e.length==i&&(o===0||e.__digit(i-1)>>>o==0)?e:b.__truncateToNBits(t,e)}static ADD(t,e){if(t=b.__toPrimitive(t),e=b.__toPrimitive(e),typeof t=="string")return typeof e!="string"&&(e=e.toString()),t+e;if(typeof e=="string")return t.toString()+e;if(t=b.__toNumeric(t),e=b.__toNumeric(e),b.__isBigInt(t)&&b.__isBigInt(e))return b.add(t,e);if(typeof t=="number"&&typeof e=="number")return t+e;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(t,e){return b.__compare(t,e,0)}static LE(t,e){return b.__compare(t,e,1)}static GT(t,e){return b.__compare(t,e,2)}static GE(t,e){return b.__compare(t,e,3)}static EQ(t,e){for(;;){if(b.__isBigInt(t))return b.__isBigInt(e)?b.equal(t,e):b.EQ(e,t);if(typeof t=="number"){if(b.__isBigInt(e))return b.__equalToNumber(e,t);if(typeof e!="object")return t==e;e=b.__toPrimitive(e)}else if(typeof t=="string"){if(b.__isBigInt(e))return t=b.__fromString(t),t!==null&&b.equal(t,e);if(typeof e!="object")return t==e;e=b.__toPrimitive(e)}else if(typeof t=="boolean"){if(b.__isBigInt(e))return b.__equalToNumber(e,+t);if(typeof e!="object")return t==e;e=b.__toPrimitive(e)}else if(typeof t=="symbol"){if(b.__isBigInt(e))return!1;if(typeof e!="object")return t==e;e=b.__toPrimitive(e)}else if(typeof t=="object"){if(typeof e=="object"&&e.constructor!==b)return t==e;t=b.__toPrimitive(t)}else return t==e}}static NE(t,e){return!b.EQ(t,e)}static __zero(){return new b(0,!1)}static __oneDigit(t,e){const n=new b(1,e);return n.__setDigit(0,t),n}__copy(){const t=new b(this.length,this.sign);for(let e=0;e<this.length;e++)t[e]=this[e];return t}__trim(){let t=this.length,e=this[t-1];for(;e===0;)t--,e=this[t-1],this.pop();return t===0&&(this.sign=!1),this}__initializeDigits(){for(let t=0;t<this.length;t++)this[t]=0}static __decideRounding(t,e,n,i){if(0<e)return-1;let o;if(0>e)o=-e-1;else{if(n===0)return-1;n--,i=t.__digit(n),o=29}let s=1<<o;if((i&s)==0)return-1;if(s-=1,(i&s)!=0)return 1;for(;0<n;)if(n--,t.__digit(n)!==0)return 1;return 0}static __fromDouble(t){b.__kBitConversionDouble[0]=t;const e=2047&b.__kBitConversionInts[1]>>>20,n=e-1023,i=(0|n/30)+1,o=new b(i,0>t);let s=1048575&b.__kBitConversionInts[1]|1048576,a=b.__kBitConversionInts[0];const u=20,c=n%30;let d,g=0;if(c<20){const _=u-c;g=_+32,d=s>>>_,s=s<<32-_|a>>>_,a<<=32-_}else if(c===20)g=32,d=s,s=a,a=0;else{const _=c-u;g=32-_,d=s<<_|a>>>32-_,s=a<<_,a=0}o.__setDigit(i-1,d);for(let _=i-2;0<=_;_--)0<g?(g-=30,d=s>>>2,s=s<<30|a>>>2,a<<=30):d=0,o.__setDigit(_,d);return o.__trim()}static __isWhitespace(t){return 13>=t&&9<=t||(159>=t?t==32:131071>=t?t==160||t==5760:196607>=t?(t&=131071,10>=t||t==40||t==41||t==47||t==95||t==4096):t==65279)}static __fromString(t,e=0){let n=0;const i=t.length;let o=0;if(o===i)return b.__zero();let s=t.charCodeAt(o);for(;b.__isWhitespace(s);){if(++o===i)return b.__zero();s=t.charCodeAt(o)}if(s===43){if(++o===i)return null;s=t.charCodeAt(o),n=1}else if(s===45){if(++o===i)return null;s=t.charCodeAt(o),n=-1}if(e===0){if(e=10,s===48){if(++o===i)return b.__zero();if(s=t.charCodeAt(o),s===88||s===120){if(e=16,++o===i)return null;s=t.charCodeAt(o)}else if(s===79||s===111){if(e=8,++o===i)return null;s=t.charCodeAt(o)}else if(s===66||s===98){if(e=2,++o===i)return null;s=t.charCodeAt(o)}}}else if(e===16&&s===48){if(++o===i)return b.__zero();if(s=t.charCodeAt(o),s===88||s===120){if(++o===i)return null;s=t.charCodeAt(o)}}if(n!=0&&e!==10)return null;for(;s===48;){if(++o===i)return b.__zero();s=t.charCodeAt(o)}const a=i-o;let u=b.__kMaxBitsPerChar[e],c=b.__kBitsPerCharTableMultiplier-1;if(a>1073741824/u)return null;const d=u*a+c>>>b.__kBitsPerCharTableShift,g=new b(0|(d+29)/30,!1),_=10>e?e:10,k=10<e?e-10:0;if((e&e-1)==0){u>>=b.__kBitsPerCharTableShift;const T=[],C=[];let F=!1;do{let D=0,R=0;for(;;){let G;if(s-48>>>0<_)G=s-48;else if((32|s)-97>>>0<k)G=(32|s)-87;else{F=!0;break}if(R+=u,D=D<<u|G,++o===i){F=!0;break}if(s=t.charCodeAt(o),30<R+u)break}T.push(D),C.push(R)}while(!F);b.__fillFromParts(g,T,C)}else{g.__initializeDigits();let T=!1,C=0;do{let F=0,D=1;for(;;){let G;if(s-48>>>0<_)G=s-48;else if((32|s)-97>>>0<k)G=(32|s)-87;else{T=!0;break}const W=D*e;if(1073741823<W)break;if(D=W,F=F*e+G,C++,++o===i){T=!0;break}s=t.charCodeAt(o)}c=30*b.__kBitsPerCharTableMultiplier-1;const R=0|(u*C+c>>>b.__kBitsPerCharTableShift)/30;g.__inplaceMultiplyAdd(D,F,R)}while(!T)}if(o!==i){if(!b.__isWhitespace(s))return null;for(o++;o<i;o++)if(s=t.charCodeAt(o),!b.__isWhitespace(s))return null}return g.sign=n==-1,g.__trim()}static __fillFromParts(t,e,n){let i=0,o=0,s=0;for(let a=e.length-1;0<=a;a--){const u=e[a],c=n[a];o|=u<<s,s+=c,s===30?(t.__setDigit(i++,o),s=0,o=0):30<s&&(t.__setDigit(i++,1073741823&o),s-=30,o=u>>>c-s)}if(o!==0){if(i>=t.length)throw new Error("implementation bug");t.__setDigit(i++,o)}for(;i<t.length;i++)t.__setDigit(i,0)}static __toStringBasePowerOfTwo(t,e){const n=t.length;let i=e-1;i=(85&i>>>1)+(85&i),i=(51&i>>>2)+(51&i),i=(15&i>>>4)+(15&i);const o=i,s=e-1,a=t.__digit(n-1),u=b.__clz30(a);let c=0|(30*n-u+o-1)/o;if(t.sign&&c++,268435456<c)throw new Error("string too long");const d=Array(c);let g=c-1,_=0,k=0;for(let C=0;C<n-1;C++){const F=t.__digit(C),D=(_|F<<k)&s;d[g--]=b.__kConversionChars[D];const R=o-k;for(_=F>>>R,k=30-R;k>=o;)d[g--]=b.__kConversionChars[_&s],_>>>=o,k-=o}const T=(_|a<<k)&s;for(d[g--]=b.__kConversionChars[T],_=a>>>o-k;_!==0;)d[g--]=b.__kConversionChars[_&s],_>>>=o;if(t.sign&&(d[g--]="-"),g!=-1)throw new Error("implementation bug");return d.join("")}static __toStringGeneric(t,e,n){const i=t.length;if(i===0)return"";if(i===1){let C=t.__unsignedDigit(0).toString(e);return n===!1&&t.sign&&(C="-"+C),C}const o=30*i-b.__clz30(t.__digit(i-1)),s=b.__kMaxBitsPerChar[e],a=s-1;let u=o*b.__kBitsPerCharTableMultiplier;u+=a-1,u=0|u/a;const c=u+1>>1,d=b.exponentiate(b.__oneDigit(e,!1),b.__oneDigit(c,!1));let g,_;const k=d.__unsignedDigit(0);if(d.length===1&&32767>=k){g=new b(t.length,!1),g.__initializeDigits();let C=0;for(let F=2*t.length-1;0<=F;F--){const D=C<<15|t.__halfDigit(F);g.__setHalfDigit(F,0|D/k),C=0|D%k}_=C.toString(e)}else{const C=b.__absoluteDivLarge(t,d,!0,!0);g=C.quotient;const F=C.remainder.__trim();_=b.__toStringGeneric(F,e,!0)}g.__trim();let T=b.__toStringGeneric(g,e,!0);for(;_.length<c;)_="0"+_;return n===!1&&t.sign&&(T="-"+T),T+_}static __unequalSign(t){return t?-1:1}static __absoluteGreater(t){return t?-1:1}static __absoluteLess(t){return t?1:-1}static __compareToBigInt(t,e){const n=t.sign;if(n!==e.sign)return b.__unequalSign(n);const i=b.__absoluteCompare(t,e);return 0<i?b.__absoluteGreater(n):0>i?b.__absoluteLess(n):0}static __compareToNumber(t,e){if(b.__isOneDigitInt(e)){const n=t.sign,i=0>e;if(n!==i)return b.__unequalSign(n);if(t.length===0){if(i)throw new Error("implementation bug");return e===0?0:-1}if(1<t.length)return b.__absoluteGreater(n);const o=Math.abs(e),s=t.__unsignedDigit(0);return s>o?b.__absoluteGreater(n):s<o?b.__absoluteLess(n):0}return b.__compareToDouble(t,e)}static __compareToDouble(t,e){if(e!==e)return e;if(e===1/0)return-1;if(e===-1/0)return 1;const n=t.sign;if(n!==0>e)return b.__unequalSign(n);if(e===0)throw new Error("implementation bug: should be handled elsewhere");if(t.length===0)return-1;b.__kBitConversionDouble[0]=e;const i=2047&b.__kBitConversionInts[1]>>>20;if(i==2047)throw new Error("implementation bug: handled elsewhere");const o=i-1023;if(0>o)return b.__absoluteGreater(n);const s=t.length;let a=t.__digit(s-1);const u=b.__clz30(a),c=30*s-u,d=o+1;if(c<d)return b.__absoluteLess(n);if(c>d)return b.__absoluteGreater(n);let g=1048576|1048575&b.__kBitConversionInts[1],_=b.__kBitConversionInts[0];const k=20,T=29-u;if(T!==(0|(c-1)%30))throw new Error("implementation bug");let C,F=0;if(20>T){const D=k-T;F=D+32,C=g>>>D,g=g<<32-D|_>>>D,_<<=32-D}else if(T===20)F=32,C=g,g=_,_=0;else{const D=T-k;F=32-D,C=g<<D|_>>>32-D,g=_<<D,_=0}if(a>>>=0,C>>>=0,a>C)return b.__absoluteGreater(n);if(a<C)return b.__absoluteLess(n);for(let D=s-2;0<=D;D--){0<F?(F-=30,C=g>>>2,g=g<<30|_>>>2,_<<=30):C=0;const R=t.__unsignedDigit(D);if(R>C)return b.__absoluteGreater(n);if(R<C)return b.__absoluteLess(n)}if(g!==0||_!==0){if(F===0)throw new Error("implementation bug");return b.__absoluteLess(n)}return 0}static __equalToNumber(t,e){var n=Math.abs;return b.__isOneDigitInt(e)?e===0?t.length===0:t.length===1&&t.sign===0>e&&t.__unsignedDigit(0)===n(e):b.__compareToDouble(t,e)===0}static __comparisonResultToBool(t,e){return e===0?0>t:e===1?0>=t:e===2?0<t:e===3?0<=t:void 0}static __compare(t,e,n){if(t=b.__toPrimitive(t),e=b.__toPrimitive(e),typeof t=="string"&&typeof e=="string")switch(n){case 0:return t<e;case 1:return t<=e;case 2:return t>e;case 3:return t>=e}if(b.__isBigInt(t)&&typeof e=="string")return e=b.__fromString(e),e!==null&&b.__comparisonResultToBool(b.__compareToBigInt(t,e),n);if(typeof t=="string"&&b.__isBigInt(e))return t=b.__fromString(t),t!==null&&b.__comparisonResultToBool(b.__compareToBigInt(t,e),n);if(t=b.__toNumeric(t),e=b.__toNumeric(e),b.__isBigInt(t)){if(b.__isBigInt(e))return b.__comparisonResultToBool(b.__compareToBigInt(t,e),n);if(typeof e!="number")throw new Error("implementation bug");return b.__comparisonResultToBool(b.__compareToNumber(t,e),n)}if(typeof t!="number")throw new Error("implementation bug");if(b.__isBigInt(e))return b.__comparisonResultToBool(b.__compareToNumber(e,t),2^n);if(typeof e!="number")throw new Error("implementation bug");return n===0?t<e:n===1?t<=e:n===2?t>e:n===3?t>=e:void 0}__clzmsd(){return b.__clz30(this.__digit(this.length-1))}static __absoluteAdd(t,e,n){if(t.length<e.length)return b.__absoluteAdd(e,t,n);if(t.length===0)return t;if(e.length===0)return t.sign===n?t:b.unaryMinus(t);let i=t.length;(t.__clzmsd()===0||e.length===t.length&&e.__clzmsd()===0)&&i++;const o=new b(i,n);let s=0,a=0;for(;a<e.length;a++){const u=t.__digit(a)+e.__digit(a)+s;s=u>>>30,o.__setDigit(a,1073741823&u)}for(;a<t.length;a++){const u=t.__digit(a)+s;s=u>>>30,o.__setDigit(a,1073741823&u)}return a<o.length&&o.__setDigit(a,s),o.__trim()}static __absoluteSub(t,e,n){if(t.length===0)return t;if(e.length===0)return t.sign===n?t:b.unaryMinus(t);const i=new b(t.length,n);let o=0,s=0;for(;s<e.length;s++){const a=t.__digit(s)-e.__digit(s)-o;o=1&a>>>30,i.__setDigit(s,1073741823&a)}for(;s<t.length;s++){const a=t.__digit(s)-o;o=1&a>>>30,i.__setDigit(s,1073741823&a)}return i.__trim()}static __absoluteAddOne(t,e,n=null){const i=t.length;n===null?n=new b(i,e):n.sign=e;let o=1;for(let s=0;s<i;s++){const a=t.__digit(s)+o;o=a>>>30,n.__setDigit(s,1073741823&a)}return o!=0&&n.__setDigitGrow(i,1),n}static __absoluteSubOne(t,e){const n=t.length;e=e||n;const i=new b(e,!1);let o=1;for(let s=0;s<n;s++){const a=t.__digit(s)-o;o=1&a>>>30,i.__setDigit(s,1073741823&a)}if(o!=0)throw new Error("implementation bug");for(let s=n;s<e;s++)i.__setDigit(s,0);return i}static __absoluteAnd(t,e,n=null){let i=t.length,o=e.length,s=o;if(i<o){s=i;const c=t,d=i;t=e,i=o,e=c,o=d}let a=s;n===null?n=new b(a,!1):a=n.length;let u=0;for(;u<s;u++)n.__setDigit(u,t.__digit(u)&e.__digit(u));for(;u<a;u++)n.__setDigit(u,0);return n}static __absoluteAndNot(t,e,n=null){const i=t.length,o=e.length;let s=o;i<o&&(s=i);let a=i;n===null?n=new b(a,!1):a=n.length;let u=0;for(;u<s;u++)n.__setDigit(u,t.__digit(u)&~e.__digit(u));for(;u<i;u++)n.__setDigit(u,t.__digit(u));for(;u<a;u++)n.__setDigit(u,0);return n}static __absoluteOr(t,e,n=null){let i=t.length,o=e.length,s=o;if(i<o){s=i;const c=t,d=i;t=e,i=o,e=c,o=d}let a=i;n===null?n=new b(a,!1):a=n.length;let u=0;for(;u<s;u++)n.__setDigit(u,t.__digit(u)|e.__digit(u));for(;u<i;u++)n.__setDigit(u,t.__digit(u));for(;u<a;u++)n.__setDigit(u,0);return n}static __absoluteXor(t,e,n=null){let i=t.length,o=e.length,s=o;if(i<o){s=i;const c=t,d=i;t=e,i=o,e=c,o=d}let a=i;n===null?n=new b(a,!1):a=n.length;let u=0;for(;u<s;u++)n.__setDigit(u,t.__digit(u)^e.__digit(u));for(;u<i;u++)n.__setDigit(u,t.__digit(u));for(;u<a;u++)n.__setDigit(u,0);return n}static __absoluteCompare(t,e){const n=t.length-e.length;if(n!=0)return n;let i=t.length-1;for(;0<=i&&t.__digit(i)===e.__digit(i);)i--;return 0>i?0:t.__unsignedDigit(i)>e.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(t,e,n,i){if(e===0)return;const o=32767&e,s=e>>>15;let a=0,u=0;for(let c,d=0;d<t.length;d++,i++){c=n.__digit(i);const g=t.__digit(d),_=32767&g,k=g>>>15,T=b.__imul(_,o),C=b.__imul(_,s),F=b.__imul(k,o),D=b.__imul(k,s);c+=u+T+a,a=c>>>30,c&=1073741823,c+=((32767&C)<<15)+((32767&F)<<15),a+=c>>>30,u=D+(C>>>15)+(F>>>15),n.__setDigit(i,1073741823&c)}for(;a!=0||u!==0;i++){let c=n.__digit(i);c+=a+u,u=0,a=c>>>30,n.__setDigit(i,1073741823&c)}}static __internalMultiplyAdd(t,e,n,i,o){let s=n,a=0;for(let u=0;u<i;u++){const c=t.__digit(u),d=b.__imul(32767&c,e),g=b.__imul(c>>>15,e),_=d+((32767&g)<<15)+a+s;s=_>>>30,a=g>>>15,o.__setDigit(u,1073741823&_)}if(o.length>i)for(o.__setDigit(i++,s+a);i<o.length;)o.__setDigit(i++,0);else if(s+a!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(t,e,n){n>this.length&&(n=this.length);const i=32767&t,o=t>>>15;let s=0,a=e;for(let u=0;u<n;u++){const c=this.__digit(u),d=32767&c,g=c>>>15,_=b.__imul(d,i),k=b.__imul(d,o),T=b.__imul(g,i),C=b.__imul(g,o);let F=a+_+s;s=F>>>30,F&=1073741823,F+=((32767&k)<<15)+((32767&T)<<15),s+=F>>>30,a=C+(k>>>15)+(T>>>15),this.__setDigit(u,1073741823&F)}if(s!=0||a!==0)throw new Error("implementation bug")}static __absoluteDivSmall(t,e,n=null){n===null&&(n=new b(t.length,!1));let i=0;for(let o,s=2*t.length-1;0<=s;s-=2){o=(i<<15|t.__halfDigit(s))>>>0;const a=0|o/e;i=0|o%e,o=(i<<15|t.__halfDigit(s-1))>>>0;const u=0|o/e;i=0|o%e,n.__setDigit(s>>>1,a<<15|u)}return n}static __absoluteModSmall(t,e){let n=0;for(let i=2*t.length-1;0<=i;i--){const o=(n<<15|t.__halfDigit(i))>>>0;n=0|o%e}return n}static __absoluteDivLarge(t,e,n,i){const o=e.__halfDigitLength(),s=e.length,a=t.__halfDigitLength()-o;let u=null;n&&(u=new b(a+2>>>1,!1),u.__initializeDigits());const c=new b(o+2>>>1,!1);c.__initializeDigits();const d=b.__clz15(e.__halfDigit(o-1));0<d&&(e=b.__specialLeftShift(e,d,0));const g=b.__specialLeftShift(t,d,1),_=e.__halfDigit(o-1);let k=0;for(let T,C=a;0<=C;C--){T=32767;const F=g.__halfDigit(C+o);if(F!==_){const R=(F<<15|g.__halfDigit(C+o-1))>>>0;T=0|R/_;let G=0|R%_;const W=e.__halfDigit(o-2),H=g.__halfDigit(C+o-2);for(;b.__imul(T,W)>>>0>(G<<16|H)>>>0&&(T--,G+=_,!(32767<G)););}b.__internalMultiplyAdd(e,T,0,s,c);let D=g.__inplaceSub(c,C,o+1);D!==0&&(D=g.__inplaceAdd(e,C,o),g.__setHalfDigit(C+o,32767&g.__halfDigit(C+o)+D),T--),n&&(1&C?k=T<<15:u.__setDigit(C>>>1,k|T))}if(i)return g.__inplaceRightShift(d),n?{quotient:u,remainder:g}:g;if(n)return u;throw new Error("unreachable")}static __clz15(t){return b.__clz30(t)-15}__inplaceAdd(t,e,n){let i=0;for(let o=0;o<n;o++){const s=this.__halfDigit(e+o)+t.__halfDigit(o)+i;i=s>>>15,this.__setHalfDigit(e+o,32767&s)}return i}__inplaceSub(t,e,n){let i=0;if(1&e){e>>=1;let o=this.__digit(e),s=32767&o,a=0;for(;a<n-1>>>1;a++){const d=t.__digit(a),g=(o>>>15)-(32767&d)-i;i=1&g>>>15,this.__setDigit(e+a,(32767&g)<<15|32767&s),o=this.__digit(e+a+1),s=(32767&o)-(d>>>15)-i,i=1&s>>>15}const u=t.__digit(a),c=(o>>>15)-(32767&u)-i;if(i=1&c>>>15,this.__setDigit(e+a,(32767&c)<<15|32767&s),e+a+1>=this.length)throw new RangeError("out of bounds");(1&n)==0&&(o=this.__digit(e+a+1),s=(32767&o)-(u>>>15)-i,i=1&s>>>15,this.__setDigit(e+t.length,1073709056&o|32767&s))}else{e>>=1;let o=0;for(;o<t.length-1;o++){const d=this.__digit(e+o),g=t.__digit(o),_=(32767&d)-(32767&g)-i;i=1&_>>>15;const k=(d>>>15)-(g>>>15)-i;i=1&k>>>15,this.__setDigit(e+o,(32767&k)<<15|32767&_)}const s=this.__digit(e+o),a=t.__digit(o),u=(32767&s)-(32767&a)-i;i=1&u>>>15;let c=0;(1&n)==0&&(c=(s>>>15)-(a>>>15)-i,i=1&c>>>15),this.__setDigit(e+o,(32767&c)<<15|32767&u)}return i}__inplaceRightShift(t){if(t===0)return;let e=this.__digit(0)>>>t;const n=this.length-1;for(let i=0;i<n;i++){const o=this.__digit(i+1);this.__setDigit(i,1073741823&o<<30-t|e),e=o>>>t}this.__setDigit(n,e)}static __specialLeftShift(t,e,n){const i=t.length,o=new b(i+n,!1);if(e===0){for(let a=0;a<i;a++)o.__setDigit(a,t.__digit(a));return 0<n&&o.__setDigit(i,0),o}let s=0;for(let a=0;a<i;a++){const u=t.__digit(a);o.__setDigit(a,1073741823&u<<e|s),s=u>>>30-e}return 0<n&&o.__setDigit(i,s),o}static __leftShiftByAbsolute(t,e){const n=b.__toShiftAmount(e);if(0>n)throw new RangeError("BigInt too big");const i=0|n/30,o=n%30,s=t.length,a=o!==0&&t.__digit(s-1)>>>30-o!=0,u=s+i+(a?1:0),c=new b(u,t.sign);if(o===0){let d=0;for(;d<i;d++)c.__setDigit(d,0);for(;d<u;d++)c.__setDigit(d,t.__digit(d-i))}else{let d=0;for(let g=0;g<i;g++)c.__setDigit(g,0);for(let g=0;g<s;g++){const _=t.__digit(g);c.__setDigit(g+i,1073741823&_<<o|d),d=_>>>30-o}if(a)c.__setDigit(s+i,d);else if(d!==0)throw new Error("implementation bug")}return c.__trim()}static __rightShiftByAbsolute(t,e){const n=t.length,i=t.sign,o=b.__toShiftAmount(e);if(0>o)return b.__rightShiftByMaximum(i);const s=0|o/30,a=o%30;let u=n-s;if(0>=u)return b.__rightShiftByMaximum(i);let c=!1;if(i){if((t.__digit(s)&(1<<a)-1)!=0)c=!0;else for(let g=0;g<s;g++)if(t.__digit(g)!==0){c=!0;break}}c&&a===0&&~t.__digit(n-1)==0&&u++;let d=new b(u,i);if(a===0){d.__setDigit(u-1,0);for(let g=s;g<n;g++)d.__setDigit(g-s,t.__digit(g))}else{let g=t.__digit(s)>>>a;const _=n-s-1;for(let k=0;k<_;k++){const T=t.__digit(k+s+1);d.__setDigit(k,1073741823&T<<30-a|g),g=T>>>a}d.__setDigit(_,g)}return c&&(d=b.__absoluteAddOne(d,!0,d)),d.__trim()}static __rightShiftByMaximum(t){return t?b.__oneDigit(1,!0):b.__zero()}static __toShiftAmount(t){if(1<t.length)return-1;const e=t.__unsignedDigit(0);return e>b.__kMaxLengthBits?-1:e}static __toPrimitive(t,e="default"){if(typeof t!="object"||t.constructor===b)return t;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){const o=t[Symbol.toPrimitive];if(o){const s=o(e);if(typeof s!="object")return s;throw new TypeError("Cannot convert object to primitive value")}}const n=t.valueOf;if(n){const o=n.call(t);if(typeof o!="object")return o}const i=t.toString;if(i){const o=i.call(t);if(typeof o!="object")return o}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(t){return b.__isBigInt(t)?t:+t}static __isBigInt(t){return typeof t=="object"&&t!==null&&t.constructor===b}static __truncateToNBits(t,e){const n=0|(t+29)/30,i=new b(n,e.sign),o=n-1;for(let a=0;a<o;a++)i.__setDigit(a,e.__digit(a));let s=e.__digit(o);if(t%30!=0){const a=32-t%30;s=s<<a>>>a}return i.__setDigit(o,s),i.__trim()}static __truncateAndSubFromPowerOfTwo(t,e,n){var i=Math.min;const o=0|(t+29)/30,s=new b(o,n);let a=0;const u=o-1;let c=0;for(const k=i(u,e.length);a<k;a++){const T=0-e.__digit(a)-c;c=1&T>>>30,s.__setDigit(a,1073741823&T)}for(;a<u;a++)s.__setDigit(a,0|1073741823&-c);let d=u<e.length?e.__digit(u):0;const g=t%30;let _;if(g==0)_=0-d-c,_&=1073741823;else{const k=32-g;d=d<<k>>>k;const T=1<<32-k;_=T-d-c,_&=T-1}return s.__setDigit(u,_),s.__trim()}__digit(t){return this[t]}__unsignedDigit(t){return this[t]>>>0}__setDigit(t,e){this[t]=0|e}__setDigitGrow(t,e){this[t]=0|e}__halfDigitLength(){const t=this.length;return 32767>=this.__unsignedDigit(t-1)?2*t-1:2*t}__halfDigit(t){return 32767&this[t>>>1]>>>15*(1&t)}__setHalfDigit(t,e){const n=t>>>1,i=this.__digit(n),o=1&t?32767&i|e<<15:1073709056&i|32767&e;this.__setDigit(n,o)}static __digitPow(t,e){let n=1;for(;0<e;)1&e&&(n*=t),e>>>=1,t*=t;return n}static __isOneDigitInt(t){return(1073741823&t)===t}}b.__kMaxLength=33554432,b.__kMaxLengthBits=b.__kMaxLength<<5,b.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],b.__kBitsPerCharTableShift=5,b.__kBitsPerCharTableMultiplier=1<<b.__kBitsPerCharTableShift,b.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],b.__kBitConversionBuffer=new ArrayBuffer(8),b.__kBitConversionDouble=new Float64Array(b.__kBitConversionBuffer),b.__kBitConversionInts=new Int32Array(b.__kBitConversionBuffer),b.__clz30=Math.clz32?function(r){return Math.clz32(r)-2}:function(r){return r===0?30:0|29-(0|Math.log(r>>>0)/Math.LN2)},b.__imul=Math.imul||function(r,t){return 0|r*t};var _n=1e9,il={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Jo,Vt=!0,Oe="[DecimalError] ",en=Oe+"Invalid argument: ",Zo=Oe+"Exponent out of range: ",xn=Math.floor,Jr=Math.pow,ol=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ne,se=1e7,Yt=7,Ja=9007199254740991,yi=xn(Ja/Yt),$={};$.absoluteValue=$.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};$.comparedTo=$.cmp=function(r){var t,e,n,i,o=this;if(r=new o.constructor(r),o.s!==r.s)return o.s||-r.s;if(o.e!==r.e)return o.e>r.e^o.s<0?1:-1;for(n=o.d.length,i=r.d.length,t=0,e=n<i?n:i;t<e;++t)if(o.d[t]!==r.d[t])return o.d[t]>r.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};$.decimalPlaces=$.dp=function(){var r=this,t=r.d.length-1,e=(t-r.e)*Yt;if(t=r.d[t],t)for(;t%10==0;t/=10)e--;return e<0?0:e};$.dividedBy=$.div=function(r){return dr(this,new this.constructor(r))};$.dividedToIntegerBy=$.idiv=function(r){var t=this,e=t.constructor;return dt(dr(t,new e(r),0,1),e.precision)};$.equals=$.eq=function(r){return!this.cmp(r)};$.exponent=function(){return re(this)};$.greaterThan=$.gt=function(r){return this.cmp(r)>0};$.greaterThanOrEqualTo=$.gte=function(r){return this.cmp(r)>=0};$.isInteger=$.isint=function(){return this.e>this.d.length-2};$.isNegative=$.isneg=function(){return this.s<0};$.isPositive=$.ispos=function(){return this.s>0};$.isZero=function(){return this.s===0};$.lessThan=$.lt=function(r){return this.cmp(r)<0};$.lessThanOrEqualTo=$.lte=function(r){return this.cmp(r)<1};$.logarithm=$.log=function(r){var t,e=this,n=e.constructor,i=n.precision,o=i+5;if(r===void 0)r=new n(10);else if(r=new n(r),r.s<1||r.eq(Ne))throw Error(Oe+"NaN");if(e.s<1)throw Error(Oe+(e.s?"NaN":"-Infinity"));return e.eq(Ne)?new n(0):(Vt=!1,t=dr(zn(e,o),zn(r,o),o),Vt=!0,dt(t,i))};$.minus=$.sub=function(r){var t=this;return r=new t.constructor(r),t.s==r.s?rf(t,r):tf(t,(r.s=-r.s,r))};$.modulo=$.mod=function(r){var t,e=this,n=e.constructor,i=n.precision;if(r=new n(r),!r.s)throw Error(Oe+"NaN");return e.s?(Vt=!1,t=dr(e,r,0,1).times(r),Vt=!0,e.minus(t)):dt(new n(e),i)};$.naturalExponential=$.exp=function(){return ef(this)};$.naturalLogarithm=$.ln=function(){return zn(this)};$.negated=$.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};$.plus=$.add=function(r){var t=this;return r=new t.constructor(r),t.s==r.s?tf(t,r):rf(t,(r.s=-r.s,r))};$.precision=$.sd=function(r){var t,e,n,i=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(en+r);if(t=re(i)+1,n=i.d.length-1,e=n*Yt+1,n=i.d[n],n){for(;n%10==0;n/=10)e--;for(n=i.d[0];n>=10;n/=10)e++}return r&&t>e?t:e};$.squareRoot=$.sqrt=function(){var r,t,e,n,i,o,s,a=this,u=a.constructor;if(a.s<1){if(!a.s)return new u(0);throw Error(Oe+"NaN")}for(r=re(a),Vt=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=Je(a.d),(t.length+r)%2==0&&(t+="0"),i=Math.sqrt(t),r=xn((r+1)/2)-(r<0||r%2),i==1/0?t="5e"+r:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new u(t)):n=new u(i.toString()),e=u.precision,i=s=e+3;;)if(o=n,n=o.plus(dr(a,o,s+2)).times(.5),Je(o.d).slice(0,s)===(t=Je(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(dt(o,e+1,0),o.times(o).eq(a)){n=o;break}}else if(t!="9999")break;s+=4}return Vt=!0,dt(n,e)};$.times=$.mul=function(r){var t,e,n,i,o,s,a,u,c,d=this,g=d.constructor,_=d.d,k=(r=new g(r)).d;if(!d.s||!r.s)return new g(0);for(r.s*=d.s,e=d.e+r.e,u=_.length,c=k.length,u<c&&(o=_,_=k,k=o,s=u,u=c,c=s),o=[],s=u+c,n=s;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,i=u+n;i>n;)a=o[i]+k[n]*_[i-n-1]+t,o[i--]=a%se|0,t=a/se|0;o[i]=(o[i]+t)%se|0}for(;!o[--s];)o.pop();return t?++e:o.shift(),r.d=o,r.e=e,Vt?dt(r,g.precision):r};$.toDecimalPlaces=$.todp=function(r,t){var e=this,n=e.constructor;return e=new n(e),r===void 0?e:(ir(r,0,_n),t===void 0?t=n.rounding:ir(t,0,8),dt(e,r+re(e)+1,t))};$.toExponential=function(r,t){var e,n=this,i=n.constructor;return r===void 0?e=nn(n,!0):(ir(r,0,_n),t===void 0?t=i.rounding:ir(t,0,8),n=dt(new i(n),r+1,t),e=nn(n,!0,r+1)),e};$.toFixed=function(r,t){var e,n,i=this,o=i.constructor;return r===void 0?nn(i):(ir(r,0,_n),t===void 0?t=o.rounding:ir(t,0,8),n=dt(new o(i),r+re(i)+1,t),e=nn(n.abs(),!1,r+re(n)+1),i.isneg()&&!i.isZero()?"-"+e:e)};$.toInteger=$.toint=function(){var r=this,t=r.constructor;return dt(new t(r),re(r)+1,t.rounding)};$.toNumber=function(){return+this};$.toPower=$.pow=function(r){var t,e,n,i,o,s,a=this,u=a.constructor,c=12,d=+(r=new u(r));if(!r.s)return new u(Ne);if(a=new u(a),!a.s){if(r.s<1)throw Error(Oe+"Infinity");return a}if(a.eq(Ne))return a;if(n=u.precision,r.eq(Ne))return dt(a,n);if(t=r.e,e=r.d.length-1,s=t>=e,o=a.s,s){if((e=d<0?-d:d)<=Ja){for(i=new u(Ne),t=Math.ceil(n/Yt+4),Vt=!1;e%2&&(i=i.times(a),Os(i.d,t)),e=xn(e/2),e!==0;)a=a.times(a),Os(a.d,t);return Vt=!0,r.s<0?new u(Ne).div(i):dt(i,n)}}else if(o<0)throw Error(Oe+"NaN");return o=o<0&&r.d[Math.max(t,e)]&1?-1:1,a.s=1,Vt=!1,i=r.times(zn(a,n+c)),Vt=!0,i=ef(i),i.s=o,i};$.toPrecision=function(r,t){var e,n,i=this,o=i.constructor;return r===void 0?(e=re(i),n=nn(i,e<=o.toExpNeg||e>=o.toExpPos)):(ir(r,1,_n),t===void 0?t=o.rounding:ir(t,0,8),i=dt(new o(i),r,t),e=re(i),n=nn(i,r<=e||e<=o.toExpNeg,r)),n};$.toSignificantDigits=$.tosd=function(r,t){var e=this,n=e.constructor;return r===void 0?(r=n.precision,t=n.rounding):(ir(r,1,_n),t===void 0?t=n.rounding:ir(t,0,8)),dt(new n(e),r,t)};$.toString=$.valueOf=$.val=$.toJSON=$[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,t=re(r),e=r.constructor;return nn(r,t<=e.toExpNeg||t>=e.toExpPos)};function tf(r,t){var e,n,i,o,s,a,u,c,d=r.constructor,g=d.precision;if(!r.s||!t.s)return t.s||(t=new d(r)),Vt?dt(t,g):t;if(u=r.d,c=t.d,s=r.e,i=t.e,u=u.slice(),o=s-i,o){for(o<0?(n=u,o=-o,a=c.length):(n=c,i=s,a=u.length),s=Math.ceil(g/Yt),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=u.length,o=c.length,a-o<0&&(o=a,n=c,c=u,u=n),e=0;o;)e=(u[--o]=u[o]+c[o]+e)/se|0,u[o]%=se;for(e&&(u.unshift(e),++i),a=u.length;u[--a]==0;)u.pop();return t.d=u,t.e=i,Vt?dt(t,g):t}function ir(r,t,e){if(r!==~~r||r<t||r>e)throw Error(en+r)}function Je(r){var t,e,n,i=r.length-1,o="",s=r[0];if(i>0){for(o+=s,t=1;t<i;t++)n=r[t]+"",e=Yt-n.length,e&&(o+=Pr(e)),o+=n;s=r[t],n=s+"",e=Yt-n.length,e&&(o+=Pr(e))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var dr=function(){function r(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%se|0,s=o/se|0;return s&&n.unshift(s),n}function t(n,i,o,s){var a,u;if(o!=s)u=o>s?1:-1;else for(a=u=0;a<o;a++)if(n[a]!=i[a]){u=n[a]>i[a]?1:-1;break}return u}function e(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*se+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,u,c,d,g,_,k,T,C,F,D,R,G,W,H,K,tt,A,N=n.constructor,P=n.s==i.s?1:-1,S=n.d,I=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(Oe+"Division by zero");for(u=n.e-i.e,tt=I.length,H=S.length,k=new N(P),T=k.d=[],c=0;I[c]==(S[c]||0);)++c;if(I[c]>(S[c]||0)&&--u,o==null?R=o=N.precision:s?R=o+(re(n)-re(i))+1:R=o,R<0)return new N(0);if(R=R/Yt+2|0,c=0,tt==1)for(d=0,I=I[0],R++;(c<H||d)&&R--;c++)G=d*se+(S[c]||0),T[c]=G/I|0,d=G%I|0;else{for(d=se/(I[0]+1)|0,d>1&&(I=r(I,d),S=r(S,d),tt=I.length,H=S.length),W=tt,C=S.slice(0,tt),F=C.length;F<tt;)C[F++]=0;A=I.slice(),A.unshift(0),K=I[0],I[1]>=se/2&&++K;do d=0,a=t(I,C,tt,F),a<0?(D=C[0],tt!=F&&(D=D*se+(C[1]||0)),d=D/K|0,d>1?(d>=se&&(d=se-1),g=r(I,d),_=g.length,F=C.length,a=t(g,C,_,F),a==1&&(d--,e(g,tt<_?A:I,_))):(d==0&&(a=d=1),g=I.slice()),_=g.length,_<F&&g.unshift(0),e(C,g,F),a==-1&&(F=C.length,a=t(I,C,tt,F),a<1&&(d++,e(C,tt<F?A:I,F))),F=C.length):a===0&&(d++,C=[0]),T[c++]=d,a&&C[0]?C[F++]=S[W]||0:(C=[S[W]],F=1);while((W++<H||C[0]!==void 0)&&R--)}return T[0]||T.shift(),k.e=u,dt(k,s?o+re(k)+1:o)}}();function ef(r,t){var e,n,i,o,s,a,u=0,c=0,d=r.constructor,g=d.precision;if(re(r)>16)throw Error(Zo+re(r));if(!r.s)return new d(Ne);for(t==null?(Vt=!1,a=g):a=t,s=new d(.03125);r.abs().gte(.1);)r=r.times(s),c+=5;for(n=Math.log(Jr(2,c))/Math.LN10*2+5|0,a+=n,e=i=o=new d(Ne),d.precision=a;;){if(i=dt(i.times(r),a),e=e.times(++u),s=o.plus(dr(i,e,a)),Je(s.d).slice(0,a)===Je(o.d).slice(0,a)){for(;c--;)o=dt(o.times(o),a);return d.precision=g,t==null?(Vt=!0,dt(o,g)):o}o=s}}function re(r){for(var t=r.e*Yt,e=r.d[0];e>=10;e/=10)t++;return t}function uo(r,t,e){if(t>r.LN10.sd())throw Vt=!0,e&&(r.precision=e),Error(Oe+"LN10 precision limit exceeded");return dt(new r(r.LN10),t)}function Pr(r){for(var t="";r--;)t+="0";return t}function zn(r,t){var e,n,i,o,s,a,u,c,d,g=1,_=10,k=r,T=k.d,C=k.constructor,F=C.precision;if(k.s<1)throw Error(Oe+(k.s?"NaN":"-Infinity"));if(k.eq(Ne))return new C(0);if(t==null?(Vt=!1,c=F):c=t,k.eq(10))return t==null&&(Vt=!0),uo(C,c);if(c+=_,C.precision=c,e=Je(T),n=e.charAt(0),o=re(k),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&e.charAt(1)>3;)k=k.times(r),e=Je(k.d),n=e.charAt(0),g++;o=re(k),n>1?(k=new C("0."+e),o++):k=new C(n+"."+e.slice(1))}else return u=uo(C,c+2,F).times(o+""),k=zn(new C(n+"."+e.slice(1)),c-_).plus(u),C.precision=F,t==null?(Vt=!0,dt(k,F)):k;for(a=s=k=dr(k.minus(Ne),k.plus(Ne),c),d=dt(k.times(k),c),i=3;;){if(s=dt(s.times(d),c),u=a.plus(dr(s,new C(i),c)),Je(u.d).slice(0,c)===Je(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(uo(C,c+2,F).times(o+""))),a=dr(a,new C(g),c),C.precision=F,t==null?(Vt=!0,dt(a,F)):a;a=u,i+=2}}function Ts(r,t){var e,n,i;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(e<0&&(e=n),e+=+t.slice(n+1),t=t.substring(0,n)):e<0&&(e=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,e=e-n-1,r.e=xn(e/Yt),r.d=[],n=(e+1)%Yt,e<0&&(n+=Yt),n<i){for(n&&r.d.push(+t.slice(0,n)),i-=Yt;n<i;)r.d.push(+t.slice(n,n+=Yt));t=t.slice(n),n=Yt-t.length}else n-=i;for(;n--;)t+="0";if(r.d.push(+t),Vt&&(r.e>yi||r.e<-yi))throw Error(Zo+e)}else r.s=0,r.e=0,r.d=[0];return r}function dt(r,t,e){var n,i,o,s,a,u,c,d,g=r.d;for(s=1,o=g[0];o>=10;o/=10)s++;if(n=t-s,n<0)n+=Yt,i=t,c=g[d=0];else{if(d=Math.ceil((n+1)/Yt),o=g.length,d>=o)return r;for(c=o=g[d],s=1;o>=10;o/=10)s++;n%=Yt,i=n-Yt+s}if(e!==void 0&&(o=Jr(10,s-i-1),a=c/o%10|0,u=t<0||g[d+1]!==void 0||c%o,u=e<4?(a||u)&&(e==0||e==(r.s<0?3:2)):a>5||a==5&&(e==4||u||e==6&&(n>0?i>0?c/Jr(10,s-i):0:g[d-1])%10&1||e==(r.s<0?8:7))),t<1||!g[0])return u?(o=re(r),g.length=1,t=t-o-1,g[0]=Jr(10,(Yt-t%Yt)%Yt),r.e=xn(-t/Yt)||0):(g.length=1,g[0]=r.e=r.s=0),r;if(n==0?(g.length=d,o=1,d--):(g.length=d+1,o=Jr(10,Yt-n),g[d]=i>0?(c/Jr(10,s-i)%Jr(10,i)|0)*o:0),u)for(;;)if(d==0){(g[0]+=o)==se&&(g[0]=1,++r.e);break}else{if(g[d]+=o,g[d]!=se)break;g[d--]=0,o=1}for(n=g.length;g[--n]===0;)g.pop();if(Vt&&(r.e>yi||r.e<-yi))throw Error(Zo+re(r));return r}function rf(r,t){var e,n,i,o,s,a,u,c,d,g,_=r.constructor,k=_.precision;if(!r.s||!t.s)return t.s?t.s=-t.s:t=new _(r),Vt?dt(t,k):t;if(u=r.d,g=t.d,n=t.e,c=r.e,u=u.slice(),s=c-n,s){for(d=s<0,d?(e=u,s=-s,a=g.length):(e=g,n=c,a=u.length),i=Math.max(Math.ceil(k/Yt),a)+2,s>i&&(s=i,e.length=1),e.reverse(),i=s;i--;)e.push(0);e.reverse()}else{for(i=u.length,a=g.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(u[i]!=g[i]){d=u[i]<g[i];break}s=0}for(d&&(e=u,u=g,g=e,t.s=-t.s),a=u.length,i=g.length-a;i>0;--i)u[a++]=0;for(i=g.length;i>s;){if(u[--i]<g[i]){for(o=i;o&&u[--o]===0;)u[o]=se-1;--u[o],u[i]+=se}u[i]-=g[i]}for(;u[--a]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Vt?dt(t,k):t):new _(0)}function nn(r,t,e){var n,i=re(r),o=Je(r.d),s=o.length;return t?(e&&(n=e-s)>0?o=o.charAt(0)+"."+o.slice(1)+Pr(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Pr(-i-1)+o,e&&(n=e-s)>0&&(o+=Pr(n))):i>=s?(o+=Pr(i+1-s),e&&(n=e-i-1)>0&&(o=o+"."+Pr(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),e&&(n=e-s)>0&&(i+1===s&&(o+="."),o+=Pr(n))),r.s<0?"-"+o:o}function Os(r,t){if(r.length>t)return r.length=t,!0}function nf(r){var t,e,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(en+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Ts(s,o.toString())}else if(typeof o!="string")throw Error(en+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,ol.test(o))Ts(s,o);else throw Error(en+o)}if(i.prototype=$,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nf,i.config=i.set=sl,r===void 0&&(r={}),r)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)r.hasOwnProperty(e=n[t++])||(r[e]=this[e]);return i.config(r),i}function sl(r){if(!r||typeof r!="object")throw Error(Oe+"Object expected");var t,e,n,i=["precision",1,_n,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=r[e=i[t]])!==void 0)if(xn(n)===n&&n>=i[t+1]&&n<=i[t+2])this[e]=n;else throw Error(en+e+": "+n);if((n=r[e="LN10"])!==void 0)if(n==Math.LN10)this[e]=new this(n);else throw Error(en+e+": "+n);return this}var Jo=nf(il);Ne=new Jo(1);const al=Jo;var fl=20,ul=1,bi=1e6,Is=1e6,ll=-7,cl=21,ts="[big.js] ",Qn=ts+"Invalid ",es=Qn+"decimal places",Ss=Qn+"rounding mode",of=ts+"Division by zero",Xt={},on=void 0,hl=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function sf(){function r(t){var e=this;if(!(e instanceof r))return t===on?sf():new r(t);t instanceof r?(e.s=t.s,e.e=t.e,e.c=t.c.slice()):dl(e,t),e.constructor=r}return r.prototype=Xt,r.DP=fl,r.RM=ul,r.NE=ll,r.PE=cl,r.version="5.2.2",r}function dl(r,t){var e,n,i;if(t===0&&1/t<0)t="-0";else if(!hl.test(t+=""))throw Error(Qn+"number");for(r.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(e=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(e<0&&(e=n),e+=+t.slice(n+1),t=t.substring(0,n)):e<0&&(e=t.length),i=t.length,n=0;n<i&&t.charAt(n)=="0";)++n;if(n==i)r.c=[r.e=0];else{for(;i>0&&t.charAt(--i)=="0";);for(r.e=e-n-1,r.c=[],e=0;n<=i;)r.c[e++]=+t.charAt(n++)}return r}function Ii(r,t,e,n){var i=r.c,o=r.e+t+1;if(o<i.length){if(e===1)n=i[o]>=5;else if(e===2)n=i[o]>5||i[o]==5&&(n||o<0||i[o+1]!==on||i[o-1]&1);else if(e===3)n=n||!!i[0];else if(n=!1,e!==0)throw Error(Ss);if(o<1)i.length=1,n?(r.e=-t,i[0]=1):i[0]=r.e=0;else{if(i.length=o--,n)for(;++i[o]>9;)i[o]=0,o--||(++r.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(e<0||e>3||e!==~~e)throw Error(Ss);return r}function jn(r,t,e,n){var i,o,s=r.constructor,a=!r.c[0];if(e!==on){if(e!==~~e||e<(t==3)||e>bi)throw Error(t==3?Qn+"precision":es);for(r=new s(r),e=n-r.e,r.c.length>++n&&Ii(r,e,s.RM),t==2&&(n=r.e+e+1);r.c.length<n;)r.c.push(0)}if(i=r.e,o=r.c.join(""),e=o.length,t!=2&&(t==1||t==3&&n<=i||i<=s.NE||i>=s.PE))o=o.charAt(0)+(e>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>e)for(i-=e;i--;)o+="0";else i<e&&(o=o.slice(0,i)+"."+o.slice(i));else e>1&&(o=o.charAt(0)+"."+o.slice(1));return r.s<0&&(!a||t==4)?"-"+o:o}Xt.abs=function(){var r=new this.constructor(this);return r.s=1,r};Xt.cmp=function(r){var t,e=this,n=e.c,i=(r=new e.constructor(r)).c,o=e.s,s=r.s,a=e.e,u=r.e;if(!n[0]||!i[0])return n[0]?o:i[0]?-s:0;if(o!=s)return o;if(t=o<0,a!=u)return a>u^t?1:-1;for(s=(a=n.length)<(u=i.length)?a:u,o=-1;++o<s;)if(n[o]!=i[o])return n[o]>i[o]^t?1:-1;return a==u?0:a>u^t?1:-1};Xt.div=function(r){var t=this,e=t.constructor,n=t.c,i=(r=new e(r)).c,o=t.s==r.s?1:-1,s=e.DP;if(s!==~~s||s<0||s>bi)throw Error(es);if(!i[0])throw Error(of);if(!n[0])return new e(o*0);var a,u,c,d,g,_=i.slice(),k=a=i.length,T=n.length,C=n.slice(0,a),F=C.length,D=r,R=D.c=[],G=0,W=s+(D.e=t.e-r.e)+1;for(D.s=o,o=W<0?0:W,_.unshift(0);F++<a;)C.push(0);do{for(c=0;c<10;c++){if(a!=(F=C.length))d=a>F?1:-1;else for(g=-1,d=0;++g<a;)if(i[g]!=C[g]){d=i[g]>C[g]?1:-1;break}if(d<0){for(u=F==a?i:_;F;){if(C[--F]<u[F]){for(g=F;g&&!C[--g];)C[g]=9;--C[g],C[F]+=10}C[F]-=u[F]}for(;!C[0];)C.shift()}else break}R[G++]=d?c:++c,C[0]&&d?C[F]=n[k]||0:C=[n[k]]}while((k++<T||C[0]!==on)&&o--);return!R[0]&&G!=1&&(R.shift(),D.e--),G>W&&Ii(D,s,e.RM,C[0]!==on),D};Xt.eq=function(r){return!this.cmp(r)};Xt.gt=function(r){return this.cmp(r)>0};Xt.gte=function(r){return this.cmp(r)>-1};Xt.lt=function(r){return this.cmp(r)<0};Xt.lte=function(r){return this.cmp(r)<1};Xt.minus=Xt.sub=function(r){var t,e,n,i,o=this,s=o.constructor,a=o.s,u=(r=new s(r)).s;if(a!=u)return r.s=-u,o.plus(r);var c=o.c.slice(),d=o.e,g=r.c,_=r.e;if(!c[0]||!g[0])return g[0]?(r.s=-u,r):new s(c[0]?o:0);if(a=d-_){for((i=a<0)?(a=-a,n=c):(_=d,n=g),n.reverse(),u=a;u--;)n.push(0);n.reverse()}else for(e=((i=c.length<g.length)?c:g).length,a=u=0;u<e;u++)if(c[u]!=g[u]){i=c[u]<g[u];break}if(i&&(n=c,c=g,g=n,r.s=-r.s),(u=(e=g.length)-(t=c.length))>0)for(;u--;)c[t++]=0;for(u=t;e>a;){if(c[--e]<g[e]){for(t=e;t&&!c[--t];)c[t]=9;--c[t],c[e]+=10}c[e]-=g[e]}for(;c[--u]===0;)c.pop();for(;c[0]===0;)c.shift(),--_;return c[0]||(r.s=1,c=[_=0]),r.c=c,r.e=_,r};Xt.mod=function(r){var t,e=this,n=e.constructor,i=e.s,o=(r=new n(r)).s;if(!r.c[0])throw Error(of);return e.s=r.s=1,t=r.cmp(e)==1,e.s=i,r.s=o,t?new n(e):(i=n.DP,o=n.RM,n.DP=n.RM=0,e=e.div(r),n.DP=i,n.RM=o,this.minus(e.times(r)))};Xt.plus=Xt.add=function(r){var t,e=this,n=e.constructor,i=e.s,o=(r=new n(r)).s;if(i!=o)return r.s=-o,e.minus(r);var s=e.e,a=e.c,u=r.e,c=r.c;if(!a[0]||!c[0])return c[0]?r:new n(a[0]?e:i*0);if(a=a.slice(),i=s-u){for(i>0?(u=s,t=c):(i=-i,t=a),t.reverse();i--;)t.push(0);t.reverse()}for(a.length-c.length<0&&(t=c,c=a,a=t),i=c.length,o=0;i;a[i]%=10)o=(a[--i]=a[i]+c[i]+o)/10|0;for(o&&(a.unshift(o),++u),i=a.length;a[--i]===0;)a.pop();return r.c=a,r.e=u,r};Xt.pow=function(r){var t=this,e=new t.constructor(1),n=e,i=r<0;if(r!==~~r||r<-Is||r>Is)throw Error(Qn+"exponent");for(i&&(r=-r);r&1&&(n=n.times(t)),r>>=1,!!r;)t=t.times(t);return i?e.div(n):n};Xt.round=function(r,t){var e=this.constructor;if(r===on)r=0;else if(r!==~~r||r<-bi||r>bi)throw Error(es);return Ii(new e(this),r,t===on?e.RM:t)};Xt.sqrt=function(){var r,t,e,n=this,i=n.constructor,o=n.s,s=n.e,a=new i(.5);if(!n.c[0])return new i(n);if(o<0)throw Error(ts+"No square root");o=Math.sqrt(n+""),o===0||o===1/0?(t=n.c.join(""),t.length+s&1||(t+="0"),o=Math.sqrt(t),s=((s+1)/2|0)-(s<0||s&1),r=new i((o==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):r=new i(o),s=r.e+(i.DP+=4);do e=r,r=a.times(e.plus(n.div(e)));while(e.c.slice(0,s).join("")!==r.c.slice(0,s).join(""));return Ii(r,i.DP-=4,i.RM)};Xt.times=Xt.mul=function(r){var t,e=this,n=e.constructor,i=e.c,o=(r=new n(r)).c,s=i.length,a=o.length,u=e.e,c=r.e;if(r.s=e.s==r.s?1:-1,!i[0]||!o[0])return new n(r.s*0);for(r.e=u+c,s<a&&(t=i,i=o,o=t,c=s,s=a,a=c),t=new Array(c=s+a);c--;)t[c]=0;for(u=a;u--;){for(a=0,c=s+u;c>u;)a=t[c]+o[u]*i[c-u-1]+a,t[c--]=a%10,a=a/10|0;t[c]=(t[c]+a)%10}for(a?++r.e:t.shift(),u=t.length;!t[--u];)t.pop();return r.c=t,r};Xt.toExponential=function(r){return jn(this,1,r,r)};Xt.toFixed=function(r){return jn(this,2,r,this.e+r)};Xt.toPrecision=function(r){return jn(this,3,r,r-1)};Xt.toString=function(){return jn(this)};Xt.valueOf=Xt.toJSON=function(){return jn(this,4)};var af=sf(),ff={exports:{}};(function(r){function t(e){return e.prototype.toFormat=function(i,o,s){if(!this.e&&this.e!==0)return this.toString();var a,u,c,d,g,_,k,T,C,F,D,R,G,W,H,K=this.format||{},tt=this.constructor.format||{};if(i!=g?typeof i=="object"?(s=i,i=g):o!=g?typeof o=="object"?(s=o,o=g):typeof s!="object"&&(s={}):s={}:s={},a=this.toFixed(i,o).split("."),T=a[0],C=a[1],k=this.s<0?T.slice(1):T,_=k.length,F=s.decimalSeparator,F==g&&(F=K.decimalSeparator,F==g&&(F=tt.decimalSeparator,F==g&&(F="."))),D=s.groupSeparator,D==g&&(D=K.groupSeparator,D==g&&(D=tt.groupSeparator)),D&&(R=s.groupSize,R==g&&(R=K.groupSize,R==g&&(R=tt.groupSize,R==g&&(R=0))),G=s.secondaryGroupSize,G==g&&(G=K.secondaryGroupSize,G==g&&(G=tt.secondaryGroupSize,G==g&&(G=0))),G?(u=+G,c=+R,_-=c):(u=+R,c=+G),u>0&&_>0)){for(d=_%u||u,T=k.substr(0,d);d<_;d+=u)T+=D+k.substr(d,u);c>0&&(T+=D+k.slice(d)),this.s<0&&(T="-"+T)}return C?(W=s.fractionGroupSeparator,W==g&&(W=K.fractionGroupSeparator,W==g&&(W=tt.fractionGroupSeparator)),W&&(H=s.fractionGroupSize,H==g&&(H=K.fractionGroupSize,H==g&&(H=tt.fractionGroupSize,H==g&&(H=0))),H=+H,H&&(C=C.replace(new RegExp("\\d{"+H+"}\\B","g"),"$&"+W))),T+F+C):T},e.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},e}r.exports&&(r.exports=t)})(ff);const rs=ff.exports;var Ds;(function(r){r[r.MAINNET=1]="MAINNET",r[r.ROPSTEN=3]="ROPSTEN",r[r.RINKEBY=4]="RINKEBY",r[r.GOERLI=5]="GOERLI",r[r.KOVAN=42]="KOVAN",r[r.ARBITRUM_ONE=42161]="ARBITRUM_ONE",r[r.ARBITRUM_RINKEBY=421611]="ARBITRUM_RINKEBY",r[r.OPTIMISM=10]="OPTIMISM",r[r.OPTIMISTIC_KOVAN=69]="OPTIMISTIC_KOVAN",r[r.POLYGON=137]="POLYGON",r[r.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",r[r.CELO=42220]="CELO",r[r.CELO_ALFAJORES=44787]="CELO_ALFAJORES"})(Ds||(Ds={}));var Ve;(function(r){r[r.EXACT_INPUT=0]="EXACT_INPUT",r[r.EXACT_OUTPUT=1]="EXACT_OUTPUT"})(Ve||(Ve={}));var Te;(function(r){r[r.ROUND_DOWN=0]="ROUND_DOWN",r[r.ROUND_HALF_UP=1]="ROUND_HALF_UP",r[r.ROUND_UP=2]="ROUND_UP"})(Te||(Te={}));var gl=b.BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Fs(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function Si(r,t,e){return t&&Fs(r.prototype,t),e&&Fs(r,e),r}function Di(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}var Cn,Pn,Bn=rs(al),lo=rs(af),ml=(Cn={},Cn[Te.ROUND_DOWN]=Bn.ROUND_DOWN,Cn[Te.ROUND_HALF_UP]=Bn.ROUND_HALF_UP,Cn[Te.ROUND_UP]=Bn.ROUND_UP,Cn),pl=(Pn={},Pn[Te.ROUND_DOWN]=0,Pn[Te.ROUND_HALF_UP]=1,Pn[Te.ROUND_UP]=3,Pn),Sr=function(){function r(e,n){n===void 0&&(n=b.BigInt(1)),this.numerator=b.BigInt(e),this.denominator=b.BigInt(n)}r.tryParseFraction=function(n){if(n instanceof b||typeof n=="number"||typeof n=="string")return new r(n);if("numerator"in n&&"denominator"in n)return n;throw new Error("Could not parse fraction")};var t=r.prototype;return t.invert=function(){return new r(this.denominator,this.numerator)},t.add=function(n){var i=r.tryParseFraction(n);return b.equal(this.denominator,i.denominator)?new r(b.add(this.numerator,i.numerator),this.denominator):new r(b.add(b.multiply(this.numerator,i.denominator),b.multiply(i.numerator,this.denominator)),b.multiply(this.denominator,i.denominator))},t.subtract=function(n){var i=r.tryParseFraction(n);return b.equal(this.denominator,i.denominator)?new r(b.subtract(this.numerator,i.numerator),this.denominator):new r(b.subtract(b.multiply(this.numerator,i.denominator),b.multiply(i.numerator,this.denominator)),b.multiply(this.denominator,i.denominator))},t.lessThan=function(n){var i=r.tryParseFraction(n);return b.lessThan(b.multiply(this.numerator,i.denominator),b.multiply(i.numerator,this.denominator))},t.equalTo=function(n){var i=r.tryParseFraction(n);return b.equal(b.multiply(this.numerator,i.denominator),b.multiply(i.numerator,this.denominator))},t.greaterThan=function(n){var i=r.tryParseFraction(n);return b.greaterThan(b.multiply(this.numerator,i.denominator),b.multiply(i.numerator,this.denominator))},t.multiply=function(n){var i=r.tryParseFraction(n);return new r(b.multiply(this.numerator,i.numerator),b.multiply(this.denominator,i.denominator))},t.divide=function(n){var i=r.tryParseFraction(n);return new r(b.multiply(this.numerator,i.denominator),b.multiply(this.denominator,i.numerator))},t.toSignificant=function(n,i,o){i===void 0&&(i={groupSeparator:""}),o===void 0&&(o=Te.ROUND_HALF_UP),Number.isInteger(n)||rt(!1),n>0||rt(!1),Bn.set({precision:n+1,rounding:ml[o]});var s=new Bn(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(n);return s.toFormat(s.decimalPlaces(),i)},t.toFixed=function(n,i,o){return i===void 0&&(i={groupSeparator:""}),o===void 0&&(o=Te.ROUND_HALF_UP),Number.isInteger(n)||rt(!1),n>=0||rt(!1),lo.DP=n,lo.RM=pl[o],new lo(this.numerator.toString()).div(this.denominator.toString()).toFormat(n,i)},Si(r,[{key:"quotient",get:function(){return b.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new r(b.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new r(this.numerator,this.denominator)}}]),r}(),Bs=rs(af),xe=function(r){Di(t,r);function t(n,i,o){var s;return s=r.call(this,i,o)||this,b.lessThanOrEqual(s.quotient,gl)||rt(!1),s.currency=n,s.decimalScale=b.exponentiate(b.BigInt(10),b.BigInt(n.decimals)),s}t.fromRawAmount=function(i,o){return new t(i,o)},t.fromFractionalAmount=function(i,o,s){return new t(i,o,s)};var e=t.prototype;return e.add=function(i){this.currency.equals(i.currency)||rt(!1);var o=r.prototype.add.call(this,i);return t.fromFractionalAmount(this.currency,o.numerator,o.denominator)},e.subtract=function(i){this.currency.equals(i.currency)||rt(!1);var o=r.prototype.subtract.call(this,i);return t.fromFractionalAmount(this.currency,o.numerator,o.denominator)},e.multiply=function(i){var o=r.prototype.multiply.call(this,i);return t.fromFractionalAmount(this.currency,o.numerator,o.denominator)},e.divide=function(i){var o=r.prototype.divide.call(this,i);return t.fromFractionalAmount(this.currency,o.numerator,o.denominator)},e.toSignificant=function(i,o,s){return i===void 0&&(i=6),s===void 0&&(s=Te.ROUND_DOWN),r.prototype.divide.call(this,this.decimalScale).toSignificant(i,o,s)},e.toFixed=function(i,o,s){return i===void 0&&(i=this.currency.decimals),s===void 0&&(s=Te.ROUND_DOWN),i<=this.currency.decimals||rt(!1),r.prototype.divide.call(this,this.decimalScale).toFixed(i,o,s)},e.toExact=function(i){return i===void 0&&(i={groupSeparator:""}),Bs.DP=this.currency.decimals,new Bs(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(i)},Si(t,[{key:"wrapped",get:function(){return this.currency.isToken?this:t.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),t}(Sr),Ls=new Sr(b.BigInt(100));function ri(r){return new uf(r.numerator,r.denominator)}var uf=function(r){Di(t,r);function t(){var n;return n=r.apply(this,arguments)||this,n.isPercent=!0,n}var e=t.prototype;return e.add=function(i){return ri(r.prototype.add.call(this,i))},e.subtract=function(i){return ri(r.prototype.subtract.call(this,i))},e.multiply=function(i){return ri(r.prototype.multiply.call(this,i))},e.divide=function(i){return ri(r.prototype.divide.call(this,i))},e.toSignificant=function(i,o,s){return i===void 0&&(i=5),r.prototype.multiply.call(this,Ls).toSignificant(i,o,s)},e.toFixed=function(i,o,s){return i===void 0&&(i=2),r.prototype.multiply.call(this,Ls).toFixed(i,o,s)},t}(Sr),rn=function(r){Di(t,r);function t(){for(var n,i,o,s,a,u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];if(c.length===4)i=c[0],o=c[1],s=c[2],a=c[3];else{var g=c[0].quoteAmount.divide(c[0].baseAmount),_=[c[0].baseAmount.currency,c[0].quoteAmount.currency,g.denominator,g.numerator];i=_[0],o=_[1],s=_[2],a=_[3]}return n=r.call(this,a,s)||this,n.baseCurrency=i,n.quoteCurrency=o,n.scalar=new Sr(b.exponentiate(b.BigInt(10),b.BigInt(i.decimals)),b.exponentiate(b.BigInt(10),b.BigInt(o.decimals))),n}var e=t.prototype;return e.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},e.multiply=function(i){this.quoteCurrency.equals(i.baseCurrency)||rt(!1);var o=r.prototype.multiply.call(this,i);return new t(this.baseCurrency,i.quoteCurrency,o.denominator,o.numerator)},e.quote=function(i){i.currency.equals(this.baseCurrency)||rt(!1);var o=r.prototype.multiply.call(this,i);return xe.fromFractionalAmount(this.quoteCurrency,o.numerator,o.denominator)},e.toSignificant=function(i,o,s){return i===void 0&&(i=6),this.adjustedForDecimals.toSignificant(i,o,s)},e.toFixed=function(i,o,s){return i===void 0&&(i=4),this.adjustedForDecimals.toFixed(i,o,s)},Si(t,[{key:"adjustedForDecimals",get:function(){return r.prototype.multiply.call(this,this.scalar)}}]),t}(Sr),vl=function(t,e,n,i){Number.isSafeInteger(t)||rt(!1),e>=0&&e<255&&Number.isInteger(e)||rt(!1),this.chainId=t,this.decimals=e,this.symbol=n,this.name=i};function wl(r){try{return ge(r)}catch{throw new Error(r+" is not a valid address.")}}var Ge=function(r){Di(t,r);function t(n,i,o,s,a){var u;return u=r.call(this,n,o,s,a)||this,u.isNative=!1,u.isToken=!0,u.address=wl(i),u}var e=t.prototype;return e.equals=function(i){return i.isToken&&this.chainId===i.chainId&&this.address===i.address},e.sortsBefore=function(i){return this.chainId!==i.chainId&&rt(!1),this.address===i.address&&rt(!1),this.address.toLowerCase()<i.address.toLowerCase()},Si(t,[{key:"wrapped",get:function(){return this}}]),t}(vl),Be;Be={},Be[1]=new Ge(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),Be[3]=new Ge(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),Be[4]=new Ge(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),Be[5]=new Ge(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),Be[42]=new Ge(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),Be[10]=new Ge(10,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),Be[69]=new Ge(69,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),Be[42161]=new Ge(42161,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),Be[421611]=new Ge(421611,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether");function yl(r,t,e){var n=r.quote(t),i=n.subtract(e).divide(n);return new uf(i.numerator,i.denominator)}function Us(r,t,e,n){if(e>0||rt(!1),r.length<=e||rt(!1),r.length===0)return r.push(t),null;var i=r.length===e;if(i&&n(r[r.length-1],t)<=0)return t;for(var o=0,s=r.length;o<s;){var a=o+s>>>1;n(r[a],t)<=0?o=a+1:s=a}return r.splice(o,0,t),i?r.pop():null}var bl=b.BigInt(Number.MAX_SAFE_INTEGER),Al=b.BigInt(0),_l=b.BigInt(1),qs=b.BigInt(2);function co(r){if(b.greaterThanOrEqual(r,Al)||rt(!1),b.lessThan(r,bl))return b.BigInt(Math.floor(Math.sqrt(b.toNumber(r))));var t,e;for(t=r,e=b.add(b.divide(r,qs),_l);b.lessThan(e,t);)t=e,e=b.divide(b.add(b.divide(r,e),e),qs);return t}var lf={},ht={},Yn=cf;function cf(r,t){if(!r)throw new Error(t||"Assertion failed")}cf.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)};var To={exports:{}};typeof Object.create=="function"?To.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:To.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}};var xl=Yn,El=To.exports;ht.inherits=El;function Nl(r,t){return(r.charCodeAt(t)&64512)!==55296||t<0||t+1>=r.length?!1:(r.charCodeAt(t+1)&64512)===56320}function Ml(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var e=[];if(typeof r=="string")if(t){if(t==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),i=0;i<r.length;i+=2)e.push(parseInt(r[i]+r[i+1],16))}else for(var n=0,i=0;i<r.length;i++){var o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):Nl(r,i)?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}else for(i=0;i<r.length;i++)e[i]=r[i]|0;return e}ht.toArray=Ml;function kl(r){for(var t="",e=0;e<r.length;e++)t+=df(r[e].toString(16));return t}ht.toHex=kl;function hf(r){var t=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return t>>>0}ht.htonl=hf;function Cl(r,t){for(var e="",n=0;n<r.length;n++){var i=r[n];t==="little"&&(i=hf(i)),e+=gf(i.toString(16))}return e}ht.toHex32=Cl;function df(r){return r.length===1?"0"+r:r}ht.zero2=df;function gf(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}ht.zero8=gf;function Pl(r,t,e,n){var i=e-t;xl(i%4===0);for(var o=new Array(i/4),s=0,a=t;s<o.length;s++,a+=4){var u;n==="big"?u=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3]:u=r[a+3]<<24|r[a+2]<<16|r[a+1]<<8|r[a],o[s]=u>>>0}return o}ht.join32=Pl;function Rl(r,t){for(var e=new Array(r.length*4),n=0,i=0;n<r.length;n++,i+=4){var o=r[n];t==="big"?(e[i]=o>>>24,e[i+1]=o>>>16&255,e[i+2]=o>>>8&255,e[i+3]=o&255):(e[i+3]=o>>>24,e[i+2]=o>>>16&255,e[i+1]=o>>>8&255,e[i]=o&255)}return e}ht.split32=Rl;function Tl(r,t){return r>>>t|r<<32-t}ht.rotr32=Tl;function Ol(r,t){return r<<t|r>>>32-t}ht.rotl32=Ol;function Il(r,t){return r+t>>>0}ht.sum32=Il;function Sl(r,t,e){return r+t+e>>>0}ht.sum32_3=Sl;function Dl(r,t,e,n){return r+t+e+n>>>0}ht.sum32_4=Dl;function Fl(r,t,e,n,i){return r+t+e+n+i>>>0}ht.sum32_5=Fl;function Bl(r,t,e,n){var i=r[t],o=r[t+1],s=n+o>>>0,a=(s<n?1:0)+e+i;r[t]=a>>>0,r[t+1]=s}ht.sum64=Bl;function Ll(r,t,e,n){var i=t+n>>>0,o=(i<t?1:0)+r+e;return o>>>0}ht.sum64_hi=Ll;function Ul(r,t,e,n){var i=t+n;return i>>>0}ht.sum64_lo=Ul;function ql(r,t,e,n,i,o,s,a){var u=0,c=t;c=c+n>>>0,u+=c<t?1:0,c=c+o>>>0,u+=c<o?1:0,c=c+a>>>0,u+=c<a?1:0;var d=r+e+i+s+u;return d>>>0}ht.sum64_4_hi=ql;function Gl(r,t,e,n,i,o,s,a){var u=t+n+o+a;return u>>>0}ht.sum64_4_lo=Gl;function zl(r,t,e,n,i,o,s,a,u,c){var d=0,g=t;g=g+n>>>0,d+=g<t?1:0,g=g+o>>>0,d+=g<o?1:0,g=g+a>>>0,d+=g<a?1:0,g=g+c>>>0,d+=g<c?1:0;var _=r+e+i+s+u+d;return _>>>0}ht.sum64_5_hi=zl;function Hl(r,t,e,n,i,o,s,a,u,c){var d=t+n+o+a+c;return d>>>0}ht.sum64_5_lo=Hl;function Kl(r,t,e){var n=t<<32-e|r>>>e;return n>>>0}ht.rotr64_hi=Kl;function Wl(r,t,e){var n=r<<32-e|t>>>e;return n>>>0}ht.rotr64_lo=Wl;function Ql(r,t,e){return r>>>e}ht.shr64_hi=Ql;function jl(r,t,e){var n=r<<32-e|t>>>e;return n>>>0}ht.shr64_lo=jl;var En={},Gs=ht,Yl=Yn;function Fi(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}En.BlockHash=Fi;Fi.prototype.update=function(t,e){if(t=Gs.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=Gs.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this};Fi.prototype.digest=function(t){return this.update(this._pad()),Yl(this.pending===null),this._digest(t)};Fi.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(t<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=t>>>24&255,i[o++]=t>>>16&255,i[o++]=t>>>8&255,i[o++]=t&255}else for(i[o++]=t&255,i[o++]=t>>>8&255,i[o++]=t>>>16&255,i[o++]=t>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i};var Nn={},ur={},Xl=ht,tr=Xl.rotr32;function Vl(r,t,e,n){if(r===0)return mf(t,e,n);if(r===1||r===3)return vf(t,e,n);if(r===2)return pf(t,e,n)}ur.ft_1=Vl;function mf(r,t,e){return r&t^~r&e}ur.ch32=mf;function pf(r,t,e){return r&t^r&e^t&e}ur.maj32=pf;function vf(r,t,e){return r^t^e}ur.p32=vf;function $l(r){return tr(r,2)^tr(r,13)^tr(r,22)}ur.s0_256=$l;function Zl(r){return tr(r,6)^tr(r,11)^tr(r,25)}ur.s1_256=Zl;function Jl(r){return tr(r,7)^tr(r,18)^r>>>3}ur.g0_256=Jl;function tc(r){return tr(r,17)^tr(r,19)^r>>>10}ur.g1_256=tc;var wn=ht,ec=En,rc=ur,ho=wn.rotl32,Rn=wn.sum32,nc=wn.sum32_5,ic=rc.ft_1,wf=ec.BlockHash,oc=[1518500249,1859775393,2400959708,3395469782];function or(){if(!(this instanceof or))return new or;wf.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}wn.inherits(or,wf);var sc=or;or.blockSize=512;or.outSize=160;or.hmacStrength=80;or.padLength=64;or.prototype._update=function(t,e){for(var n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=ho(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],s=this.h[1],a=this.h[2],u=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var d=~~(i/20),g=nc(ho(o,5),ic(d,s,a,u),c,n[i],oc[d]);c=u,u=a,a=ho(s,30),s=o,o=g}this.h[0]=Rn(this.h[0],o),this.h[1]=Rn(this.h[1],s),this.h[2]=Rn(this.h[2],a),this.h[3]=Rn(this.h[3],u),this.h[4]=Rn(this.h[4],c)};or.prototype._digest=function(t){return t==="hex"?wn.toHex32(this.h,"big"):wn.split32(this.h,"big")};var yn=ht,ac=En,Mn=ur,fc=Yn,Le=yn.sum32,uc=yn.sum32_4,lc=yn.sum32_5,cc=Mn.ch32,hc=Mn.maj32,dc=Mn.s0_256,gc=Mn.s1_256,mc=Mn.g0_256,pc=Mn.g1_256,yf=ac.BlockHash,vc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function sr(){if(!(this instanceof sr))return new sr;yf.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=vc,this.W=new Array(64)}yn.inherits(sr,yf);var bf=sr;sr.blockSize=512;sr.outSize=256;sr.hmacStrength=192;sr.padLength=64;sr.prototype._update=function(t,e){for(var n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=uc(pc(n[i-2]),n[i-7],mc(n[i-15]),n[i-16]);var o=this.h[0],s=this.h[1],a=this.h[2],u=this.h[3],c=this.h[4],d=this.h[5],g=this.h[6],_=this.h[7];for(fc(this.k.length===n.length),i=0;i<n.length;i++){var k=lc(_,gc(c),cc(c,d,g),this.k[i],n[i]),T=Le(dc(o),hc(o,s,a));_=g,g=d,d=c,c=Le(u,k),u=a,a=s,s=o,o=Le(k,T)}this.h[0]=Le(this.h[0],o),this.h[1]=Le(this.h[1],s),this.h[2]=Le(this.h[2],a),this.h[3]=Le(this.h[3],u),this.h[4]=Le(this.h[4],c),this.h[5]=Le(this.h[5],d),this.h[6]=Le(this.h[6],g),this.h[7]=Le(this.h[7],_)};sr.prototype._digest=function(t){return t==="hex"?yn.toHex32(this.h,"big"):yn.split32(this.h,"big")};var Oo=ht,Af=bf;function pr(){if(!(this instanceof pr))return new pr;Af.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Oo.inherits(pr,Af);var wc=pr;pr.blockSize=512;pr.outSize=224;pr.hmacStrength=192;pr.padLength=64;pr.prototype._digest=function(t){return t==="hex"?Oo.toHex32(this.h.slice(0,7),"big"):Oo.split32(this.h.slice(0,7),"big")};var ye=ht,yc=En,bc=Yn,er=ye.rotr64_hi,rr=ye.rotr64_lo,_f=ye.shr64_hi,xf=ye.shr64_lo,kr=ye.sum64,go=ye.sum64_hi,mo=ye.sum64_lo,Ac=ye.sum64_4_hi,_c=ye.sum64_4_lo,xc=ye.sum64_5_hi,Ec=ye.sum64_5_lo,Ef=yc.BlockHash,Nc=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function We(){if(!(this instanceof We))return new We;Ef.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Nc,this.W=new Array(160)}ye.inherits(We,Ef);var Nf=We;We.blockSize=1024;We.outSize=512;We.hmacStrength=192;We.padLength=128;We.prototype._prepareBlock=function(t,e){for(var n=this.W,i=0;i<32;i++)n[i]=t[e+i];for(;i<n.length;i+=2){var o=Fc(n[i-4],n[i-3]),s=Bc(n[i-4],n[i-3]),a=n[i-14],u=n[i-13],c=Sc(n[i-30],n[i-29]),d=Dc(n[i-30],n[i-29]),g=n[i-32],_=n[i-31];n[i]=Ac(o,s,a,u,c,d,g,_),n[i+1]=_c(o,s,a,u,c,d,g,_)}};We.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],d=this.h[6],g=this.h[7],_=this.h[8],k=this.h[9],T=this.h[10],C=this.h[11],F=this.h[12],D=this.h[13],R=this.h[14],G=this.h[15];bc(this.k.length===n.length);for(var W=0;W<n.length;W+=2){var H=R,K=G,tt=Oc(_,k),A=Ic(_,k),N=Mc(_,k,T,C,F),P=kc(_,k,T,C,F,D),S=this.k[W],I=this.k[W+1],y=n[W],f=n[W+1],l=xc(H,K,tt,A,N,P,S,I,y,f),m=Ec(H,K,tt,A,N,P,S,I,y,f);H=Rc(i,o),K=Tc(i,o),tt=Cc(i,o,s,a,u),A=Pc(i,o,s,a,u,c);var v=go(H,K,tt,A),w=mo(H,K,tt,A);R=F,G=D,F=T,D=C,T=_,C=k,_=go(d,g,l,m),k=mo(g,g,l,m),d=u,g=c,u=s,c=a,s=i,a=o,i=go(l,m,v,w),o=mo(l,m,v,w)}kr(this.h,0,i,o),kr(this.h,2,s,a),kr(this.h,4,u,c),kr(this.h,6,d,g),kr(this.h,8,_,k),kr(this.h,10,T,C),kr(this.h,12,F,D),kr(this.h,14,R,G)};We.prototype._digest=function(t){return t==="hex"?ye.toHex32(this.h,"big"):ye.split32(this.h,"big")};function Mc(r,t,e,n,i){var o=r&e^~r&i;return o<0&&(o+=4294967296),o}function kc(r,t,e,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function Cc(r,t,e,n,i){var o=r&e^r&i^e&i;return o<0&&(o+=4294967296),o}function Pc(r,t,e,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function Rc(r,t){var e=er(r,t,28),n=er(t,r,2),i=er(t,r,7),o=e^n^i;return o<0&&(o+=4294967296),o}function Tc(r,t){var e=rr(r,t,28),n=rr(t,r,2),i=rr(t,r,7),o=e^n^i;return o<0&&(o+=4294967296),o}function Oc(r,t){var e=er(r,t,14),n=er(r,t,18),i=er(t,r,9),o=e^n^i;return o<0&&(o+=4294967296),o}function Ic(r,t){var e=rr(r,t,14),n=rr(r,t,18),i=rr(t,r,9),o=e^n^i;return o<0&&(o+=4294967296),o}function Sc(r,t){var e=er(r,t,1),n=er(r,t,8),i=_f(r,t,7),o=e^n^i;return o<0&&(o+=4294967296),o}function Dc(r,t){var e=rr(r,t,1),n=rr(r,t,8),i=xf(r,t,7),o=e^n^i;return o<0&&(o+=4294967296),o}function Fc(r,t){var e=er(r,t,19),n=er(t,r,29),i=_f(r,t,6),o=e^n^i;return o<0&&(o+=4294967296),o}function Bc(r,t){var e=rr(r,t,19),n=rr(t,r,29),i=xf(r,t,6),o=e^n^i;return o<0&&(o+=4294967296),o}var Io=ht,Mf=Nf;function vr(){if(!(this instanceof vr))return new vr;Mf.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Io.inherits(vr,Mf);var Lc=vr;vr.blockSize=1024;vr.outSize=384;vr.hmacStrength=192;vr.padLength=128;vr.prototype._digest=function(t){return t==="hex"?Io.toHex32(this.h.slice(0,12),"big"):Io.split32(this.h.slice(0,12),"big")};Nn.sha1=sc;Nn.sha224=wc;Nn.sha256=bf;Nn.sha384=Lc;Nn.sha512=Nf;var kf={},sn=ht,Uc=En,ni=sn.rotl32,zs=sn.sum32,Tn=sn.sum32_3,Hs=sn.sum32_4,Cf=Uc.BlockHash;function ar(){if(!(this instanceof ar))return new ar;Cf.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}sn.inherits(ar,Cf);kf.ripemd160=ar;ar.blockSize=512;ar.outSize=160;ar.hmacStrength=192;ar.padLength=64;ar.prototype._update=function(t,e){for(var n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],u=n,c=i,d=o,g=s,_=a,k=0;k<80;k++){var T=zs(ni(Hs(n,Ks(k,i,o,s),t[zc[k]+e],qc(k)),Kc[k]),a);n=a,a=s,s=ni(o,10),o=i,i=T,T=zs(ni(Hs(u,Ks(79-k,c,d,g),t[Hc[k]+e],Gc(k)),Wc[k]),_),u=_,_=g,g=ni(d,10),d=c,c=T}T=Tn(this.h[1],o,g),this.h[1]=Tn(this.h[2],s,_),this.h[2]=Tn(this.h[3],a,u),this.h[3]=Tn(this.h[4],n,c),this.h[4]=Tn(this.h[0],i,d),this.h[0]=T};ar.prototype._digest=function(t){return t==="hex"?sn.toHex32(this.h,"little"):sn.split32(this.h,"little")};function Ks(r,t,e,n){return r<=15?t^e^n:r<=31?t&e|~t&n:r<=47?(t|~e)^n:r<=63?t&n|e&~n:t^(e|~n)}function qc(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function Gc(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var zc=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Hc=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Kc=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Wc=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Qc=ht,jc=Yn;function bn(r,t,e){if(!(this instanceof bn))return new bn(r,t,e);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(Qc.toArray(t,e))}var Yc=bn;bn.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),jc(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=new this.Hash().update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=new this.Hash().update(t)};bn.prototype.update=function(t,e){return this.inner.update(t,e),this};bn.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(r){var t=r;t.utils=ht,t.common=En,t.sha=Nn,t.ripemd=kf,t.hmac=Yc,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(lf);const Ye=lf,Xc="sha2/5.7.0";new L(Xc);function Ws(r){return"0x"+Ye.sha256().update(nt(r)).digest("hex")}const Vc="0x0000000000000000000000000000000000000000",eg=J.from(-1),$c=J.from(0),rg=J.from(1),ng=J.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Zc="0x0000000000000000000000000000000000000000000000000000000000000000",Jc="strings/5.7.0",Pf=new L(Jc);var Hn;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(Hn||(Hn={}));var Ae;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(Ae||(Ae={}));function th(r,t,e,n,i){return Pf.throwArgumentError(`invalid codepoint at offset ${t}; ${r}`,"bytes",e)}function Rf(r,t,e,n,i){if(r===Ae.BAD_PREFIX||r===Ae.UNEXPECTED_CONTINUE){let o=0;for(let s=t+1;s<e.length&&e[s]>>6===2;s++)o++;return o}return r===Ae.OVERRUN?e.length-t-1:0}function eh(r,t,e,n,i){return r===Ae.OVERLONG?(n.push(i),0):(n.push(65533),Rf(r,t,e))}const rh=Object.freeze({error:th,ignore:Rf,replace:eh});function Tf(r,t){t==null&&(t=rh.error),r=nt(r);const e=[];let n=0;for(;n<r.length;){const i=r[n++];if(i>>7===0){e.push(i);continue}let o=null,s=null;if((i&224)===192)o=1,s=127;else if((i&240)===224)o=2,s=2047;else if((i&248)===240)o=3,s=65535;else{(i&192)===128?n+=t(Ae.UNEXPECTED_CONTINUE,n-1,r,e):n+=t(Ae.BAD_PREFIX,n-1,r,e);continue}if(n-1+o>=r.length){n+=t(Ae.OVERRUN,n-1,r,e);continue}let a=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let c=r[n];if((c&192)!=128){n+=t(Ae.MISSING_CONTINUE,n,r,e),a=null;break}a=a<<6|c&63,n++}if(a!==null){if(a>1114111){n+=t(Ae.OUT_OF_RANGE,n-1-o,r,e,a);continue}if(a>=55296&&a<=57343){n+=t(Ae.UTF16_SURROGATE,n-1-o,r,e,a);continue}if(a<=s){n+=t(Ae.OVERLONG,n-1-o,r,e,a);continue}e.push(a)}}return e}function wr(r,t=Hn.current){t!=Hn.current&&(Pf.checkNormalize(),r=r.normalize(t));let e=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)e.push(i);else if(i<2048)e.push(i>>6|192),e.push(i&63|128);else if((i&64512)==55296){n++;const o=r.charCodeAt(n);if(n>=r.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(o&1023);e.push(s>>18|240),e.push(s>>12&63|128),e.push(s>>6&63|128),e.push(s&63|128)}else e.push(i>>12|224),e.push(i>>6&63|128),e.push(i&63|128)}return nt(e)}function nh(r){return r.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function Bi(r,t){return nh(Tf(r,t))}function ih(r,t=Hn.current){return Tf(wr(r,t))}const oh="solidity/5.7.0",sh=new RegExp("^bytes([0-9]+)$"),ah=new RegExp("^(u?int)([0-9]*)$"),fh=new RegExp("^(.*)\\[([0-9]*)\\]$"),uh="0000000000000000000000000000000000000000000000000000000000000000",cn=new L(oh);function Of(r,t,e){switch(r){case"address":return e?fi(t,32):nt(t);case"string":return wr(t);case"bytes":return nt(t);case"bool":return t=t?"0x01":"0x00",e?fi(t,32):nt(t)}let n=r.match(ah);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&cn.throwArgumentError("invalid number type","type",r),e&&(i=256),t=J.from(t).toTwos(i),fi(t,i/8)}if(n=r.match(sh),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&cn.throwArgumentError("invalid bytes type","type",r),nt(t).byteLength!==i&&cn.throwArgumentError(`invalid value for ${r}`,"value",t),e?nt((t+uh).substring(0,66)):t}if(n=r.match(fh),n&&Array.isArray(t)){const i=n[1];parseInt(n[2]||String(t.length))!=t.length&&cn.throwArgumentError(`invalid array length for ${r}`,"value",t);const s=[];return t.forEach(function(a){s.push(Of(i,a,!0))}),Ze(s)}return cn.throwArgumentError("invalid type","type",r)}function If(r,t){r.length!=t.length&&cn.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);const e=[];return r.forEach(function(n,i){e.push(Of(n,t[i]))}),at(Ze(e))}function lh(r,t){return ie(If(r,t))}var ch="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",hh="0x96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f",dh=b.BigInt(1e3),ve=b.BigInt(0),So=b.BigInt(1),gh=b.BigInt(5),Qs=b.BigInt(997),js=b.BigInt(1e3);function Ys(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function Sf(r,t,e){return t&&Ys(r.prototype,t),e&&Ys(r,e),r}function Df(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}function Do(r){return Do=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Do(r)}function Ai(r,t){return Ai=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ai(r,t)}function mh(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ui(r,t,e){return mh()?ui=Reflect.construct:ui=function(i,o,s){var a=[null];a.push.apply(a,o);var u=Function.bind.apply(i,a),c=new u;return s&&Ai(c,s.prototype),c},ui.apply(null,arguments)}function ph(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function _i(r){var t=typeof Map=="function"?new Map:void 0;return _i=function(n){if(n===null||!ph(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return ui(n,arguments,Do(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ai(i,n)},_i(r)}function Ff(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function vh(r,t){if(!!r){if(typeof r=="string")return Xs(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Xs(r,t)}}function Xs(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Vs(r,t){var e;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=vh(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var n=0;return function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return e=r[Symbol.iterator](),e.next.bind(e)}var Bf="setPrototypeOf"in Object,$s=function(r){Df(t,r);function t(){var e;return e=r.call(this)||this,e.isInsufficientReservesError=!0,e.name=e.constructor.name,Bf&&Object.setPrototypeOf(Ff(e),(this instanceof t?this.constructor:void 0).prototype),e}return t}(_i(Error)),Zs=function(r){Df(t,r);function t(){var e;return e=r.call(this)||this,e.isInsufficientInputAmountError=!0,e.name=e.constructor.name,Bf&&Object.setPrototypeOf(Ff(e),(this instanceof t?this.constructor:void 0).prototype),e}return t}(_i(Error)),wh=function(t){var e=t.factoryAddress,n=t.tokenA,i=t.tokenB,o=n.sortsBefore(i)?[n,i]:[i,n],s=o[0],a=o[1];return zu(e,lh(["bytes"],[If(["address","address"],[s.address,a.address])]),hh)},yh=function(){function r(e,n){var i=e.currency.sortsBefore(n.currency)?[e,n]:[n,e];this.liquidityToken=new Ge(i[0].currency.chainId,r.getAddress(i[0].currency,i[1].currency),18,"UNI-V2","Uniswap V2"),this.tokenAmounts=i}r.getAddress=function(n,i){return wh({factoryAddress:ch,tokenA:n,tokenB:i})};var t=r.prototype;return t.involvesToken=function(n){return n.equals(this.token0)||n.equals(this.token1)},t.priceOf=function(n){return this.involvesToken(n)||rt(!1),n.equals(this.token0)?this.token0Price:this.token1Price},t.reserveOf=function(n){return this.involvesToken(n)||rt(!1),n.equals(this.token0)?this.reserve0:this.reserve1},t.getOutputAmount=function(n){if(this.involvesToken(n.currency)||rt(!1),b.equal(this.reserve0.quotient,ve)||b.equal(this.reserve1.quotient,ve))throw new $s;var i=this.reserveOf(n.currency),o=this.reserveOf(n.currency.equals(this.token0)?this.token1:this.token0),s=b.multiply(n.quotient,Qs),a=b.multiply(s,o.quotient),u=b.add(b.multiply(i.quotient,js),s),c=xe.fromRawAmount(n.currency.equals(this.token0)?this.token1:this.token0,b.divide(a,u));if(b.equal(c.quotient,ve))throw new Zs;return[c,new r(i.add(n),o.subtract(c))]},t.getInputAmount=function(n){if(this.involvesToken(n.currency)||rt(!1),b.equal(this.reserve0.quotient,ve)||b.equal(this.reserve1.quotient,ve)||b.greaterThanOrEqual(n.quotient,this.reserveOf(n.currency).quotient))throw new $s;var i=this.reserveOf(n.currency),o=this.reserveOf(n.currency.equals(this.token0)?this.token1:this.token0),s=b.multiply(b.multiply(o.quotient,n.quotient),js),a=b.multiply(b.subtract(i.quotient,n.quotient),Qs),u=xe.fromRawAmount(n.currency.equals(this.token0)?this.token1:this.token0,b.add(b.divide(s,a),So));return[u,new r(o.add(u),i.subtract(n))]},t.getLiquidityMinted=function(n,i,o){n.currency.equals(this.liquidityToken)||rt(!1);var s=i.currency.sortsBefore(o.currency)?[i,o]:[o,i];s[0].currency.equals(this.token0)&&s[1].currency.equals(this.token1)||rt(!1);var a;if(b.equal(n.quotient,ve))a=b.subtract(co(b.multiply(s[0].quotient,s[1].quotient)),dh);else{var u=b.divide(b.multiply(s[0].quotient,n.quotient),this.reserve0.quotient),c=b.divide(b.multiply(s[1].quotient,n.quotient),this.reserve1.quotient);a=b.lessThanOrEqual(u,c)?u:c}if(!b.greaterThan(a,ve))throw new Zs;return xe.fromRawAmount(this.liquidityToken,a)},t.getLiquidityValue=function(n,i,o,s,a){s===void 0&&(s=!1),this.involvesToken(n)||rt(!1),i.currency.equals(this.liquidityToken)||rt(!1),o.currency.equals(this.liquidityToken)||rt(!1),b.lessThanOrEqual(o.quotient,i.quotient)||rt(!1);var u;if(!s)u=i;else{a||rt(!1);var c=b.BigInt(a);if(b.equal(c,ve))u=i;else{var d=co(b.multiply(this.reserve0.quotient,this.reserve1.quotient)),g=co(c);if(b.greaterThan(d,g)){var _=b.multiply(i.quotient,b.subtract(d,g)),k=b.add(b.multiply(d,gh),g),T=b.divide(_,k);u=i.add(xe.fromRawAmount(this.liquidityToken,T))}else u=i}}return xe.fromRawAmount(n,b.divide(b.multiply(o.quotient,this.reserveOf(n).quotient),u.quotient))},Sf(r,[{key:"token0Price",get:function(){var n=this.tokenAmounts[1].divide(this.tokenAmounts[0]);return new rn(this.token0,this.token1,n.denominator,n.numerator)}},{key:"token1Price",get:function(){var n=this.tokenAmounts[0].divide(this.tokenAmounts[1]);return new rn(this.token1,this.token0,n.denominator,n.numerator)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"token0",get:function(){return this.tokenAmounts[0].currency}},{key:"token1",get:function(){return this.tokenAmounts[1].currency}},{key:"reserve0",get:function(){return this.tokenAmounts[0]}},{key:"reserve1",get:function(){return this.tokenAmounts[1]}}]),r}(),Js=function(){function r(t,e,n){this._midPrice=null,t.length>0||rt(!1);var i=t[0].chainId;t.every(function(T){return T.chainId===i})||rt(!1);var o=e.wrapped;t[0].involvesToken(o)||rt(!1),typeof n>"u"||t[t.length-1].involvesToken(n.wrapped)||rt(!1);for(var s=[o],a=Vs(t.entries()),u;!(u=a()).done;){var c=u.value,d=c[0],g=c[1],_=s[d];_.equals(g.token0)||_.equals(g.token1)||rt(!1);var k=_.equals(g.token0)?g.token1:g.token0;s.push(k)}this.pairs=t,this.path=s,this.input=e,this.output=n}return Sf(r,[{key:"midPrice",get:function(){if(this._midPrice!==null)return this._midPrice;for(var e=[],n=Vs(this.pairs.entries()),i;!(i=n()).done;){var o=i.value,s=o[0],a=o[1];e.push(this.path[s].equals(a.token0)?new rn(a.reserve0.currency,a.reserve1.currency,a.reserve0.quotient,a.reserve1.quotient):new rn(a.reserve1.currency,a.reserve0.currency,a.reserve1.quotient,a.reserve0.quotient))}var u=e.slice(1).reduce(function(c,d){return c.multiply(d)},e[0]);return this._midPrice=new rn(this.input,this.output,u.denominator,u.numerator)}},{key:"chainId",get:function(){return this.pairs[0].chainId}}]),r}();function bh(r,t){return r.inputAmount.currency.equals(t.inputAmount.currency)||rt(!1),r.outputAmount.currency.equals(t.outputAmount.currency)||rt(!1),r.outputAmount.equalTo(t.outputAmount)?r.inputAmount.equalTo(t.inputAmount)?0:r.inputAmount.lessThan(t.inputAmount)?-1:1:r.outputAmount.lessThan(t.outputAmount)?1:-1}function ta(r,t){var e=bh(r,t);return e!==0?e:r.priceImpact.lessThan(t.priceImpact)?-1:r.priceImpact.greaterThan(t.priceImpact)?1:r.route.path.length-t.route.path.length}var ea=function(){function r(e,n,i){this.route=e,this.tradeType=i;var o=new Array(e.path.length);if(i===Ve.EXACT_INPUT){n.currency.equals(e.input)||rt(!1),o[0]=n.wrapped;for(var s=0;s<e.path.length-1;s++){var a=e.pairs[s],u=a.getOutputAmount(o[s]),c=u[0];o[s+1]=c}this.inputAmount=xe.fromFractionalAmount(e.input,n.numerator,n.denominator),this.outputAmount=xe.fromFractionalAmount(e.output,o[o.length-1].numerator,o[o.length-1].denominator)}else{n.currency.equals(e.output)||rt(!1),o[o.length-1]=n.wrapped;for(var d=e.path.length-1;d>0;d--){var g=e.pairs[d-1],_=g.getInputAmount(o[d]),k=_[0];o[d-1]=k}this.inputAmount=xe.fromFractionalAmount(e.input,o[0].numerator,o[0].denominator),this.outputAmount=xe.fromFractionalAmount(e.output,n.numerator,n.denominator)}this.executionPrice=new rn(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient),this.priceImpact=yl(e.midPrice,this.inputAmount,this.outputAmount)}r.exactIn=function(n,i){return new r(n,i,Ve.EXACT_INPUT)},r.exactOut=function(n,i){return new r(n,i,Ve.EXACT_OUTPUT)};var t=r.prototype;return t.minimumAmountOut=function(n){if(n.lessThan(ve)&&rt(!1),this.tradeType===Ve.EXACT_OUTPUT)return this.outputAmount;var i=new Sr(So).add(n).invert().multiply(this.outputAmount.quotient).quotient;return xe.fromRawAmount(this.outputAmount.currency,i)},t.maximumAmountIn=function(n){if(n.lessThan(ve)&&rt(!1),this.tradeType===Ve.EXACT_INPUT)return this.inputAmount;var i=new Sr(So).add(n).multiply(this.inputAmount.quotient).quotient;return xe.fromRawAmount(this.inputAmount.currency,i)},r.bestTradeExactIn=function(n,i,o,s,a,u,c){var d=s===void 0?{}:s,g=d.maxNumResults,_=g===void 0?3:g,k=d.maxHops,T=k===void 0?3:k;a===void 0&&(a=[]),u===void 0&&(u=i),c===void 0&&(c=[]),n.length>0||rt(!1),T>0||rt(!1),i===u||a.length>0||rt(!1);for(var C=u.wrapped,F=o.wrapped,D=0;D<n.length;D++){var R=n[D];if(!(!R.token0.equals(C.currency)&&!R.token1.equals(C.currency))&&!(R.reserve0.equalTo(ve)||R.reserve1.equalTo(ve))){var G=void 0;try{var W=R.getOutputAmount(C);G=W[0]}catch(K){if(K.isInsufficientInputAmountError)continue;throw K}if(G.currency.equals(F))Us(c,new r(new Js([].concat(a,[R]),i.currency,o),i,Ve.EXACT_INPUT),_,ta);else if(T>1&&n.length>1){var H=n.slice(0,D).concat(n.slice(D+1,n.length));r.bestTradeExactIn(H,i,o,{maxNumResults:_,maxHops:T-1},[].concat(a,[R]),G,c)}}}return c},t.worstExecutionPrice=function(n){return new rn(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(n).quotient,this.minimumAmountOut(n).quotient)},r.bestTradeExactOut=function(n,i,o,s,a,u,c){var d=s===void 0?{}:s,g=d.maxNumResults,_=g===void 0?3:g,k=d.maxHops,T=k===void 0?3:k;a===void 0&&(a=[]),u===void 0&&(u=o),c===void 0&&(c=[]),n.length>0||rt(!1),T>0||rt(!1),o===u||a.length>0||rt(!1);for(var C=u.wrapped,F=i.wrapped,D=0;D<n.length;D++){var R=n[D];if(!(!R.token0.equals(C.currency)&&!R.token1.equals(C.currency))&&!(R.reserve0.equalTo(ve)||R.reserve1.equalTo(ve))){var G=void 0;try{var W=R.getInputAmount(C);G=W[0]}catch(K){if(K.isInsufficientReservesError)continue;throw K}if(G.currency.equals(F))Us(c,new r(new Js([R].concat(a),i,o.currency),o,Ve.EXACT_OUTPUT),_,ta);else if(T>1&&n.length>1){var H=n.slice(0,D).concat(n.slice(D+1,n.length));r.bestTradeExactOut(H,i,o,{maxNumResults:_,maxHops:T-1},[R].concat(a),G,c)}}}return c},r}();class gr extends Xa{constructor({address:t,decimals:e,symbol:n,name:i}){super(e,n,i),this.address=t}static fromUni(t){const{name:e,symbol:n,address:i,decimals:o}=t;return rt(e&&n),new gr({name:e,symbol:n,decimals:o,address:Yu(i)})}toUni(){return new Ge(-1,this.address,this.decimals,this.symbol,this.name)}}class Or extends $o{static fromWei(t,e){const{numerator:n,denominator:i}=t.amountToFraction(e.asBigInt);return new Or(t,n,i)}static fromToken(t,e){const{numerator:n,denominator:i}=t.amountToFraction(e,!0);return new Or(t,n,i)}static fromUni(t){return new Or(gr.fromUni(t.currency),t.numerator.toString(),t.denominator.toString())}toWei(){return new An(this.numerator)}toFraction(){return this.clone()}toUni(){return xe.fromFractionalAmount(this.currency.toUni(),(this.numerator*10n**BigInt(this.currency.decimals)).toString(),this.denominator.toString())}}class Ir extends ne{constructor({baseCurrency:t,quoteCurrency:e,denominator:n,numerator:i}){super(i,n),this.baseCurrency=t,this.quoteCurrency=e}static fromUni(t){return new Ir({baseCurrency:gr.fromUni(t.baseCurrency),quoteCurrency:gr.fromUni(t.quoteCurrency),denominator:t.denominator.toString(),numerator:t.numerator.toString()})}multipliedBy(t){rt(this.quoteCurrency.equals(t.baseCurrency),"TOKEN");const e=super.multipliedBy(t);return new Ir({baseCurrency:this.baseCurrency,quoteCurrency:t.quoteCurrency,numerator:e.numerator,denominator:e.denominator})}invert(){return new Ir({baseCurrency:this.quoteCurrency,quoteCurrency:this.baseCurrency,numerator:this.denominator,denominator:this.numerator})}toFraction(){return this.clone()}}class ns{static fromUni(t){return new ns({token0:Or.fromUni(t.reserve0),token1:Or.fromUni(t.reserve1),liquidityToken:gr.fromUni(t.liquidityToken)})}#t;#e;constructor({token0:t,token1:e,liquidityToken:n}){this.#t={tokenA:t,tokenB:e},this.#e=n}get token0Price(){return new Ir({baseCurrency:this.token0,quoteCurrency:this.token1,denominator:this.#t.tokenA.numerator,numerator:this.#t.tokenB.numerator})}get token1Price(){return new Ir({baseCurrency:this.token1,quoteCurrency:this.token0,denominator:this.#t.tokenB.numerator,numerator:this.#t.tokenA.numerator})}get token0(){return this.#t.tokenA.currency}get token1(){return this.#t.tokenB.currency}get reserve0(){return this.#t.tokenA}get reserve1(){return this.#t.tokenB}toUni(){const t=new yh(this.reserve0.toUni(),this.reserve1.toUni());return t.liquidityToken=this.#e.toUni(),t}}class is{static fromUniRoute(t){return new is({pairs:t.pairs.map(e=>ns.fromUni(e)),input:gr.fromUni(t.input),output:gr.fromUni(t.output),midPrice:Ir.fromUni(t.midPrice),path:t.path.map(e=>gr.fromUni(e))})}constructor(t){Object.assign(this,t)}toString(){return this.path.map(t=>t.symbol).join(" > ")}}const Ah=new Sr(Ps.numerator.toString(),Ps.denominator.toString());class Lf{static bestTrade(t){const{pairs:e,disableMultiHops:n}=t,i={maxHops:n?1:tl,maxNumResults:el},o=e.map(u=>u.toUni()),s=t.tradeType==="exact-in"?ea.bestTradeExactIn(o,t.amountIn.toUni(),t.tokenOut.toUni(),i):ea.bestTradeExactOut(o,t.tokenIn.toUni(),t.amountOut.toUni(),i);if(!s.length)return{kind:"route-not-found"};const a=s.find(u=>u.priceImpact.lessThan(Ah));return a?{kind:"ok",trade:new Lf(a)}:{kind:"price-impact-is-too-high"}}constructor(t){this.route=is.fromUniRoute(t.route),this.tradeType=t.tradeType===Ve.EXACT_INPUT?"exact-in":"exact-out",this.inputAmount=Or.fromUni(t.inputAmount),this.outputAmount=Or.fromUni(t.outputAmount),this.executionPrice=Ir.fromUni(t.executionPrice),this.priceImpact=new Vo(t.priceImpact.numerator.toString(),t.priceImpact.denominator.toString())}routePath(){return this.route.path.map(t=>t.address)}}const _h="properties/5.7.0";var xh=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{c(n.next(d))}catch(g){s(g)}}function u(d){try{c(n.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,u)}c((n=n.apply(r,t||[])).next())})};const xi=new L(_h);function ut(r,t,e){Object.defineProperty(r,t,{enumerable:!0,value:e,writable:!1})}function Dn(r,t){for(let e=0;e<32;e++){if(r[t])return r[t];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function fe(r){return xh(this,void 0,void 0,function*(){const t=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(o=>({key:n,value:o}))});return(yield Promise.all(t)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Eh(r,t){(!r||typeof r!="object")&&xi.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(e=>{t[e]||xi.throwArgumentError("invalid object key - "+e,"transaction:"+e,r)})}function we(r){const t={};for(const e in r)t[e]=r[e];return t}const Nh={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Uf(r){if(r==null||Nh[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const t=Object.keys(r);for(let e=0;e<t.length;e++){let n=null;try{n=r[t[e]]}catch{continue}if(!Uf(n))return!1}return!0}return xi.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Mh(r){if(Uf(r))return r;if(Array.isArray(r))return Object.freeze(r.map(t=>an(t)));if(typeof r=="object"){const t={};for(const e in r){const n=r[e];n!==void 0&&ut(t,e,an(n))}return t}return xi.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function an(r){return Mh(r)}class kh{constructor(t){for(const e in t)this[e]=an(t[e])}}function qf(r){return ie(wr(r))}const Gf="hash/5.7.0";function zf(r){r=atob(r);const t=[];for(let e=0;e<r.length;e++)t.push(r.charCodeAt(e));return nt(t)}function Hf(r){r=nt(r);let t="";for(let e=0;e<r.length;e++)t+=String.fromCharCode(r[e]);return btoa(t)}function Kf(r,t){t==null&&(t=1);const e=[],n=e.forEach,i=function(o,s){n.call(o,function(a){s>0&&Array.isArray(a)?i(a,s-1):e.push(a)})};return i(r,t),e}function Ch(r){const t={};for(let e=0;e<r.length;e++){const n=r[e];t[n[0]]=n[1]}return t}function Ph(r){let t=0;function e(){return r[t++]<<8|r[t++]}let n=e(),i=1,o=[0,1];for(let H=1;H<n;H++)o.push(i+=e());let s=e(),a=t;t+=s;let u=0,c=0;function d(){return u==0&&(c=c<<8|r[t++],u=8),c>>--u&1}const g=31,_=Math.pow(2,g),k=_>>>1,T=k>>1,C=_-1;let F=0;for(let H=0;H<g;H++)F=F<<1|d();let D=[],R=0,G=_;for(;;){let H=Math.floor(((F-R+1)*i-1)/G),K=0,tt=n;for(;tt-K>1;){let P=K+tt>>>1;H<o[P]?tt=P:K=P}if(K==0)break;D.push(K);let A=R+Math.floor(G*o[K]/i),N=R+Math.floor(G*o[K+1]/i)-1;for(;((A^N)&k)==0;)F=F<<1&C|d(),A=A<<1&C,N=N<<1&C|1;for(;A&~N&T;)F=F&k|F<<1&C>>>1|d(),A=A<<1^k,N=(N^k)<<1|k|1;R=A,G=1+N-A}let W=n-4;return D.map(H=>{switch(H-W){case 3:return W+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return W+256+(r[a++]<<8|r[a++]);case 1:return W+r[a++];default:return H-1}})}function Rh(r){let t=0;return()=>r[t++]}function Th(r){return Rh(Ph(r))}function Oh(r){return r&1?~r>>1:r>>1}function Ih(r,t){let e=Array(r);for(let n=0;n<r;n++)e[n]=1+t();return e}function ra(r,t){let e=Array(r);for(let n=0,i=-1;n<r;n++)e[n]=i+=1+t();return e}function Sh(r,t){let e=Array(r);for(let n=0,i=0;n<r;n++)e[n]=i+=Oh(t());return e}function Ei(r,t){let e=ra(r(),r),n=r(),i=ra(n,r),o=Ih(n,r);for(let s=0;s<n;s++)for(let a=0;a<o[s];a++)e.push(i[s]+a);return t?e.map(s=>t[s]):e}function Dh(r){let t=[];for(;;){let e=r();if(e==0)break;t.push(Bh(e,r))}for(;;){let e=r()-1;if(e<0)break;t.push(Lh(e,r))}return Ch(Kf(t))}function Fh(r){let t=[];for(;;){let e=r();if(e==0)break;t.push(e)}return t}function Wf(r,t,e){let n=Array(r).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)Sh(r,e).forEach((o,s)=>n[s].push(o));return n}function Bh(r,t){let e=1+t(),n=t(),i=Fh(t),o=Wf(i.length,1+r,t);return Kf(o.map((s,a)=>{const u=s[0],c=s.slice(1);return Array(i[a]).fill(void 0).map((d,g)=>{let _=g*n;return[u+g*e,c.map(k=>k+_)]})}))}function Lh(r,t){let e=1+t();return Wf(e,1+r,t).map(i=>[i[0],i.slice(1)])}function Uh(r){let t=Ei(r).sort((n,i)=>n-i);return e();function e(){let n=[];for(;;){let c=Ei(r,t);if(c.length==0)break;n.push({set:new Set(c),node:e()})}n.sort((c,d)=>d.set.size-c.set.size);let i=r(),o=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let a=i==1,u=i==2;return{branches:n,valid:o,fe0f:s,save:a,check:u}}}function qh(){return Th(zf("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"))}const Li=qh(),Gh=new Set(Ei(Li)),zh=new Set(Ei(Li)),Hh=Dh(Li),Kh=Uh(Li),na=45,ia=95;function Qf(r){return ih(r)}function Wh(r){return r.filter(t=>t!=65039)}function jf(r){for(let t of r.split(".")){let e=Qf(t);try{for(let n=e.lastIndexOf(ia)-1;n>=0;n--)if(e[n]!==ia)throw new Error("underscore only allowed at start");if(e.length>=4&&e.every(n=>n<128)&&e[2]===na&&e[3]===na)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${t}": ${n.message}`)}}return r}function Qh(r){return jf(jh(r,Wh))}function jh(r,t){let e=Qf(r).reverse(),n=[];for(;e.length;){let i=Xh(e);if(i){n.push(...t(i));continue}let o=e.pop();if(Gh.has(o)){n.push(o);continue}if(zh.has(o))continue;let s=Hh[o];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return jf(Yh(String.fromCodePoint(...n)))}function Yh(r){return r.normalize("NFC")}function Xh(r,t){var e;let n=Kh,i,o,s=[],a=r.length;for(t&&(t.length=0);a;){let u=r[--a];if(n=(e=n.branches.find(c=>c.set.has(u)))===null||e===void 0?void 0:e.node,!n)break;if(n.save)o=u;else if(n.check&&u===o)break;s.push(u),n.fe0f&&(s.push(65039),a>0&&r[a-1]==65039&&a--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),t&&t.push(...r.slice(a).reverse()),r.length=a)}return i}const Vh=new L(Gf),Yf=new Uint8Array(32);Yf.fill(0);function oa(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function Xf(r){const t=wr(Qh(r)),e=[];if(r.length===0)return e;let n=0;for(let i=0;i<t.length;i++)t[i]===46&&(e.push(oa(t.slice(n,i))),n=i+1);if(n>=t.length)throw new Error("invalid ENS name; empty component");return e.push(oa(t.slice(n))),e}function li(r){typeof r!="string"&&Vh.throwArgumentError("invalid ENS name; not a string","name",r);let t=Yf;const e=Xf(r);for(;e.length;)t=ie(Ze([t,ie(e.pop())]));return at(t)}function $h(r){return at(Ze(Xf(r).map(t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e})))+"00"}var Zh=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{c(n.next(d))}catch(g){s(g)}}function u(d){try{c(n.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,u)}c((n=n.apply(r,t||[])).next())})};const Zt=new L(Gf),Vf=new Uint8Array(32);Vf.fill(0);const Jh=J.from(-1),$f=J.from(0),Zf=J.from(1),t0=J.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function e0(r){const t=nt(r),e=t.length%32;return e?Ee([t,Vf.slice(e)]):at(t)}const r0=ee(Zf.toHexString(),32),n0=ee($f.toHexString(),32),sa={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},po=["name","version","chainId","verifyingContract","salt"];function aa(r){return function(t){return typeof t!="string"&&Zt.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,t),t}}const i0={name:aa("name"),version:aa("version"),chainId:function(r){try{return J.from(r).toString()}catch{}return Zt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return ge(r).toLowerCase()}catch{}return Zt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const t=nt(r);if(t.length!==32)throw new Error("bad length");return at(t)}catch{}return Zt.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function vo(r){{const t=r.match(/^(u?)int(\d*)$/);if(t){const e=t[1]==="",n=parseInt(t[2]||"256");(n%8!==0||n>256||t[2]&&t[2]!==String(n))&&Zt.throwArgumentError("invalid numeric width","type",r);const i=t0.mask(e?n-1:n),o=e?i.add(Zf).mul(Jh):$f;return function(s){const a=J.from(s);return(a.lt(o)||a.gt(i))&&Zt.throwArgumentError(`value out-of-bounds for ${r}`,"value",s),ee(a.toTwos(256).toHexString(),32)}}}{const t=r.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return(e===0||e>32||t[1]!==String(e))&&Zt.throwArgumentError("invalid bytes width","type",r),function(n){return nt(n).length!==e&&Zt.throwArgumentError(`invalid length for ${r}`,"value",n),e0(n)}}}switch(r){case"address":return function(t){return ee(ge(t),32)};case"bool":return function(t){return t?r0:n0};case"bytes":return function(t){return ie(t)};case"string":return function(t){return qf(t)}}return null}function fa(r,t){return`${r}(${t.map(({name:e,type:n})=>n+" "+e).join(",")})`}class be{constructor(t){ut(this,"types",Object.freeze(an(t))),ut(this,"_encoderCache",{}),ut(this,"_types",{});const e={},n={},i={};Object.keys(t).forEach(a=>{e[a]={},n[a]=[],i[a]={}});for(const a in t){const u={};t[a].forEach(c=>{u[c.name]&&Zt.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",t),u[c.name]=!0;const d=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];d===a&&Zt.throwArgumentError(`circular type reference to ${JSON.stringify(d)}`,"types",t),!vo(d)&&(n[d]||Zt.throwArgumentError(`unknown type ${JSON.stringify(d)}`,"types",t),n[d].push(a),e[a][d]=!0)})}const o=Object.keys(n).filter(a=>n[a].length===0);o.length===0?Zt.throwArgumentError("missing primary type","types",t):o.length>1&&Zt.throwArgumentError(`ambiguous primary types or unused types: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"types",t),ut(this,"primaryType",o[0]);function s(a,u){u[a]&&Zt.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",t),u[a]=!0,Object.keys(e[a]).forEach(c=>{!n[c]||(s(c,u),Object.keys(u).forEach(d=>{i[d][c]=!0}))}),delete u[a]}s(this.primaryType,{});for(const a in i){const u=Object.keys(i[a]);u.sort(),this._types[a]=fa(a,t[a])+u.map(c=>fa(c,t[c])).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const i=vo(t);if(i)return i}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const i=e[1],o=this.getEncoder(i),s=parseInt(e[3]);return a=>{s>=0&&a.length!==s&&Zt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let u=a.map(o);return this._types[i]&&(u=u.map(ie)),ie(Ee(u))}}const n=this.types[t];if(n){const i=qf(this._types[t]);return o=>{const s=n.map(({name:a,type:u})=>{const c=this.getEncoder(u)(o[a]);return this._types[u]?ie(c):c});return s.unshift(i),Ee(s)}}return Zt.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||Zt.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return ie(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,n){if(vo(t))return n(t,e);const i=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],a=parseInt(i[3]);return a>=0&&e.length!==a&&Zt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map(u=>this._visit(s,u,n))}const o=this.types[t];return o?o.reduce((s,{name:a,type:u})=>(s[a]=this._visit(u,e[a],n),s),{}):Zt.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new be(t)}static getPrimaryType(t){return be.from(t).primaryType}static hashStruct(t,e,n){return be.from(e).hashStruct(t,n)}static hashDomain(t){const e=[];for(const n in t){const i=sa[n];i||Zt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),e.push({name:n,type:i})}return e.sort((n,i)=>po.indexOf(n.name)-po.indexOf(i.name)),be.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,n){return Ee(["0x1901",be.hashDomain(t),be.from(e).hash(n)])}static hash(t,e,n){return ie(be.encode(t,e,n))}static resolveNames(t,e,n,i){return Zh(this,void 0,void 0,function*(){t=we(t);const o={};t.verifyingContract&&!gt(t.verifyingContract,20)&&(o[t.verifyingContract]="0x");const s=be.from(e);s.visit(n,(a,u)=>(a==="address"&&!gt(u,20)&&(o[u]="0x"),u));for(const a in o)o[a]=yield i(a);return t.verifyingContract&&o[t.verifyingContract]&&(t.verifyingContract=o[t.verifyingContract]),n=s.visit(n,(a,u)=>a==="address"&&o[u]?o[u]:u),{domain:t,value:n}})}static getPayload(t,e,n){be.hashDomain(t);const i={},o=[];po.forEach(u=>{const c=t[u];c!=null&&(i[u]=i0[u](c),o.push({name:u,type:sa[u]}))});const s=be.from(e),a=we(e);return a.EIP712Domain?Zt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):a.EIP712Domain=o,s.encode(n),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(n,(u,c)=>{if(u.match(/^bytes(\d*)/))return at(nt(c));if(u.match(/^u?int/))return J.from(c).toString();switch(u){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Zt.throwArgumentError("invalid string","value",c),c}return Zt.throwArgumentError("unsupported type","type",u)})}}}const o0="abstract-provider/5.7.0";var s0=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{c(n.next(d))}catch(g){s(g)}}function u(d){try{c(n.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,u)}c((n=n.apply(r,t||[])).next())})};const a0=new L(o0);class f0 extends kh{static isForkEvent(t){return!!(t&&t._isForkEvent)}}class os{constructor(){a0.checkAbstract(new.target,os),ut(this,"_isProvider",!0)}getFeeData(){return s0(this,void 0,void 0,function*(){const{block:t,gasPrice:e}=yield fe({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let n=null,i=null,o=null;return t&&t.baseFeePerGas&&(n=t.baseFeePerGas,o=J.from("1500000000"),i=t.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:e}})}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!!(t&&t._isProvider)}}const u0="abstract-signer/5.7.0";var Ue=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{c(n.next(d))}catch(g){s(g)}}function u(d){try{c(n.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,u)}c((n=n.apply(r,t||[])).next())})};const Re=new L(u0),l0=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],c0=[L.errors.INSUFFICIENT_FUNDS,L.errors.NONCE_EXPIRED,L.errors.REPLACEMENT_UNDERPRICED];class Ui{constructor(){Re.checkAbstract(new.target,Ui),ut(this,"_isSigner",!0)}getBalance(t){return Ue(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)})}getTransactionCount(t){return Ue(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)})}estimateGas(t){return Ue(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const e=yield fe(this.checkTransaction(t));return yield this.provider.estimateGas(e)})}call(t,e){return Ue(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield fe(this.checkTransaction(t));return yield this.provider.call(n,e)})}sendTransaction(t){return Ue(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),n=yield this.signTransaction(e);return yield this.provider.sendTransaction(n)})}getChainId(){return Ue(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Ue(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Ue(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(t){return Ue(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)})}checkTransaction(t){for(const n in t)l0.indexOf(n)===-1&&Re.throwArgumentError("invalid transaction key: "+n,"transaction",t);const e=we(t);return e.from==null?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Re.throwArgumentError("from address mismatch","transaction",t),n[0])),e}populateTransaction(t){return Ue(this,void 0,void 0,function*(){const e=yield fe(this.checkTransaction(t));e.to!=null&&(e.to=Promise.resolve(e.to).then(i=>Ue(this,void 0,void 0,function*(){if(i==null)return null;const o=yield this.resolveName(i);return o==null&&Re.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),e.to.catch(i=>{}));const n=e.maxFeePerGas!=null||e.maxPriorityFeePerGas!=null;if(e.gasPrice!=null&&(e.type===2||n)?Re.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t):(e.type===0||e.type===1)&&n&&Re.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t),(e.type===2||e.type==null)&&e.maxFeePerGas!=null&&e.maxPriorityFeePerGas!=null)e.type=2;else if(e.type===0||e.type===1)e.gasPrice==null&&(e.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(e.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(e.type=2,e.gasPrice!=null){const o=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=o,e.maxPriorityFeePerGas=o}else e.maxFeePerGas==null&&(e.maxFeePerGas=i.maxFeePerGas),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Re.throwError("network does not support EIP-1559",L.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),e.gasPrice==null&&(e.gasPrice=i.gasPrice),e.type=0):Re.throwError("failed to get consistent fee data",L.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else e.type===2&&(e.maxFeePerGas==null&&(e.maxFeePerGas=i.maxFeePerGas),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return e.nonce==null&&(e.nonce=this.getTransactionCount("pending")),e.gasLimit==null&&(e.gasLimit=this.estimateGas(e).catch(i=>{if(c0.indexOf(i.code)>=0)throw i;return Re.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",L.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:e})})),e.chainId==null?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Re.throwArgumentError("chainId address mismatch","transaction",t),i[0])),yield fe(e)})}_checkProvider(t){this.provider||Re.throwError("missing provider",L.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!!(t&&t._isSigner)}}class Jf extends Ui{constructor(t,e){super(),ut(this,"address",t),ut(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then(()=>{Re.throwError(t,L.errors.UNSUPPORTED_OPERATION,{operation:e})})}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new Jf(this.address,t)}}function kn(r,t,e){return e={path:t,exports:{},require:function(n,i){return h0(n,i??e.path)}},r(e,e.exports),e.exports}function h0(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var ss=tu;function tu(r,t){if(!r)throw new Error(t||"Assertion failed")}tu.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)};var He=kn(function(r,t){var e=t;function n(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var u=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)u[c]=s[c]|0;return u}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var c=0;c<s.length;c+=2)u.push(parseInt(s[c]+s[c+1],16))}else for(var c=0;c<s.length;c++){var d=s.charCodeAt(c),g=d>>8,_=d&255;g?u.push(g,_):u.push(_)}return u}e.toArray=n;function i(s){return s.length===1?"0"+s:s}e.zero2=i;function o(s){for(var a="",u=0;u<s.length;u++)a+=i(s[u].toString(16));return a}e.toHex=o,e.encode=function(a,u){return u==="hex"?o(a):a}}),Me=kn(function(r,t){var e=t;e.assert=ss,e.toArray=He.toArray,e.zero2=He.zero2,e.toHex=He.toHex,e.encode=He.encode;function n(u,c,d){var g=new Array(Math.max(u.bitLength(),d)+1);g.fill(0);for(var _=1<<c+1,k=u.clone(),T=0;T<g.length;T++){var C,F=k.andln(_-1);k.isOdd()?(F>(_>>1)-1?C=(_>>1)-F:C=F,k.isubn(C)):C=0,g[T]=C,k.iushrn(1)}return g}e.getNAF=n;function i(u,c){var d=[[],[]];u=u.clone(),c=c.clone();for(var g=0,_=0,k;u.cmpn(-g)>0||c.cmpn(-_)>0;){var T=u.andln(3)+g&3,C=c.andln(3)+_&3;T===3&&(T=-1),C===3&&(C=-1);var F;(T&1)===0?F=0:(k=u.andln(7)+g&7,(k===3||k===5)&&C===2?F=-T:F=T),d[0].push(F);var D;(C&1)===0?D=0:(k=c.andln(7)+_&7,(k===3||k===5)&&T===2?D=-C:D=C),d[1].push(D),2*g===F+1&&(g=1-g),2*_===D+1&&(_=1-_),u.iushrn(1),c.iushrn(1)}return d}e.getJSF=i;function o(u,c,d){var g="_"+c;u.prototype[c]=function(){return this[g]!==void 0?this[g]:this[g]=d.call(this)}}e.cachedProperty=o;function s(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=s;function a(u){return new it(u,"hex","le")}e.intFromLE=a}),Ni=Me.getNAF,d0=Me.getJSF,Mi=Me.assert;function Fr(r,t){this.type=r,this.p=new it(t.p,16),this.red=t.prime?it.red(t.prime):it.mont(this.p),this.zero=new it(0).toRed(this.red),this.one=new it(1).toRed(this.red),this.two=new it(2).toRed(this.red),this.n=t.n&&new it(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var e=this.n&&this.p.div(this.n);!e||e.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var fn=Fr;Fr.prototype.point=function(){throw new Error("Not implemented")};Fr.prototype.validate=function(){throw new Error("Not implemented")};Fr.prototype._fixedNafMul=function(t,e){Mi(t.precomputed);var n=t._getDoubles(),i=Ni(e,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],a,u;for(a=0;a<i.length;a+=n.step){u=0;for(var c=a+n.step-1;c>=a;c--)u=(u<<1)+i[c];s.push(u)}for(var d=this.jpoint(null,null,null),g=this.jpoint(null,null,null),_=o;_>0;_--){for(a=0;a<s.length;a++)u=s[a],u===_?g=g.mixedAdd(n.points[a]):u===-_&&(g=g.mixedAdd(n.points[a].neg()));d=d.add(g)}return d.toP()};Fr.prototype._wnafMul=function(t,e){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=Ni(e,n,this._bitLength),a=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var c=0;u>=0&&s[u]===0;u--)c++;if(u>=0&&c++,a=a.dblp(c),u<0)break;var d=s[u];Mi(d!==0),t.type==="affine"?d>0?a=a.mixedAdd(o[d-1>>1]):a=a.mixedAdd(o[-d-1>>1].neg()):d>0?a=a.add(o[d-1>>1]):a=a.add(o[-d-1>>1].neg())}return t.type==="affine"?a.toP():a};Fr.prototype._wnafMulAdd=function(t,e,n,i,o){var s=this._wnafT1,a=this._wnafT2,u=this._wnafT3,c=0,d,g,_;for(d=0;d<i;d++){_=e[d];var k=_._getNAFPoints(t);s[d]=k.wnd,a[d]=k.points}for(d=i-1;d>=1;d-=2){var T=d-1,C=d;if(s[T]!==1||s[C]!==1){u[T]=Ni(n[T],s[T],this._bitLength),u[C]=Ni(n[C],s[C],this._bitLength),c=Math.max(u[T].length,c),c=Math.max(u[C].length,c);continue}var F=[e[T],null,null,e[C]];e[T].y.cmp(e[C].y)===0?(F[1]=e[T].add(e[C]),F[2]=e[T].toJ().mixedAdd(e[C].neg())):e[T].y.cmp(e[C].y.redNeg())===0?(F[1]=e[T].toJ().mixedAdd(e[C]),F[2]=e[T].add(e[C].neg())):(F[1]=e[T].toJ().mixedAdd(e[C]),F[2]=e[T].toJ().mixedAdd(e[C].neg()));var D=[-3,-1,-5,-7,0,7,5,1,3],R=d0(n[T],n[C]);for(c=Math.max(R[0].length,c),u[T]=new Array(c),u[C]=new Array(c),g=0;g<c;g++){var G=R[0][g]|0,W=R[1][g]|0;u[T][g]=D[(G+1)*3+(W+1)],u[C][g]=0,a[T]=F}}var H=this.jpoint(null,null,null),K=this._wnafT4;for(d=c;d>=0;d--){for(var tt=0;d>=0;){var A=!0;for(g=0;g<i;g++)K[g]=u[g][d]|0,K[g]!==0&&(A=!1);if(!A)break;tt++,d--}if(d>=0&&tt++,H=H.dblp(tt),d<0)break;for(g=0;g<i;g++){var N=K[g];N!==0&&(N>0?_=a[g][N-1>>1]:N<0&&(_=a[g][-N-1>>1].neg()),_.type==="affine"?H=H.mixedAdd(_):H=H.add(_))}}for(d=0;d<i;d++)a[d]=null;return o?H:H.toP()};function Se(r,t){this.curve=r,this.type=t,this.precomputed=null}Fr.BasePoint=Se;Se.prototype.eq=function(){throw new Error("Not implemented")};Se.prototype.validate=function(){return this.curve.validate(this)};Fr.prototype.decodePoint=function(t,e){t=Me.toArray(t,e);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?Mi(t[t.length-1]%2===0):t[0]===7&&Mi(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};Se.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Se.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))};Se.prototype.encode=function(t,e){return Me.encode(this._encode(e),t)};Se.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this};Se.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return e?e.points.length>=Math.ceil((t.bitLength()+1)/e.step):!1};Se.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<e;o+=t){for(var s=0;s<t;s++)i=i.dbl();n.push(i)}return{step:t,points:n}};Se.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)e[o]=e[o-1].add(i);return{wnd:t,points:e}};Se.prototype._getBeta=function(){return null};Se.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e};var as=kn(function(r){typeof Object.create=="function"?r.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(e,n){if(n){e.super_=n;var i=function(){};i.prototype=n.prototype,e.prototype=new i,e.prototype.constructor=e}}}),g0=Me.assert;function De(r){fn.call(this,"short",r),this.a=new it(r.a,16).toRed(this.red),this.b=new it(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}as(De,fn);var m0=De;De.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var e,n;if(t.beta)e=new it(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=i[0].cmp(i[1])<0?i[0]:i[1],e=e.toRed(this.red)}if(t.lambda)n=new it(t.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))===0?n=o[0]:(n=o[1],g0(this.g.mul(n).x.cmp(this.g.x.redMul(e))===0))}var s;return t.basis?s=t.basis.map(function(a){return{a:new it(a.a,16),b:new it(a.b,16)}}):s=this._getEndoBasis(n),{beta:e,lambda:n,basis:s}}};De.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:it.mont(t),n=new it(2).toRed(e).redInvm(),i=n.redNeg(),o=new it(3).toRed(e).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),a=i.redSub(o).fromRed();return[s,a]};De.prototype._getEndoBasis=function(t){for(var e=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),o=new it(1),s=new it(0),a=new it(0),u=new it(1),c,d,g,_,k,T,C,F=0,D,R;n.cmpn(0)!==0;){var G=i.div(n);D=i.sub(G.mul(n)),R=a.sub(G.mul(o));var W=u.sub(G.mul(s));if(!g&&D.cmp(e)<0)c=C.neg(),d=o,g=D.neg(),_=R;else if(g&&++F===2)break;C=D,i=n,n=D,a=o,o=R,u=s,s=W}k=D.neg(),T=R;var H=g.sqr().add(_.sqr()),K=k.sqr().add(T.sqr());return K.cmp(H)>=0&&(k=c,T=d),g.negative&&(g=g.neg(),_=_.neg()),k.negative&&(k=k.neg(),T=T.neg()),[{a:g,b:_},{a:k,b:T}]};De.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],i=e[1],o=i.b.mul(t).divRound(this.n),s=n.b.neg().mul(t).divRound(this.n),a=o.mul(n.a),u=s.mul(i.a),c=o.mul(n.b),d=s.mul(i.b),g=t.sub(a).sub(u),_=c.add(d).neg();return{k1:g,k2:_}};De.prototype.pointFromX=function(t,e){t=new it(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(e&&!o||!e&&o)&&(i=i.redNeg()),this.point(t,i)};De.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,i=this.a.redMul(e),o=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};De.prototype._endoWnafMulAdd=function(t,e,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<t.length;s++){var a=this._endoSplit(e[s]),u=t[s],c=u._getBeta();a.k1.negative&&(a.k1.ineg(),u=u.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[s*2]=u,i[s*2+1]=c,o[s*2]=a.k1,o[s*2+1]=a.k2}for(var d=this._wnafMulAdd(1,i,o,s*2,n),g=0;g<s*2;g++)i[g]=null,o[g]=null;return d};function ae(r,t,e,n){fn.BasePoint.call(this,r,"affine"),t===null&&e===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new it(t,16),this.y=new it(e,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}as(ae,fn.BasePoint);De.prototype.point=function(t,e,n){return new ae(this,t,e,n)};De.prototype.pointFromJSON=function(t,e){return ae.fromJSON(this,t,e)};ae.prototype._getBeta=function(){if(!!this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}};ae.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ae.fromJSON=function(t,e,n){typeof e=="string"&&(e=JSON.parse(e));var i=t.point(e[0],e[1],n);if(!e[2])return i;function o(a){return t.point(a[0],a[1],n)}var s=e[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};ae.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ae.prototype.isInfinity=function(){return this.inf};ae.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var e=this.y.redSub(t.y);e.cmpn(0)!==0&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ae.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};ae.prototype.getX=function(){return this.x.fromRed()};ae.prototype.getY=function(){return this.y.fromRed()};ae.prototype.mul=function(t){return t=new it(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};ae.prototype.mulAdd=function(t,e,n){var i=[this,e],o=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};ae.prototype.jmulAdd=function(t,e,n){var i=[this,e],o=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};ae.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};ae.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return e};ae.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function ue(r,t,e,n){fn.BasePoint.call(this,r,"jacobian"),t===null&&e===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new it(0)):(this.x=new it(t,16),this.y=new it(e,16),this.z=new it(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}as(ue,fn.BasePoint);De.prototype.jpoint=function(t,e,n){return new ue(this,t,e,n)};ue.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(n,i)};ue.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ue.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(e),o=t.x.redMul(n),s=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(n.redMul(this.z)),u=i.redSub(o),c=s.redSub(a);if(u.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=u.redSqr(),g=d.redMul(u),_=i.redMul(d),k=c.redSqr().redIAdd(g).redISub(_).redISub(_),T=c.redMul(_.redISub(k)).redISub(s.redMul(g)),C=this.z.redMul(t.z).redMul(u);return this.curve.jpoint(k,T,C)};ue.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,i=t.x.redMul(e),o=this.y,s=t.y.redMul(e).redMul(this.z),a=n.redSub(i),u=o.redSub(s);if(a.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),d=c.redMul(a),g=n.redMul(c),_=u.redSqr().redIAdd(d).redISub(g).redISub(g),k=u.redMul(g.redISub(_)).redISub(o.redMul(d)),T=this.z.redMul(a);return this.curve.jpoint(_,k,T)};ue.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var n=this;for(e=0;e<t;e++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,a=this.y,u=this.z,c=u.redSqr().redSqr(),d=a.redAdd(a);for(e=0;e<t;e++){var g=s.redSqr(),_=d.redSqr(),k=_.redSqr(),T=g.redAdd(g).redIAdd(g).redIAdd(i.redMul(c)),C=s.redMul(_),F=T.redSqr().redISub(C.redAdd(C)),D=C.redISub(F),R=T.redMul(D);R=R.redIAdd(R).redISub(k);var G=d.redMul(u);e+1<t&&(c=c.redMul(k)),s=F,u=G,d=R}return this.curve.jpoint(s,d.redMul(o),u)};ue.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ue.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i),c=u.redSqr().redISub(a).redISub(a),d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),t=c,e=u.redMul(a.redISub(c)).redISub(d),n=this.y.redAdd(this.y)}else{var g=this.x.redSqr(),_=this.y.redSqr(),k=_.redSqr(),T=this.x.redAdd(_).redSqr().redISub(g).redISub(k);T=T.redIAdd(T);var C=g.redAdd(g).redIAdd(g),F=C.redSqr(),D=k.redIAdd(k);D=D.redIAdd(D),D=D.redIAdd(D),t=F.redISub(T).redISub(T),e=C.redMul(T.redISub(t)).redISub(D),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,e,n)};ue.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=u.redSqr().redISub(a).redISub(a);t=c;var d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),e=u.redMul(a.redISub(c)).redISub(d),n=this.y.redAdd(this.y)}else{var g=this.z.redSqr(),_=this.y.redSqr(),k=this.x.redMul(_),T=this.x.redSub(g).redMul(this.x.redAdd(g));T=T.redAdd(T).redIAdd(T);var C=k.redIAdd(k);C=C.redIAdd(C);var F=C.redAdd(C);t=T.redSqr().redISub(F),n=this.y.redAdd(this.z).redSqr().redISub(_).redISub(g);var D=_.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D),e=T.redMul(C.redISub(t)).redISub(D)}return this.curve.jpoint(t,e,n)};ue.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=e.redSqr(),a=n.redSqr(),u=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(o)),c=e.redAdd(e);c=c.redIAdd(c);var d=c.redMul(a),g=u.redSqr().redISub(d.redAdd(d)),_=d.redISub(g),k=a.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var T=u.redMul(_).redISub(k),C=n.redAdd(n).redMul(i);return this.curve.jpoint(g,T,C)};ue.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),i=e.redSqr(),o=t.redAdd(t).redIAdd(t),s=o.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var u=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var d=o.redIAdd(a).redSqr().redISub(s).redISub(u).redISub(c),g=e.redMul(d);g=g.redIAdd(g),g=g.redIAdd(g);var _=this.x.redMul(u).redISub(g);_=_.redIAdd(_),_=_.redIAdd(_);var k=this.y.redMul(d.redMul(c.redISub(d)).redISub(a.redMul(u)));k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var T=this.z.redAdd(a).redSqr().redISub(n).redISub(u);return this.curve.jpoint(_,k,T)};ue.prototype.mul=function(t,e){return t=new it(t,e),this.curve._wnafMul(this,t)};ue.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0)!==0)return!1;var i=e.redMul(this.z),o=n.redMul(t.z);return this.y.redMul(o).redISub(t.y.redMul(i)).cmpn(0)===0};ue.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),o=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};ue.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ue.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var ci=kn(function(r,t){var e=t;e.base=fn,e.short=m0,e.mont=null,e.edwards=null}),hi=kn(function(r,t){var e=t,n=Me.assert;function i(a){a.type==="short"?this.curve=new ci.short(a):a.type==="edwards"?this.curve=new ci.edwards(a):this.curve=new ci.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=i;function o(a,u){Object.defineProperty(e,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(u);return Object.defineProperty(e,a,{configurable:!0,enumerable:!0,value:c}),c}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ye.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ye.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ye.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ye.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ye.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ye.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Dr(r){if(!(this instanceof Dr))return new Dr(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=He.toArray(r.entropy,r.entropyEnc||"hex"),e=He.toArray(r.nonce,r.nonceEnc||"hex"),n=He.toArray(r.pers,r.persEnc||"hex");ss(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,e,n)}var eu=Dr;Dr.prototype._init=function(t,e,n){var i=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Dr.prototype._hmac=function(){return new Ye.hmac(this.hash,this.K)};Dr.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};Dr.prototype.reseed=function(t,e,n,i){typeof e!="string"&&(i=n,n=e,e=null),t=He.toArray(t,e),n=He.toArray(n,i),ss(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};Dr.prototype.generate=function(t,e,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof e!="string"&&(i=n,n=e,e=null),n&&(n=He.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(n),this._reseed++,He.encode(s,e)};var Fo=Me.assert;function de(r,t){this.ec=r,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var fs=de;de.fromPublic=function(t,e,n){return e instanceof de?e:new de(t,{pub:e,pubEnc:n})};de.fromPrivate=function(t,e,n){return e instanceof de?e:new de(t,{priv:e,privEnc:n})};de.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};de.prototype.getPublic=function(t,e){return typeof t=="string"&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub};de.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};de.prototype._importPrivate=function(t,e){this.priv=new it(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)};de.prototype._importPublic=function(t,e){if(t.x||t.y){this.ec.curve.type==="mont"?Fo(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Fo(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,e)};de.prototype.derive=function(t){return t.validate()||Fo(t.validate(),"public point not validated"),t.mul(this.priv).getX()};de.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)};de.prototype.verify=function(t,e){return this.ec.verify(t,e,this)};de.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var p0=Me.assert;function qi(r,t){if(r instanceof qi)return r;this._importDER(r,t)||(p0(r.r&&r.s,"Signature without r or s"),this.r=new it(r.r,16),this.s=new it(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var Gi=qi;function v0(){this.place=0}function wo(r,t){var e=r[t.place++];if(!(e&128))return e;var n=e&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=r[s],i>>>=0;return i<=127?!1:(t.place=s,i)}function ua(r){for(var t=0,e=r.length-1;!r[t]&&!(r[t+1]&128)&&t<e;)t++;return t===0?r:r.slice(t)}qi.prototype._importDER=function(t,e){t=Me.toArray(t,e);var n=new v0;if(t[n.place++]!==48)return!1;var i=wo(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var o=wo(t,n);if(o===!1)return!1;var s=t.slice(n.place,o+n.place);if(n.place+=o,t[n.place++]!==2)return!1;var a=wo(t,n);if(a===!1||t.length!==a+n.place)return!1;var u=t.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new it(s),this.s=new it(u),this.recoveryParam=null,!0};function yo(r,t){if(t<128){r.push(t);return}var e=1+(Math.log(t)/Math.LN2>>>3);for(r.push(e|128);--e;)r.push(t>>>(e<<3)&255);r.push(t)}qi.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(e[0]&128&&(e=[0].concat(e)),n[0]&128&&(n=[0].concat(n)),e=ua(e),n=ua(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];yo(i,e.length),i=i.concat(e),i.push(2),yo(i,n.length);var o=i.concat(n),s=[48];return yo(s,o.length),s=s.concat(o),Me.encode(s,t)};var w0=function(){throw new Error("unsupported")},ru=Me.assert;function Ie(r){if(!(this instanceof Ie))return new Ie(r);typeof r=="string"&&(ru(Object.prototype.hasOwnProperty.call(hi,r),"Unknown curve "+r),r=hi[r]),r instanceof hi.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var y0=Ie;Ie.prototype.keyPair=function(t){return new fs(this,t)};Ie.prototype.keyFromPrivate=function(t,e){return fs.fromPrivate(this,t,e)};Ie.prototype.keyFromPublic=function(t,e){return fs.fromPublic(this,t,e)};Ie.prototype.genKeyPair=function(t){t||(t={});for(var e=new eu({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||w0(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new it(2));;){var o=new it(e.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};Ie.prototype._truncateToN=function(t,e){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t};Ie.prototype.sign=function(t,e,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),e=this.keyFromPrivate(e,n),t=this._truncateToN(new it(t,16));for(var o=this.n.byteLength(),s=e.getPrivate().toArray("be",o),a=t.toArray("be",o),u=new eu({hash:this.hash,entropy:s,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new it(1)),d=0;;d++){var g=i.k?i.k(d):new it(u.generate(this.n.byteLength()));if(g=this._truncateToN(g,!0),!(g.cmpn(1)<=0||g.cmp(c)>=0)){var _=this.g.mul(g);if(!_.isInfinity()){var k=_.getX(),T=k.umod(this.n);if(T.cmpn(0)!==0){var C=g.invm(this.n).mul(T.mul(e.getPrivate()).iadd(t));if(C=C.umod(this.n),C.cmpn(0)!==0){var F=(_.getY().isOdd()?1:0)|(k.cmp(T)!==0?2:0);return i.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),F^=1),new Gi({r:T,s:C,recoveryParam:F})}}}}}};Ie.prototype.verify=function(t,e,n,i){t=this._truncateToN(new it(t,16)),n=this.keyFromPublic(n,i),e=new Gi(e,"hex");var o=e.r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),u=a.mul(t).umod(this.n),c=a.mul(o).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(u,n.getPublic(),c),d.isInfinity()?!1:d.eqXToP(o)):(d=this.g.mulAdd(u,n.getPublic(),c),d.isInfinity()?!1:d.getX().umod(this.n).cmp(o)===0)};Ie.prototype.recoverPubKey=function(r,t,e,n){ru((3&e)===e,"The recovery param is more than two bits"),t=new Gi(t,n);var i=this.n,o=new it(r),s=t.r,a=t.s,u=e&1,c=e>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?s=this.curve.pointFromX(s.add(this.curve.n),u):s=this.curve.pointFromX(s,u);var d=t.r.invm(i),g=i.sub(o).mul(d).umod(i),_=a.mul(d).umod(i);return this.g.mulAdd(g,s,_)};Ie.prototype.getKeyRecoveryParam=function(r,t,e,n){if(t=new Gi(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(r,t,i)}catch{continue}if(o.eq(e))return i}throw new Error("Unable to find valid recovery factor")};var b0=kn(function(r,t){var e=t;e.version="6.5.4",e.utils=Me,e.rand=function(){throw new Error("unsupported")},e.curve=ci,e.curves=hi,e.ec=y0,e.eddsa=null}),A0=b0.ec;const _0="signing-key/5.7.0",Bo=new L(_0);let bo=null;function $e(){return bo||(bo=new A0("secp256k1")),bo}class x0{constructor(t){ut(this,"curve","secp256k1"),ut(this,"privateKey",at(t)),mr(this.privateKey)!==32&&Bo.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=$e().keyFromPrivate(nt(this.privateKey));ut(this,"publicKey","0x"+e.getPublic(!1,"hex")),ut(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),ut(this,"_isSigningKey",!0)}_addPoint(t){const e=$e().keyFromPublic(nt(this.publicKey)),n=$e().keyFromPublic(nt(t));return"0x"+e.pub.add(n.pub).encodeCompressed("hex")}signDigest(t){const e=$e().keyFromPrivate(nt(this.privateKey)),n=nt(t);n.length!==32&&Bo.throwArgumentError("bad digest length","digest",t);const i=e.sign(n,{canonical:!0});return Ti({recoveryParam:i.recoveryParam,r:ee("0x"+i.r.toString(16),32),s:ee("0x"+i.s.toString(16),32)})}computeSharedSecret(t){const e=$e().keyFromPrivate(nt(this.privateKey)),n=$e().keyFromPublic(nt(nu(t)));return ee("0x"+e.derive(n.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function E0(r,t){const e=Ti(t),n={r:nt(e.r),s:nt(e.s)};return"0x"+$e().recoverPubKey(nt(r),n,e.recoveryParam).encode("hex",!1)}function nu(r,t){const e=nt(r);if(e.length===32){const n=new x0(e);return t?"0x"+$e().keyFromPrivate(e).getPublic(!0,"hex"):n.publicKey}else{if(e.length===33)return t?at(e):"0x"+$e().keyFromPublic(e).getPublic(!1,"hex");if(e.length===65)return t?"0x"+$e().keyFromPublic(e).getPublic(!0,"hex"):at(e)}return Bo.throwArgumentError("invalid public or private key","key","[REDACTED]")}const N0="transactions/5.7.0",br=new L(N0);var la;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(la||(la={}));function us(r){return r==="0x"?null:ge(r)}function ce(r){return r==="0x"?$c:J.from(r)}function M0(r){const t=nu(r);return ge(le(ie(le(t,1)),12))}function iu(r,t){return M0(E0(nt(r),t))}function _e(r,t){const e=vn(J.from(r).toHexString());return e.length>32&&br.throwArgumentError("invalid length for "+t,"transaction:"+t,r),e}function Ao(r,t){return{address:ge(r),storageKeys:(t||[]).map((e,n)=>(mr(e)!==32&&br.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,e),e.toLowerCase()))}}function Xn(r){if(Array.isArray(r))return r.map((e,n)=>Array.isArray(e)?(e.length>2&&br.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,e),Ao(e[0],e[1])):Ao(e.address,e.storageKeys));const t=Object.keys(r).map(e=>{const n=r[e].reduce((i,o)=>(i[o]=!0,i),{});return Ao(e,Object.keys(n).sort())});return t.sort((e,n)=>e.address.localeCompare(n.address)),t}function ou(r){return Xn(r).map(t=>[t.address,t.storageKeys])}function k0(r,t){if(r.gasPrice!=null){const n=J.from(r.gasPrice),i=J.from(r.maxFeePerGas||0);n.eq(i)||br.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const e=[_e(r.chainId||0,"chainId"),_e(r.nonce||0,"nonce"),_e(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),_e(r.maxFeePerGas||0,"maxFeePerGas"),_e(r.gasLimit||0,"gasLimit"),r.to!=null?ge(r.to):"0x",_e(r.value||0,"value"),r.data||"0x",ou(r.accessList||[])];if(t){const n=Ti(t);e.push(_e(n.recoveryParam,"recoveryParam")),e.push(vn(n.r)),e.push(vn(n.s))}return Ee(["0x02",Oi(e)])}function C0(r,t){const e=[_e(r.chainId||0,"chainId"),_e(r.nonce||0,"nonce"),_e(r.gasPrice||0,"gasPrice"),_e(r.gasLimit||0,"gasLimit"),r.to!=null?ge(r.to):"0x",_e(r.value||0,"value"),r.data||"0x",ou(r.accessList||[])];if(t){const n=Ti(t);e.push(_e(n.recoveryParam,"recoveryParam")),e.push(vn(n.r)),e.push(vn(n.s))}return Ee(["0x01",Oi(e)])}function su(r,t,e){try{const n=ce(t[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{br.throwArgumentError("invalid v for transaction type: 1","v",t[0])}r.r=ee(t[1],32),r.s=ee(t[2],32);try{const n=ie(e(r));r.from=iu(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function P0(r){const t=Yo(r.slice(1));t.length!==9&&t.length!==12&&br.throwArgumentError("invalid component count for transaction type: 2","payload",at(r));const e=ce(t[2]),n=ce(t[3]),i={type:2,chainId:ce(t[0]).toNumber(),nonce:ce(t[1]).toNumber(),maxPriorityFeePerGas:e,maxFeePerGas:n,gasPrice:null,gasLimit:ce(t[4]),to:us(t[5]),value:ce(t[6]),data:t[7],accessList:Xn(t[8])};return t.length===9||(i.hash=ie(r),su(i,t.slice(9),k0)),i}function R0(r){const t=Yo(r.slice(1));t.length!==8&&t.length!==11&&br.throwArgumentError("invalid component count for transaction type: 1","payload",at(r));const e={type:1,chainId:ce(t[0]).toNumber(),nonce:ce(t[1]).toNumber(),gasPrice:ce(t[2]),gasLimit:ce(t[3]),to:us(t[4]),value:ce(t[5]),data:t[6],accessList:Xn(t[7])};return t.length===8||(e.hash=ie(r),su(e,t.slice(8),C0)),e}function T0(r){const t=Yo(r);t.length!==9&&t.length!==6&&br.throwArgumentError("invalid raw transaction","rawTransaction",r);const e={nonce:ce(t[0]).toNumber(),gasPrice:ce(t[1]),gasLimit:ce(t[2]),to:us(t[3]),value:ce(t[4]),data:t[5],chainId:0};if(t.length===6)return e;try{e.v=J.from(t[6]).toNumber()}catch{return e}if(e.r=ee(t[7],32),e.s=ee(t[8],32),J.from(e.r).isZero()&&J.from(e.s).isZero())e.chainId=e.v,e.v=0;else{e.chainId=Math.floor((e.v-35)/2),e.chainId<0&&(e.chainId=0);let n=e.v-27;const i=t.slice(0,6);e.chainId!==0&&(i.push(at(e.chainId)),i.push("0x"),i.push("0x"),n-=e.chainId*2+8);const o=ie(Oi(i));try{e.from=iu(o,{r:at(e.r),s:at(e.s),recoveryParam:n})}catch{}e.hash=ie(r)}return e.type=null,e}function O0(r){const t=nt(r);if(t[0]>127)return T0(t);switch(t[0]){case 1:return R0(t);case 2:return P0(t)}return br.throwError(`unsupported transaction type: ${t[0]}`,L.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}class au{constructor(t){ut(this,"alphabet",t),ut(this,"base",t.length),ut(this,"_alphabetMap",{}),ut(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=nt(t);if(e.length===0)return"";let n=[0];for(let o=0;o<e.length;++o){let s=e[o];for(let a=0;a<n.length;++a)s+=n[a]<<8,n[a]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let o=0;e[o]===0&&o<e.length-1;++o)i+=this._leader;for(let o=n.length-1;o>=0;--o)i+=this.alphabet[n[o]];return i}decode(t){if(typeof t!="string")throw new TypeError("Expected String");let e=[];if(t.length===0)return new Uint8Array(e);e.push(0);for(let n=0;n<t.length;n++){let i=this._alphabetMap[t[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<e.length;++s)o+=e[s]*this.base,e[s]=o&255,o>>=8;for(;o>0;)e.push(o&255),o>>=8}for(let n=0;t[n]===this._leader&&n<t.length-1;++n)e.push(0);return nt(new Uint8Array(e.reverse()))}}new au("abcdefghijklmnopqrstuvwxyz234567");const Lo=new au("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),I0="networks/5.7.0",ca=new L(I0);function S0(r){return r&&typeof r.renetwork=="function"}function Rr(r){const t=function(e,n){n==null&&(n={});const i=[];if(e.InfuraProvider&&n.infura!=="-")try{i.push(new e.InfuraProvider(r,n.infura))}catch{}if(e.EtherscanProvider&&n.etherscan!=="-")try{i.push(new e.EtherscanProvider(r,n.etherscan))}catch{}if(e.AlchemyProvider&&n.alchemy!=="-")try{i.push(new e.AlchemyProvider(r,n.alchemy))}catch{}if(e.PocketProvider&&n.pocket!=="-"){const o=["goerli","ropsten","rinkeby"];try{const s=new e.PocketProvider(r,n.pocket);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(e.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new e.CloudflareProvider(r))}catch{}if(e.AnkrProvider&&n.ankr!=="-")try{const o=["ropsten"],s=new e.AnkrProvider(r,n.ankr);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(i.length===0)return null;if(e.FallbackProvider){let o=1;return n.quorum!=null?o=n.quorum:r==="homestead"&&(o=2),new e.FallbackProvider(i,o)}return i[0]};return t.renetwork=function(e){return Rr(e)},t}function ki(r,t){const e=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(r,t):null};return e.renetwork=function(n){return ki(r,n)},e}const ha={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Rr("homestead")},da={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Rr("ropsten")},ga={chainId:63,name:"classicMordor",_defaultProvider:ki("https://www.ethercluster.com/mordor","classicMordor")},ii={unspecified:{chainId:0,name:"unspecified"},homestead:ha,mainnet:ha,morden:{chainId:2,name:"morden"},ropsten:da,testnet:da,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Rr("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Rr("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Rr("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:ki("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:ga,classicTestnet:ga,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:ki("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Rr("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Rr("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function D0(r){if(r==null)return null;if(typeof r=="number"){for(const n in ii){const i=ii[n];if(i.chainId===r)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const n=ii[r];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const t=ii[r.name];if(!t)return typeof r.chainId!="number"&&ca.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==t.chainId&&ca.throwArgumentError("network chainId mismatch","network",r);let e=r._defaultProvider||null;return e==null&&t._defaultProvider&&(S0(t._defaultProvider)?e=t._defaultProvider.renetwork(r):e=t._defaultProvider),{name:r.name,chainId:t.chainId,ensAddress:r.ensAddress||t.ensAddress||null,_defaultProvider:e}}const F0="web/5.7.0";var B0=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{c(n.next(d))}catch(g){s(g)}}function u(d){try{c(n.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,u)}c((n=n.apply(r,t||[])).next())})};function L0(r,t){return B0(this,void 0,void 0,function*(){t==null&&(t={});const e={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(t.skipFetchSetup!==!0&&(e.mode="cors",e.cache="no-cache",e.credentials="same-origin",e.redirect="follow",e.referrer="client"),t.fetchOptions!=null){const s=t.fetchOptions;s.mode&&(e.mode=s.mode),s.cache&&(e.cache=s.cache),s.credentials&&(e.credentials=s.credentials),s.redirect&&(e.redirect=s.redirect),s.referrer&&(e.referrer=s.referrer)}const n=yield fetch(r,e),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((s,a)=>{o[a.toLowerCase()]=s}):n.headers.keys().forEach(s=>{o[s.toLowerCase()]=n.headers.get(s)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:nt(new Uint8Array(i))}})}var U0=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{c(n.next(d))}catch(g){s(g)}}function u(d){try{c(n.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,u)}c((n=n.apply(r,t||[])).next())})};const qe=new L(F0);function ma(r){return new Promise(t=>{setTimeout(t,r)})}function Cr(r,t){if(r==null)return null;if(typeof r=="string")return r;if(Qo(r)){if(t&&(t.split("/")[0]==="text"||t.split(";")[0].trim()==="application/json"))try{return Bi(r)}catch{}return at(r)}return r}function q0(r,t,e){const n=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;qe.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof r=="object"?r.throttleCallback:null,o=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;qe.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s=typeof r=="object"?!!r.errorPassThrough:!1,a={};let u=null;const c={method:"GET"};let d=!1,g=2*60*1e3;if(typeof r=="string")u=r;else if(typeof r=="object"){if((r==null||r.url==null)&&qe.throwArgumentError("missing URL","connection.url",r),u=r.url,typeof r.timeout=="number"&&r.timeout>0&&(g=r.timeout),r.headers)for(const D in r.headers)a[D.toLowerCase()]={key:D,value:String(r.headers[D])},["if-none-match","if-modified-since"].indexOf(D.toLowerCase())>=0&&(d=!0);if(c.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){u.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&qe.throwError("basic authentication requires a secure https url",L.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:r.user,password:"[REDACTED]"});const D=r.user+":"+r.password;a.authorization={key:"Authorization",value:"Basic "+Hf(wr(D))}}r.skipFetchSetup!=null&&(c.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(c.fetchOptions=we(r.fetchOptions))}const _=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),k=u?u.match(_):null;if(k)try{const D={statusCode:200,statusMessage:"OK",headers:{"content-type":k[1]},body:zf(k[2])};let R=D.body;return e&&(R=e(D.body,D)),Promise.resolve(R)}catch(D){qe.throwError("processing response error",L.errors.SERVER_ERROR,{body:Cr(k[1],k[2]),error:D,requestBody:null,requestMethod:"GET",url:u})}t&&(c.method="POST",c.body=t,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(t.length)}));const T={};Object.keys(a).forEach(D=>{const R=a[D];T[R.key]=R.value}),c.headers=T;const C=function(){let D=null;return{promise:new Promise(function(W,H){g&&(D=setTimeout(()=>{D!=null&&(D=null,H(qe.makeError("timeout",L.errors.TIMEOUT,{requestBody:Cr(c.body,T["content-type"]),requestMethod:c.method,timeout:g,url:u})))},g))}),cancel:function(){D!=null&&(clearTimeout(D),D=null)}}}(),F=function(){return U0(this,void 0,void 0,function*(){for(let D=0;D<n;D++){let R=null;try{if(R=yield L0(u,c),D<n){if(R.statusCode===301||R.statusCode===302){const W=R.headers.location||"";if(c.method==="GET"&&W.match(/^https:/)){u=R.headers.location;continue}}else if(R.statusCode===429){let W=!0;if(i&&(W=yield i(D,u)),W){let H=0;const K=R.headers["retry-after"];typeof K=="string"&&K.match(/^[1-9][0-9]*$/)?H=parseInt(K)*1e3:H=o*parseInt(String(Math.random()*Math.pow(2,D))),yield ma(H);continue}}}}catch(W){R=W.response,R==null&&(C.cancel(),qe.throwError("missing response",L.errors.SERVER_ERROR,{requestBody:Cr(c.body,T["content-type"]),requestMethod:c.method,serverError:W,url:u}))}let G=R.body;if(d&&R.statusCode===304?G=null:!s&&(R.statusCode<200||R.statusCode>=300)&&(C.cancel(),qe.throwError("bad response",L.errors.SERVER_ERROR,{status:R.statusCode,headers:R.headers,body:Cr(G,R.headers?R.headers["content-type"]:null),requestBody:Cr(c.body,T["content-type"]),requestMethod:c.method,url:u})),e)try{const W=yield e(G,R);return C.cancel(),W}catch(W){if(W.throttleRetry&&D<n){let H=!0;if(i&&(H=yield i(D,u)),H){const K=o*parseInt(String(Math.random()*Math.pow(2,D)));yield ma(K);continue}}C.cancel(),qe.throwError("processing response error",L.errors.SERVER_ERROR,{body:Cr(G,R.headers?R.headers["content-type"]:null),error:W,requestBody:Cr(c.body,T["content-type"]),requestMethod:c.method,url:u})}return C.cancel(),G}return qe.throwError("failed response",L.errors.SERVER_ERROR,{requestBody:Cr(c.body,T["content-type"]),requestMethod:c.method,url:u})})}();return Promise.race([C.promise,F])}function ls(r,t,e){let n=(o,s)=>{let a=null;if(o!=null)try{a=JSON.parse(Bi(o))}catch(u){qe.throwError("invalid JSON",L.errors.SERVER_ERROR,{body:o,error:u})}return e&&(a=e(a,s)),a},i=null;if(t!=null){i=wr(t);const o=typeof r=="string"?{url:r}:we(r);o.headers?Object.keys(o.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(o.headers=we(o.headers),o.headers["content-type"]="application/json"):o.headers={"content-type":"application/json"},r=o}return q0(r,i,n)}function Fn(r,t){return t||(t={}),t=we(t),t.floor==null&&(t.floor=0),t.ceiling==null&&(t.ceiling=1e4),t.interval==null&&(t.interval=250),new Promise(function(e,n){let i=null,o=!1;const s=()=>o?!1:(o=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{s()&&n(new Error("timeout"))},t.timeout));const a=t.retryLimit;let u=0;function c(){return r().then(function(d){if(d!==void 0)s()&&e(d);else if(t.oncePoll)t.oncePoll.once("poll",c);else if(t.onceBlock)t.onceBlock.once("block",c);else if(!o){if(u++,u>a){s()&&n(new Error("retry limit reached"));return}let g=t.interval*parseInt(String(Math.random()*Math.pow(2,u)));g<t.floor&&(g=t.floor),g>t.ceiling&&(g=t.ceiling),setTimeout(c,g)}return null},function(d){s()&&n(d)})}c()})}var Ci="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Uo={};for(var oi=0;oi<Ci.length;oi++){var _o=Ci.charAt(oi);if(Uo[_o]!==void 0)throw new TypeError(_o+" is ambiguous");Uo[_o]=oi}function pn(r){var t=r>>25;return(r&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function fu(r){for(var t=1,e=0;e<r.length;++e){var n=r.charCodeAt(e);if(n<33||n>126)return"Invalid prefix ("+r+")";t=pn(t)^n>>5}for(t=pn(t),e=0;e<r.length;++e){var i=r.charCodeAt(e);t=pn(t)^i&31}return t}function G0(r,t,e){if(e=e||90,r.length+7+t.length>e)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var n=fu(r);if(typeof n=="string")throw new Error(n);for(var i=r+"1",o=0;o<t.length;++o){var s=t[o];if(s>>5!==0)throw new Error("Non 5-bit word");n=pn(n)^s,i+=Ci.charAt(s)}for(o=0;o<6;++o)n=pn(n);for(n^=1,o=0;o<6;++o){var a=n>>(5-o)*5&31;i+=Ci.charAt(a)}return i}function uu(r,t){if(t=t||90,r.length<8)return r+" too short";if(r.length>t)return"Exceeds length limit";var e=r.toLowerCase(),n=r.toUpperCase();if(r!==e&&r!==n)return"Mixed-case string "+r;r=e;var i=r.lastIndexOf("1");if(i===-1)return"No separator character for "+r;if(i===0)return"Missing prefix for "+r;var o=r.slice(0,i),s=r.slice(i+1);if(s.length<6)return"Data too short";var a=fu(o);if(typeof a=="string")return a;for(var u=[],c=0;c<s.length;++c){var d=s.charAt(c),g=Uo[d];if(g===void 0)return"Unknown character "+d;a=pn(a)^g,!(c+6>=s.length)&&u.push(g)}return a!==1?"Invalid checksum for "+r:{prefix:o,words:u}}function z0(){var r=uu.apply(null,arguments);if(typeof r=="object")return r}function H0(r){var t=uu.apply(null,arguments);if(typeof t=="object")return t;throw new Error(t)}function zi(r,t,e,n){for(var i=0,o=0,s=(1<<e)-1,a=[],u=0;u<r.length;++u)for(i=i<<t|r[u],o+=t;o>=e;)o-=e,a.push(i>>o&s);if(n)o>0&&a.push(i<<e-o&s);else{if(o>=t)return"Excess padding";if(i<<e-o&s)return"Non-zero padding"}return a}function K0(r){var t=zi(r,8,5,!0);if(Array.isArray(t))return t}function W0(r){var t=zi(r,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)}function Q0(r){var t=zi(r,5,8,!1);if(Array.isArray(t))return t}function j0(r){var t=zi(r,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}var pa={decodeUnsafe:z0,decode:H0,encode:G0,toWordsUnsafe:K0,toWords:W0,fromWordsUnsafe:Q0,fromWords:j0};const Vn="providers/5.7.0",On=new L(Vn);class Z{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),u=this.number.bind(this),c=this.type.bind(this),d=g=>this.data(g,!0);return t.transaction={hash:s,type:c,accessList:Z.allowNull(this.accessList.bind(this),null),blockHash:Z.allowNull(s,null),blockNumber:Z.allowNull(u,null),transactionIndex:Z.allowNull(u,null),confirmations:Z.allowNull(u,null),from:e,gasPrice:Z.allowNull(n),maxPriorityFeePerGas:Z.allowNull(n),maxFeePerGas:Z.allowNull(n),gasLimit:n,to:Z.allowNull(e,null),value:n,nonce:u,data:o,r:Z.allowNull(this.uint256),s:Z.allowNull(this.uint256),v:Z.allowNull(u),creates:Z.allowNull(e,null),raw:Z.allowNull(o)},t.transactionRequest={from:Z.allowNull(e),nonce:Z.allowNull(u),gasLimit:Z.allowNull(n),gasPrice:Z.allowNull(n),maxPriorityFeePerGas:Z.allowNull(n),maxFeePerGas:Z.allowNull(n),to:Z.allowNull(e),value:Z.allowNull(n),data:Z.allowNull(d),type:Z.allowNull(u),accessList:Z.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:u,blockNumber:u,transactionHash:s,address:e,topics:Z.arrayOf(s),data:o,logIndex:u,blockHash:s},t.receipt={to:Z.allowNull(this.address,null),from:Z.allowNull(this.address,null),contractAddress:Z.allowNull(e,null),transactionIndex:u,root:Z.allowNull(a),gasUsed:n,logsBloom:Z.allowNull(o),blockHash:s,transactionHash:s,logs:Z.arrayOf(this.receiptLog.bind(this)),blockNumber:u,confirmations:Z.allowNull(u,null),cumulativeGasUsed:n,effectiveGasPrice:Z.allowNull(n),status:Z.allowNull(u),type:c},t.block={hash:Z.allowNull(s),parentHash:s,number:u,timestamp:u,nonce:Z.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Z.allowNull(e),extraData:o,transactions:Z.allowNull(Z.arrayOf(s)),baseFeePerGas:Z.allowNull(n)},t.blockWithTransactions=we(t.block),t.blockWithTransactions.transactions=Z.allowNull(Z.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:Z.allowNull(i,void 0),toBlock:Z.allowNull(i,void 0),blockHash:Z.allowNull(s,void 0),address:Z.allowNull(e,void 0),topics:Z.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:Z.allowNull(u),blockHash:Z.allowNull(s),transactionIndex:u,removed:Z.allowNull(this.boolean.bind(this)),address:e,data:Z.allowFalsish(o,"0x"),topics:Z.arrayOf(s),transactionHash:s,logIndex:u},t}accessList(t){return Xn(t||[])}number(t){return t==="0x"?0:J.from(t).toNumber()}type(t){return t==="0x"||t==null?0:J.from(t).toNumber()}bigNumber(t){return J.from(t)}boolean(t){if(typeof t=="boolean")return t;if(typeof t=="string"){if(t=t.toLowerCase(),t==="true")return!0;if(t==="false")return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return typeof t=="string"&&(!e&&t.substring(0,2)!=="0x"&&(t="0x"+t),gt(t))?t.toLowerCase():On.throwArgumentError("invalid hash","value",t)}data(t,e){const n=this.hex(t,e);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+t);return n}address(t){return ge(t)}callAddress(t){if(!gt(t,32))return null;const e=ge(le(t,12));return e===Vc?null:e}contractAddress(t){return Gu(t)}blockTag(t){if(t==null)return"latest";if(t==="earliest")return"0x0";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}if(typeof t=="number"||gt(t))return jo(t);throw new Error("invalid blockTag")}hash(t,e){const n=this.hex(t,e);return mr(n)!==32?On.throwArgumentError("invalid hash","value",t):n}difficulty(t){if(t==null)return null;const e=J.from(t);try{return e.toNumber()}catch{}return null}uint256(t){if(!gt(t))throw new Error("invalid uint256");return ee(t,32)}_block(t,e){t.author!=null&&t.miner==null&&(t.miner=t.author);const n=t._difficulty!=null?t._difficulty:t.difficulty,i=Z.check(e,t);return i._difficulty=n==null?null:J.from(n),i}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return Z.check(this.formats.transactionRequest,t)}transactionResponse(t){t.gas!=null&&t.gasLimit==null&&(t.gasLimit=t.gas),t.to&&J.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),t.input!=null&&t.data==null&&(t.data=t.input),t.to==null&&t.creates==null&&(t.creates=this.contractAddress(t)),(t.type===1||t.type===2)&&t.accessList==null&&(t.accessList=[]);const e=Z.check(this.formats.transaction,t);if(t.chainId!=null){let n=t.chainId;gt(n)&&(n=J.from(n).toNumber()),e.chainId=n}else{let n=t.networkId;n==null&&e.v==null&&(n=t.chainId),gt(n)&&(n=J.from(n).toNumber()),typeof n!="number"&&e.v!=null&&(n=(e.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),e.chainId=n}return e.blockHash&&e.blockHash.replace(/0/g,"")==="x"&&(e.blockHash=null),e}transaction(t){return O0(t)}receiptLog(t){return Z.check(this.formats.receiptLog,t)}receipt(t){const e=Z.check(this.formats.receipt,t);if(e.root!=null)if(e.root.length<=4){const n=J.from(e.root).toNumber();n===0||n===1?(e.status!=null&&e.status!==n&&On.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=n,delete e.root):On.throwArgumentError("invalid alt-root-status","value.root",e.root)}else e.root.length!==66&&On.throwArgumentError("invalid root hash","value.root",e.root);return e.status!=null&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map(e=>this.topics(e)):t!=null?this.hash(t,!0):null}filter(t){return Z.check(this.formats.filter,t)}filterLog(t){return Z.check(this.formats.filterLog,t)}static check(t,e){const n={};for(const i in t)try{const o=t[i](e[i]);o!==void 0&&(n[i]=o)}catch(o){throw o.checkKey=i,o.checkValue=e[i],o}return n}static allowNull(t,e){return function(n){return n==null?e:t(n)}}static allowFalsish(t,e){return function(n){return n?t(n):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const n=[];return e.forEach(function(i){n.push(t(i))}),n}}}var ot=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{c(n.next(d))}catch(g){s(g)}}function u(d){try{c(n.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,u)}c((n=n.apply(r,t||[])).next())})};const ft=new L(Vn),Y0=10;function va(r){return r==null?"null":(mr(r)!==32&&ft.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function wa(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(t=>{if(Array.isArray(t)){const e={};t.forEach(i=>{e[va(i)]=!0});const n=Object.keys(e);return n.sort(),n.join("|")}else return va(t)}).join("&")}function X0(r){return r===""?[]:r.split(/&/g).map(t=>{if(t==="")return[];const e=t.split("|").map(n=>n==="null"?null:n);return e.length===1?e[0]:e})}function ln(r){if(typeof r=="string"){if(r=r.toLowerCase(),mr(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+wa(r);if(f0.isForkEvent(r))throw ft.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+wa(r.topics||[])}throw new Error("invalid event - "+r)}function In(){return new Date().getTime()}function ya(r){return new Promise(t=>{setTimeout(t,r)})}const V0=["block","network","pending","poll"];class $0{constructor(t,e,n){ut(this,"tag",t),ut(this,"listener",e),ut(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return t[0]!=="tx"?null:t[1]}get filter(){const t=this.tag.split(":");if(t[0]!=="filter")return null;const e=t[1],n=X0(t[2]),i={};return n.length>0&&(i.topics=n),e&&e!=="*"&&(i.address=e),i}pollable(){return this.tag.indexOf(":")>=0||V0.indexOf(this.tag)>=0}}const Z0={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function xo(r){return ee(J.from(r).toHexString(),32)}function ba(r){return Lo.encode(Ze([r,le(Ws(Ws(r)),0,4)]))}const lu=new RegExp("^(ipfs)://(.*)$","i"),Aa=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),lu,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function di(r,t){try{return Bi(Kn(r,t))}catch{}return null}function Kn(r,t){if(r==="0x")return null;const e=J.from(le(r,t,t+32)).toNumber(),n=J.from(le(r,e,e+32)).toNumber();return le(r,e+32,e+32+n)}function Eo(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):ft.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function _a(r){const t=nt(r);if(t.length>32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function J0(r){if(r.length%32===0)return r;const t=new Uint8Array(Math.ceil(r.length/32)*32);return t.set(r),t}function cu(r){const t=[];let e=0;for(let n=0;n<r.length;n++)t.push(null),e+=32;for(let n=0;n<r.length;n++){const i=nt(r[n]);t[n]=_a(e),t.push(_a(i.length)),t.push(J0(i)),e+=32+Math.ceil(i.length/32)*32}return Ee(t)}class xa{constructor(t,e,n,i){ut(this,"provider",t),ut(this,"name",n),ut(this,"address",t.formatter.address(e)),ut(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(t=>J.from(t).eq(1)).catch(t=>{if(t.code===L.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,t})),this._supportsEip2544}_fetch(t,e){return ot(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Ee([t,li(this.name),e||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Ee(["0x9061b923",cu([$h(this.name),n.data])]));try{let o=yield this.provider.call(n);return nt(o).length%32===4&&ft.throwError("resolver threw error",L.errors.CALL_EXCEPTION,{transaction:n,data:o}),i&&(o=Kn(o,0)),o}catch(o){if(o.code===L.errors.CALL_EXCEPTION)return null;throw o}})}_fetchBytes(t,e){return ot(this,void 0,void 0,function*(){const n=yield this._fetch(t,e);return n!=null?Kn(n,0):null})}_getAddress(t,e){const n=Z0[String(t)];if(n==null&&ft.throwError(`unsupported coin type: ${t}`,L.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),n.ilk==="eth")return this.provider.formatter.address(e);const i=nt(e);if(n.p2pkh!=null){const o=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return ba(Ze([[n.p2pkh],"0x"+o[2]]))}}if(n.p2sh!=null){const o=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return ba(Ze([[n.p2sh],"0x"+o[2]]))}}if(n.prefix!=null){const o=i[1];let s=i[0];if(s===0?o!==20&&o!==32&&(s=-1):s=-1,s>=0&&i.length===2+o&&o>=1&&o<=75){const a=pa.toWords(i.slice(2));return a.unshift(s),pa.encode(n.prefix,a)}}return null}getAddress(t){return ot(this,void 0,void 0,function*(){if(t==null&&(t=60),t===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===Zc?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===L.errors.CALL_EXCEPTION)return null;throw i}const e=yield this._fetchBytes("0xf1cb7e06",xo(t));if(e==null||e==="0x")return null;const n=this._getAddress(t,e);return n==null&&ft.throwError("invalid or unsupported coin data",L.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:e}),n})}getAvatar(){return ot(this,void 0,void 0,function*(){const t=[{type:"name",content:this.name}];try{const e=yield this.getText("avatar");if(e==null)return null;for(let n=0;n<Aa.length;n++){const i=e.match(Aa[n]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":return t.push({type:"url",content:e}),{linkage:t,url:e};case"data":return t.push({type:"data",content:e}),{linkage:t,url:e};case"ipfs":return t.push({type:"ipfs",content:e}),{linkage:t,url:Eo(e)};case"erc721":case"erc1155":{const s=o==="erc721"?"0xc87b56dd":"0x0e89341c";t.push({type:o,content:e});const a=this._resolvedAddress||(yield this.getAddress()),u=(i[2]||"").split("/");if(u.length!==2)return null;const c=yield this.provider.formatter.address(u[0]),d=ee(J.from(u[1]).toHexString(),32);if(o==="erc721"){const C=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:Ee(["0x6352211e",d])}));if(a!==C)return null;t.push({type:"owner",content:C})}else if(o==="erc1155"){const C=J.from(yield this.provider.call({to:c,data:Ee(["0x00fdd58e",ee(a,32),d])}));if(C.isZero())return null;t.push({type:"balance",content:C.toString()})}const g={to:this.provider.formatter.address(u[0]),data:Ee([s,d])};let _=di(yield this.provider.call(g),0);if(_==null)return null;t.push({type:"metadata-url-base",content:_}),o==="erc1155"&&(_=_.replace("{id}",d.substring(2)),t.push({type:"metadata-url-expanded",content:_})),_.match(/^ipfs:/i)&&(_=Eo(_)),t.push({type:"metadata-url",content:_});const k=yield ls(_);if(!k)return null;t.push({type:"metadata",content:JSON.stringify(k)});let T=k.image;if(typeof T!="string")return null;if(!T.match(/^(https:\/\/|data:)/i)){if(T.match(lu)==null)return null;t.push({type:"url-ipfs",content:T}),T=Eo(T)}return t.push({type:"url",content:T}),{linkage:t,url:T}}}}}catch{}return null})}getContentHash(){return ot(this,void 0,void 0,function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(t==null||t==="0x")return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const s=parseInt(e[3],16);if(e[4].length===s*2)return"ipfs://"+Lo.encode("0x"+e[1])}const n=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipns://"+Lo.encode("0x"+n[1])}const i=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const o=t.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&o[1].length===34*2){const s={"=":"","+":"-","/":"_"},a=Hf("0x"+o[1]).replace(/[=+\/]/g,u=>s[u]);return"sia://"+a}return ft.throwError("invalid or unsupported content hash data",L.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})})}getText(t){return ot(this,void 0,void 0,function*(){let e=wr(t);e=Ze([xo(64),xo(e.length),e]),e.length%32!==0&&(e=Ze([e,ee("0x",32-t.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",at(e));return n==null||n==="0x"?null:Bi(n)})}}let No=null,td=1;class ed extends os{constructor(t){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ut(this,"anyNetwork",t==="any"),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch(e=>{}),this._ready().catch(e=>{});else{const e=Dn(new.target,"getNetwork")(t);e?(ut(this,"_network",e),this.emit("network",e,null)):ft.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return ot(this,void 0,void 0,function*(){if(this._network==null){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch{}t==null&&(t=yield this.detectNetwork()),t||ft.throwError("no network detected",L.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=t:ut(this,"_network",t),this.emit("network",t,null))}return this._network})}get ready(){return Fn(()=>this._ready().then(t=>t,t=>{if(!(t.code===L.errors.NETWORK_ERROR&&t.event==="noNetwork"))throw t}))}static getFormatter(){return No==null&&(No=new Z),No}static getNetwork(t){return D0(t??"homestead")}ccipReadFetch(t,e,n){return ot(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=t.to.toLowerCase(),o=e.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const u=n[a],c=u.replace("{sender}",i).replace("{data}",o),d=u.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:i}),g=yield ls({url:c,errorPassThrough:!0},d,(k,T)=>(k.status=T.statusCode,k));if(g.data)return g.data;const _=g.message||"unknown error";if(g.status>=400&&g.status<500)return ft.throwError(`response not found during CCIP fetch: ${_}`,L.errors.SERVER_ERROR,{url:u,errorMessage:_});s.push(_)}return ft.throwError(`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,L.errors.SERVER_ERROR,{urls:n,errorMessages:s})})}_getInternalBlockNumber(t){return ot(this,void 0,void 0,function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const o=yield i;if(In()-o.respTime<=t)return o.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const e=In(),n=fe({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:o})=>{if(o)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),o;const s=In();return i=J.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:e,respTime:s}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return ot(this,void 0,void 0,function*(){const t=td++,e=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",t,n),n===this._lastBlockNumber){this.emit("didPoll",t);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)ft.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",ft.makeError("network block skew detected",L.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const o=this._emitted[i];o!=="pending"&&n-o>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const o=i.hash;let s=this.getTransactionReceipt(o).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+o]=a.blockNumber,this.emit(o,a)),null)).catch(a=>{this.emit("error",a)});e.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const o=i.filter;o.fromBlock=i._lastBlockNumber+1,o.toBlock=n;const s=o.toBlock-this._maxFilterBlockRange;s>o.fromBlock&&(o.fromBlock=s),o.fromBlock<0&&(o.fromBlock=0);const a=this.getLogs(o).then(u=>{i._inflight=!1,u.length!==0&&u.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(o,c)})}).catch(u=>{this.emit("error",u),i._inflight=!1});e.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(e).then(()=>{this.emit("didPoll",t)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return ot(this,void 0,void 0,function*(){return ft.throwError("provider does not support network detection",L.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return ot(this,void 0,void 0,function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield ya(0),this._network;const n=ft.makeError("underlying network changed",L.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",n),n}return t})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(t=>{this._setFastBlockNumber(t)},t=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(t){t&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if(typeof t!="number"||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const t=In();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(t){this._fastBlockNumber!=null&&t<this._fastBlockNumber||(this._fastQueryDate=In(),(this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,n){return ot(this,void 0,void 0,function*(){return this._waitForTransaction(t,e??1,n||0,null)})}_waitForTransaction(t,e,n,i){return ot(this,void 0,void 0,function*(){const o=yield this.getTransactionReceipt(t);return(o?o.confirmations:0)>=e?o:new Promise((s,a)=>{const u=[];let c=!1;const d=function(){return c?!0:(c=!0,u.forEach(_=>{_()}),!1)},g=_=>{_.confirmations<e||d()||s(_)};if(this.on(t,g),u.push(()=>{this.removeListener(t,g)}),i){let _=i.startBlock,k=null;const T=C=>ot(this,void 0,void 0,function*(){c||(yield ya(1e3),this.getTransactionCount(i.from).then(F=>ot(this,void 0,void 0,function*(){if(!c){if(F<=i.nonce)_=C;else{{const D=yield this.getTransaction(t);if(D&&D.blockNumber!=null)return}for(k==null&&(k=_-3,k<i.startBlock&&(k=i.startBlock));k<=C;){if(c)return;const D=yield this.getBlockWithTransactions(k);for(let R=0;R<D.transactions.length;R++){const G=D.transactions[R];if(G.hash===t)return;if(G.from===i.from&&G.nonce===i.nonce){if(c)return;const W=yield this.waitForTransaction(G.hash,e);if(d())return;let H="replaced";G.data===i.data&&G.to===i.to&&G.value.eq(i.value)?H="repriced":G.data==="0x"&&G.from===G.to&&G.value.isZero()&&(H="cancelled"),a(ft.makeError("transaction was replaced",L.errors.TRANSACTION_REPLACED,{cancelled:H==="replaced"||H==="cancelled",reason:H,replacement:this._wrapTransaction(G),hash:t,receipt:W}));return}}k++}}c||this.once("block",T)}}),F=>{c||this.once("block",T)}))});if(c)return;this.once("block",T),u.push(()=>{this.removeListener("block",T)})}if(typeof n=="number"&&n>0){const _=setTimeout(()=>{d()||a(ft.makeError("timeout exceeded",L.errors.TIMEOUT,{timeout:n}))},n);_.unref&&_.unref(),u.push(()=>{clearTimeout(_)})}})})}getBlockNumber(){return ot(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return J.from(t)}catch(e){return ft.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}})}getBalance(t,e){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield fe({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("getBalance",n);try{return J.from(i)}catch(o){return ft.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:o})}})}getTransactionCount(t,e){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield fe({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("getTransactionCount",n);try{return J.from(i).toNumber()}catch(o){return ft.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:o})}})}getCode(t,e){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield fe({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("getCode",n);try{return at(i)}catch(o){return ft.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:o})}})}getStorageAt(t,e,n){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield fe({address:this._getAddress(t),blockTag:this._getBlockTag(n),position:Promise.resolve(e).then(s=>jo(s))}),o=yield this.perform("getStorageAt",i);try{return at(o)}catch(s){return ft.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:o,error:s})}})}_wrapTransaction(t,e,n){if(e!=null&&mr(e)!==32)throw new Error("invalid response - sendTransaction");const i=t;return e!=null&&t.hash!==e&&ft.throwError("Transaction hash mismatch from Provider.sendTransaction.",L.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),i.wait=(o,s)=>ot(this,void 0,void 0,function*(){o==null&&(o=1),s==null&&(s=0);let a;o!==0&&n!=null&&(a={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:n});const u=yield this._waitForTransaction(t.hash,o,s,a);return u==null&&o===0?null:(this._emitted["t:"+t.hash]=u.blockNumber,u.status===0&&ft.throwError("transaction failed",L.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:u}),u)}),i}sendTransaction(t){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then(o=>at(o)),n=this.formatter.transaction(t);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const o=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(n,o,i)}catch(o){throw o.transaction=n,o.transactionHash=n.hash,o}})}_getTransactionRequest(t){return ot(this,void 0,void 0,function*(){const e=yield t,n={};return["from","to"].forEach(i=>{e[i]!=null&&(n[i]=Promise.resolve(e[i]).then(o=>o?this._getAddress(o):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{e[i]!=null&&(n[i]=Promise.resolve(e[i]).then(o=>o?J.from(o):null))}),["type"].forEach(i=>{e[i]!=null&&(n[i]=Promise.resolve(e[i]).then(o=>o??null))}),e.accessList&&(n.accessList=this.formatter.accessList(e.accessList)),["data"].forEach(i=>{e[i]!=null&&(n[i]=Promise.resolve(e[i]).then(o=>o?at(o):null))}),this.formatter.transactionRequest(yield fe(n))})}_getFilter(t){return ot(this,void 0,void 0,function*(){t=yield t;const e={};return t.address!=null&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach(n=>{t[n]!=null&&(e[n]=t[n])}),["fromBlock","toBlock"].forEach(n=>{t[n]!=null&&(e[n]=this._getBlockTag(t[n]))}),this.formatter.filter(yield fe(e))})}_call(t,e,n){return ot(this,void 0,void 0,function*(){n>=Y0&&ft.throwError("CCIP read exceeded maximum redirections",L.errors.SERVER_ERROR,{redirects:n,transaction:t});const i=t.to,o=yield this.perform("call",{transaction:t,blockTag:e});if(n>=0&&e==="latest"&&i!=null&&o.substring(0,10)==="0x556f1830"&&mr(o)%32===4)try{const s=le(o,4),a=le(s,0,32);J.from(a).eq(i)||ft.throwError("CCIP Read sender did not match",L.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:o});const u=[],c=J.from(le(s,32,64)).toNumber(),d=J.from(le(s,c,c+32)).toNumber(),g=le(s,c+32);for(let D=0;D<d;D++){const R=di(g,D*32);R==null&&ft.throwError("CCIP Read contained corrupt URL string",L.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:o}),u.push(R)}const _=Kn(s,64);J.from(le(s,100,128)).isZero()||ft.throwError("CCIP Read callback selector included junk",L.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:o});const k=le(s,96,100),T=Kn(s,128),C=yield this.ccipReadFetch(t,_,u);C==null&&ft.throwError("CCIP Read disabled or provided no URLs",L.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:o});const F={to:i,data:Ee([k,cu([C,T])])};return this._call(F,e,n+1)}catch(s){if(s.code===L.errors.SERVER_ERROR)throw s}try{return at(o)}catch(s){return ft.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:e},result:o,error:s})}})}call(t,e){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield fe({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(t){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield fe({transaction:this._getTransactionRequest(t)}),n=yield this.perform("estimateGas",e);try{return J.from(n)}catch(i){return ft.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:n,error:i})}})}_getAddress(t){return ot(this,void 0,void 0,function*(){t=yield t,typeof t!="string"&&ft.throwArgumentError("invalid address or ENS name","name",t);const e=yield this.resolveName(t);return e==null&&ft.throwError("ENS name not configured",L.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),e})}_getBlock(t,e){return ot(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;let n=-128;const i={includeTransactions:!!e};if(gt(t,32))i.blockHash=t;else try{i.blockTag=yield this._getBlockTag(t),gt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{ft.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return Fn(()=>ot(this,void 0,void 0,function*(){const o=yield this.perform("getBlock",i);if(o==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(e){let s=null;for(let u=0;u<o.transactions.length;u++){const c=o.transactions[u];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let d=s-c.blockNumber+1;d<=0&&(d=1),c.confirmations=d}}const a=this.formatter.blockWithTransactions(o);return a.transactions=a.transactions.map(u=>this._wrapTransaction(u)),a}return this.formatter.block(o)}),{oncePoll:this})})}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return ot(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Fn(()=>ot(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",e);if(n==null)return this._emitted["t:"+t]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(t){return ot(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Fn(()=>ot(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",e);if(n==null)return this._emitted["t:"+t]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(t){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield fe({filter:this._getFilter(t)}),n=yield this.perform("getLogs",e);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Z.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return ot(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(t){return ot(this,void 0,void 0,function*(){if(t=yield t,typeof t=="number"&&t<0){t%1&&ft.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)})}getResolver(t){return ot(this,void 0,void 0,function*(){let e=t;for(;;){if(e===""||e==="."||t!=="eth"&&e==="eth")return null;const n=yield this._getResolver(e,"getResolver");if(n!=null){const i=new xa(this,n,t);return e!==t&&!(yield i.supportsWildcard())?null:i}e=e.split(".").slice(1).join(".")}})}_getResolver(t,e){return ot(this,void 0,void 0,function*(){e==null&&(e="ENS");const n=yield this.getNetwork();n.ensAddress||ft.throwError("network does not support ENS",L.errors.UNSUPPORTED_OPERATION,{operation:e,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+li(t).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(t){return ot(this,void 0,void 0,function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(n){if(gt(t))throw n}typeof t!="string"&&ft.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null})}lookupAddress(t){return ot(this,void 0,void 0,function*(){t=yield t,t=this.formatter.address(t);const e=t.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(e,"lookupAddress");if(n==null)return null;const i=di(yield this.call({to:n,data:"0x691f3431"+li(e).substring(2)}),0);return(yield this.resolveName(i))!=t?null:i})}getAvatar(t){return ot(this,void 0,void 0,function*(){let e=null;if(gt(t)){const o=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(o,"getAvatar");if(!s)return null;e=new xa(this,s,o);try{const a=yield e.getAvatar();if(a)return a.url}catch(a){if(a.code!==L.errors.CALL_EXCEPTION)throw a}try{const a=di(yield this.call({to:s,data:"0x691f3431"+li(o).substring(2)}),0);e=yield this.getResolver(a)}catch(a){if(a.code!==L.errors.CALL_EXCEPTION)throw a;return null}}else if(e=yield this.getResolver(t),!e)return null;const n=yield e.getAvatar();return n==null?null:n.url})}perform(t,e){return ft.throwError(t+" not implemented",L.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(t){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(t,e,n){const i=new $0(ln(t),e,n);return this._events.push(i),this._startEvent(i),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let n=!1,i=[],o=ln(t);return this._events=this._events.filter(s=>s.tag!==o?!0:(setTimeout(()=>{s.listener.apply(this,e)},0),n=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),n}listenerCount(t){if(!t)return this._events.length;let e=ln(t);return this._events.filter(n=>n.tag===e).length}listeners(t){if(t==null)return this._events.map(n=>n.listener);let e=ln(t);return this._events.filter(n=>n.tag===e).map(n=>n.listener)}off(t,e){if(e==null)return this.removeAllListeners(t);const n=[];let i=!1,o=ln(t);return this._events=this._events.filter(s=>s.tag!==o||s.listener!=e||i?!0:(i=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(t){let e=[];if(t==null)e=this._events,this._events=[];else{const n=ln(t);this._events=this._events.filter(i=>i.tag!==n?!0:(e.push(i),!1))}return e.forEach(n=>{this._stopEvent(n)}),this}}var hr=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{c(n.next(d))}catch(g){s(g)}}function u(d){try{c(n.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,u)}c((n=n.apply(r,t||[])).next())})};const te=new L(Vn),rd=["call","estimateGas"];function Ln(r,t){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){const e=gt(r.data)?r.data:null;if(!t||e)return{message:r.message,data:e}}if(typeof r=="object"){for(const e in r){const n=Ln(r[e],t);if(n)return n}return null}if(typeof r=="string")try{return Ln(JSON.parse(r),t)}catch{}return null}function hu(r,t,e){const n=e.transaction||e.signedTransaction;if(r==="call"){const o=Ln(t,!0);if(o)return o.data;te.throwError("missing revert data in call exception; Transaction reverted without a reason string",L.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if(r==="estimateGas"){let o=Ln(t.body,!1);o==null&&(o=Ln(t,!1)),o&&te.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",L.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:r,transaction:n,error:t})}let i=t.message;throw t.code===L.errors.SERVER_ERROR&&t.error&&typeof t.error.message=="string"?i=t.error.message:typeof t.body=="string"?i=t.body:typeof t.responseText=="string"&&(i=t.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit/i)&&te.throwError("insufficient funds for intrinsic transaction cost",L.errors.INSUFFICIENT_FUNDS,{error:t,method:r,transaction:n}),i.match(/nonce (is )?too low/i)&&te.throwError("nonce has already been used",L.errors.NONCE_EXPIRED,{error:t,method:r,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&te.throwError("replacement fee too low",L.errors.REPLACEMENT_UNDERPRICED,{error:t,method:r,transaction:n}),i.match(/only replay-protected/i)&&te.throwError("legacy pre-eip-155 transactions not supported",L.errors.UNSUPPORTED_OPERATION,{error:t,method:r,transaction:n}),rd.indexOf(r)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&te.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",L.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:r,transaction:n}),t}function Ea(r){return new Promise(function(t){setTimeout(t,r)})}function nd(r){if(r.error){const t=new Error(r.error.message);throw t.code=r.error.code,t.data=r.error.data,t}return r.result}function Sn(r){return r&&r.toLowerCase()}const qo={};class du extends Ui{constructor(t,e,n){if(super(),t!==qo)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ut(this,"provider",e),n==null&&(n=0),typeof n=="string"?(ut(this,"_address",this.provider.formatter.address(n)),ut(this,"_index",null)):typeof n=="number"?(ut(this,"_index",n),ut(this,"_address",null)):te.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(t){return te.throwError("cannot alter JSON-RPC Signer connection",L.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new id(qo,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(t=>(t.length<=this._index&&te.throwError("unknown account #"+this._index,L.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index])))}sendUncheckedTransaction(t){t=we(t);const e=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(t.gasLimit==null){const n=we(t);n.from=e,t.gasLimit=this.provider.estimateGas(n)}return t.to!=null&&(t.to=Promise.resolve(t.to).then(n=>hr(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&te.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),fe({tx:fe(t),sender:e}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&te.throwArgumentError("from address mismatch","transaction",t):n.from=i;const o=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[o]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&te.throwError("user rejected transaction",L.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),hu("sendTransaction",s,o)))})}signTransaction(t){return te.throwError("signing transactions is unsupported",L.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return hr(this,void 0,void 0,function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(t);try{return yield Fn(()=>hr(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,e)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(t){return hr(this,void 0,void 0,function*(){const e=typeof t=="string"?wr(t):t,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[at(e),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&te.throwError("user rejected signing",L.errors.ACTION_REJECTED,{action:"signMessage",from:n,message:e}),i}})}_legacySignMessage(t){return hr(this,void 0,void 0,function*(){const e=typeof t=="string"?wr(t):t,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),at(e)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&te.throwError("user rejected signing",L.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,message:e}),i}})}_signTypedData(t,e,n){return hr(this,void 0,void 0,function*(){const i=yield be.resolveNames(t,e,n,s=>this.provider.resolveName(s)),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(be.getPayload(i.domain,e,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&te.throwError("user rejected signing",L.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,message:{domain:i.domain,types:e,value:i.value}}),s}})}unlock(t){return hr(this,void 0,void 0,function*(){const e=this.provider,n=yield this.getAddress();return e.send("personal_unlockAccount",[n.toLowerCase(),t,null])})}}class id extends du{sendTransaction(t){return this.sendUncheckedTransaction(t).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(e,n)}))}}const od={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class sd extends ed{constructor(t,e){let n=e;n==null&&(n=new Promise((i,o)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{o(s)})},0)})),super(n),t||(t=Dn(this.constructor,"defaultUrl")()),typeof t=="string"?ut(this,"connection",Object.freeze({url:t})):ut(this,"connection",Object.freeze(we(t))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return hr(this,void 0,void 0,function*(){yield Ea(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch{try{t=yield this.send("net_version",[])}catch{}}if(t!=null){const e=Dn(this.constructor,"getNetwork");try{return e(J.from(t).toNumber())}catch(n){return te.throwError("could not detect network",L.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:n})}}return te.throwError("could not detect network",L.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(t){return new du(qo,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(t=>t.map(e=>this.formatter.address(e)))}send(t,e){const n={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:an(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(i&&this._cache[t])return this._cache[t];const o=ls(this.connection,JSON.stringify(n),nd).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return i&&(this._cache[t]=o,setTimeout(()=>{this._cache[t]=null},0)),o}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Sn(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Sn(e.address),e.blockTag]];case"getCode":return["eth_getCode",[Sn(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Sn(e.address),ee(e.position,32),e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":{const n=Dn(this.constructor,"hexlifyTransaction");return["eth_call",[n(e.transaction,{from:!0}),e.blockTag]]}case"estimateGas":{const n=Dn(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(e.transaction,{from:!0})]]}case"getLogs":return e.filter&&e.filter.address!=null&&(e.filter.address=Sn(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return hr(this,void 0,void 0,function*(){if(t==="call"||t==="estimateGas"){const i=e.transaction;if(i&&i.type!=null&&J.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=yield this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(e=we(e),e.transaction=we(i),delete e.transaction.type)}}const n=this.prepareRequest(t,e);n==null&&te.throwError(t+" not implemented",L.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(n[0],n[1])}catch(i){return hu(t,i,e)}})}_startEvent(t){t.tag==="pending"&&this._startPending(),super._startEvent(t)}_startPending(){if(this._pendingFilter!=null)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then(function(n){function i(){t.send("eth_getFilterChanges",[n]).then(function(o){if(t._pendingFilter!=e)return null;let s=Promise.resolve();return o.forEach(function(a){t._emitted["t:"+a.toLowerCase()]="pending",s=s.then(function(){return t.getTransaction(a).then(function(u){return t.emit("pending",u),null})})}),s.then(function(){return Ea(1e3)})}).then(function(){if(t._pendingFilter!=e){t.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(o=>{})}return i(),n}).catch(n=>{})}_stopEvent(t){t.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,e){const n=we(od);if(e)for(const o in e)e[o]&&(n[o]=!0);Eh(t,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(o){if(t[o]==null)return;const s=jo(J.from(t[o]));o==="gasLimit"&&(o="gas"),i[o]=s}),["from","to","data"].forEach(function(o){t[o]!=null&&(i[o]=at(t[o]))}),t.accessList&&(i.accessList=Xn(t.accessList)),i}}const Na=new L(Vn);let ad=1;function Ma(r,t){const e="Web3LegacyFetcher";return function(n,i){const o={method:n,params:i,id:ad++,jsonrpc:"2.0"};return new Promise((s,a)=>{this.emit("debug",{action:"request",fetcher:e,request:an(o),provider:this}),t(o,(u,c)=>{if(u)return this.emit("debug",{action:"response",fetcher:e,error:u,request:o,provider:this}),a(u);if(this.emit("debug",{action:"response",fetcher:e,request:o,response:c,provider:this}),c.error){const d=new Error(c.error.message);return d.code=c.error.code,d.data=c.error.data,a(d)}s(c.result)})})}}function fd(r){return function(t,e){e==null&&(e=[]);const n={method:t,params:e};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:an(n),provider:this}),r.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class ka extends sd{constructor(t,e){t==null&&Na.throwArgumentError("missing provider","provider",t);let n=null,i=null,o=null;typeof t=="function"?(n="unknown:",i=t):(n=t.host||t.path||"",!n&&t.isMetaMask&&(n="metamask"),o=t,t.request?(n===""&&(n="eip-1193:"),i=fd(t)):t.sendAsync?i=Ma(t,t.sendAsync.bind(t)):t.send?i=Ma(t,t.send.bind(t)):Na.throwArgumentError("unsupported provider","provider",t),n||(n="unknown:")),super(n,e),ut(this,"jsonRpcFetchFunc",i),ut(this,"provider",o)}send(t,e){return this.jsonRpcFetchFunc(t,e)}}new L(Vn);const Qe=Symbol("@ts-pattern/matcher"),Pi="@ts-pattern/anonymous-select-key",Go=r=>Boolean(r&&typeof r=="object"),gi=r=>r&&!!r[Qe],Ke=(r,t,e)=>{if(Go(r)){if(gi(r)){const n=r[Qe](),{matched:i,selections:o}=n.match(t);return i&&o&&Object.keys(o).forEach(s=>e(s,o[s])),i}if(!Go(t))return!1;if(Array.isArray(r))return!!Array.isArray(t)&&r.length===t.length&&r.every((n,i)=>Ke(n,t[i],e));if(r instanceof Map)return t instanceof Map&&Array.from(r.keys()).every(n=>Ke(r.get(n),t.get(n),e));if(r instanceof Set){if(!(t instanceof Set))return!1;if(r.size===0)return t.size===0;if(r.size===1){const[n]=Array.from(r.values());return gi(n)?Array.from(t.values()).every(i=>Ke(n,i,e)):t.has(n)}return Array.from(r.values()).every(n=>t.has(n))}return Object.keys(r).every(n=>{const i=r[n];return(n in t||gi(o=i)&&o[Qe]().matcherType==="optional")&&Ke(i,t[n],e);var o})}return Object.is(t,r)},fr=r=>{var t,e,n;return Go(r)?gi(r)?(t=(e=(n=r[Qe]()).getSelectionKeys)==null?void 0:e.call(n))!=null?t:[]:Array.isArray(r)?Wn(r,fr):Wn(Object.values(r),fr):[]},Wn=(r,t)=>r.reduce((e,n)=>e.concat(t(n)),[]);function Ca(r){return{[Qe]:()=>({match:t=>{let e={};const n=(i,o)=>{e[i]=o};return t===void 0?(fr(r).forEach(i=>n(i,void 0)),{matched:!0,selections:e}):{matched:Ke(r,t,n),selections:e}},getSelectionKeys:()=>fr(r),matcherType:"optional"})}}function Pa(r){return{[Qe]:()=>({match:t=>{if(!Array.isArray(t))return{matched:!1};let e={};if(t.length===0)return fr(r).forEach(i=>{e[i]=[]}),{matched:!0,selections:e};const n=(i,o)=>{e[i]=(e[i]||[]).concat([o])};return{matched:t.every(i=>Ke(r,i,n)),selections:e}},getSelectionKeys:()=>fr(r)})}}function Ra(...r){return{[Qe]:()=>({match:t=>{let e={};const n=(i,o)=>{e[i]=o};return{matched:r.every(i=>Ke(i,t,n)),selections:e}},getSelectionKeys:()=>Wn(r,fr),matcherType:"and"})}}function Ta(...r){return{[Qe]:()=>({match:t=>{let e={};const n=(i,o)=>{e[i]=o};return Wn(r,fr).forEach(i=>n(i,void 0)),{matched:r.some(i=>Ke(i,t,n)),selections:e}},getSelectionKeys:()=>Wn(r,fr),matcherType:"or"})}}function Oa(r){return{[Qe]:()=>({match:t=>({matched:!Ke(r,t,()=>{})}),getSelectionKeys:()=>[],matcherType:"not"})}}function nr(r){return{[Qe]:()=>({match:t=>({matched:Boolean(r(t))})})}}function Ia(...r){const t=typeof r[0]=="string"?r[0]:void 0,e=r.length===2?r[1]:typeof r[0]=="string"?void 0:r[0];return{[Qe]:()=>({match:n=>{let i={[t??Pi]:n};return{matched:e===void 0||Ke(e,n,(o,s)=>{i[o]=s}),selections:i}},getSelectionKeys:()=>[t??Pi].concat(e===void 0?[]:fr(e))})}}const gu=nr(function(r){return!0}),ud=gu,ld=nr(function(r){return typeof r=="string"}),cd=nr(function(r){return typeof r=="number"}),hd=nr(function(r){return typeof r=="boolean"}),dd=nr(function(r){return typeof r=="bigint"}),gd=nr(function(r){return typeof r=="symbol"}),md=nr(function(r){return r==null});var ig={__proto__:null,optional:Ca,array:Pa,intersection:Ra,union:Ta,not:Oa,when:nr,select:Ia,any:gu,_:ud,string:ld,number:cd,boolean:hd,bigint:dd,symbol:gd,nullish:md,instanceOf:function(r){return nr(function(t){return e=>e instanceof t}(r))},typed:function(){return{array:Pa,optional:Ca,intersection:Ra,union:Ta,not:Oa,select:Ia,when:nr}}};const si=r=>new Un(r,[]);class Un{constructor(t,e){this.value=void 0,this.cases=void 0,this.value=t,this.cases=e}with(...t){const e=t[t.length-1],n=[t[0]],i=[];return t.length===3&&typeof t[1]=="function"?(n.push(t[0]),i.push(t[1])):t.length>2&&n.push(...t.slice(1,t.length-1)),new Un(this.value,this.cases.concat([{match:o=>{let s={};const a=Boolean(n.some(u=>Ke(u,o,(c,d)=>{s[c]=d}))&&i.every(u=>u(o)));return{matched:a,value:a&&Object.keys(s).length?Pi in s?s[Pi]:s:o}},handler:e}]))}when(t,e){return new Un(this.value,this.cases.concat([{match:n=>({matched:Boolean(t(n)),value:n}),handler:e}]))}otherwise(t){return new Un(this.value,this.cases.concat([{match:e=>({matched:!0,value:e}),handler:t}])).run()}exhaustive(){return this.run()}run(){let t,e=this.value;for(let n=0;n<this.cases.length;n++){const i=this.cases[n],o=i.match(this.value);if(o.matched){e=o.value,t=i.handler;break}}if(!t){let n;try{n=JSON.stringify(this.value)}catch{n=this.value}throw new Error(`Pattern matching error: no pattern matches value ${n}`)}return t(e,this.value)}}const pd=new ne(0),mu=new ne(1);function og(r){return rt(!r.isLessThan(pd),()=>`Slippage should be a non-negative number, got: ${r.toFixed()}`),r}function sg(r,t){const e=mu.plus(t).invert().multipliedBy(new ne(r.asBigInt)).quotient.decimalPlaces(0);return{amountOutMin:new An(e)}}function ag(r,t){const e=mu.plus(t).multipliedBy(new ne(r.asBigInt)).quotient.decimalPlaces(0);return{amountInMax:new An(e)}}function vd(r){const t=r.at(0),e=r.at(-1);return rt(t&&e),{amountIn:t,amountOut:e}}class wd{#t;constructor(t){this.#t=t.contracts}get contracts(){return this.#t}async getAmounts(t){const e=await this.routerContract(),n=t.trade.routePath(),o=(t.mode==="exact-in"?await e.getAmountsOut([t.amountIn.asStr,n]).call():await e.getAmountsIn([t.amountOut.asStr,n]).call()).map(s=>new An(s));return{amounts:o,...vd(o)}}async routerContract(){return this.#t.get("router")||this.#t.init("router")}}class fg extends wd{#t;constructor(t){super(t),this.#t=t.agent}async prepareSwap(t){await this.approveAmountForSwap(t);const e=this.contracts.get("router")||await this.contracts.init("router"),{deadline:n=Xu()}=t,{address:i}=this.#t,o=t.trade.routePath(),s=await this.#t.getGasPrice(),a={gasPrice:s,from:i},u=Rs(t.trade.route.input.address),c=Rs(t.trade.route.output.address),d=si([u,c]).with([!1,!1],()=>si(t).with({mode:"exact-in"},({amountIn:T,amountOutMin:C})=>e.swapExactTokensForTokens([T.asStr,C.asStr,o,i,n])).with({mode:"exact-out"},({amountInMax:T,amountOut:C})=>e.swapTokensForExactTokens([C.asStr,T.asStr,o,i,n])).exhaustive()).with([!1,!0],()=>si(t).with({mode:"exact-in"},({amountIn:T,amountOutMin:C})=>e.swapExactTokensForKLAY([T.asStr,C.asStr,o,i,n])).with({mode:"exact-out"},({amountInMax:T,amountOut:C})=>e.swapTokensForExactKLAY([C.asStr,T.asStr,o,i,n])).exhaustive()).with([!0,!1],()=>si(t).with({mode:"exact-in"},({amountIn:T,amountOutMin:C})=>e.swapExactKLAYForTokens([C.asStr,o,i,n],{...a,value:T})).with({mode:"exact-out"},({amountInMax:T,amountOut:C})=>e.swapKLAYForExactTokens([C.asStr,o,i,n],{...a,value:T})).exhaustive()).with([!0,!0],()=>{throw new Error("unreachable")}).exhaustive(),{gas:g,send:_}=await d.estimateAndPrepareSend();return{fee:Vu(s,g),send:_}}async approveAmountForSwap(t){const e=t.trade.route.input.address,n=t.expertMode?new An($u):t.mode==="exact-in"?t.amountIn:t.amountInMax;await this.#t.approveAmount(e,n)}}var Sa;const zo=typeof window<"u";zo&&((Sa=window?.navigator)==null?void 0:Sa.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Da(r){return qa()?(gn(r),!0):!1}function yd(r,t=1e3,e={}){const{immediate:n=!0,immediateCallback:i=!1}=e;let o=null;const s=dn(!1);function a(){o&&(clearInterval(o),o=null)}function u(){s.value=!1,a()}function c(){pi(t)<=0||(s.value=!0,i&&r(),a(),o=setInterval(r,pi(t)))}if(n&&zo&&c(),Ua(t)){const d=yr(t,()=>{s.value&&zo&&c()});Da(d)}return Da(u),{isActive:s,pause:u,resume:c}}function Mo(r,t,e){return yr(()=>r.fulfilled,n=>n&&t(n.value),e)}function Ho(r,t,e){return yr(()=>r.rejected,n=>n&&t(n.reason),e)}function bd(r,t,e){return yr(()=>r.rejected||r.fulfilled,n=>n&&t(r),e)}function Ad(){let r=null;const t=Ga({pending:!1,fulfilled:null,rejected:null});function e(i){r=i,t.pending=!0,t.fulfilled=null,t.rejected=null,i.then(o=>{i===r&&(t.pending=!1,t.fulfilled=Co({value:o}))}).catch(o=>{i===r&&(t.pending=!1,t.rejected=Co({reason:o}))})}function n(){r=null,t.pending=!1,t.fulfilled=t.rejected=null}return{state:t,set:e,clear:n}}function ug(r){const t=Ga({fulfilled:null,rejected:null,pending:!1,fresh:!1});return yr(r,e=>{e.pending?(t.pending=!0,t.fresh=!1):(t.pending=!1,e.fulfilled?(t.fulfilled=e.fulfilled,t.rejected=null,t.fresh=!0):e.rejected&&(t.rejected=e.rejected))}),t}function hn(r,t){const{state:e,set:n,clear:i}=Ad(),o=()=>n(r());return t?.immediate&&o(),{state:e,run:o,clear:i}}function lg(r,t){const e=t??"fulfilled";return za({pending:jt(()=>r.pending),fulfilled:e==="all"||e==="fulfilled"?jt(()=>r.fulfilled?.value??null):vi(r,"fulfilled"),rejected:e==="all"||e==="rejected"?jt(()=>r.rejected?.reason??null):vi(r,"rejected")})}const _d=5e3,xd=5;function Ed(r,t,e){const n=Wo(null);bd(r,a=>{n.value=a},{immediate:!0});const i=dn(0);function o(){i.value=0}const s=yd(()=>{i.value++,t()},e?.interval??_d,{immediate:!1});return yr(()=>!!n.value?.rejected&&i.value<(pi(e?.count)??xd),a=>{a?s.resume():(o(),s.pause())},{immediate:!0}),{reset:o,retries:i}}function Nd(){const r=qa()||cs();let t=null;const e=Wo(null);function n(o){i(),r.run(()=>{t=cs(),t.run(()=>{e.value={expose:o()}})})}function i(){t&&(t.stop(),t=e.value=null)}return{setup:n,dispose:i,scope:wu(e)}}function Md(r){const t=typeof r;return r===!0||t==="string"||t==="number"||t==="symbol"}function kd(r){return Md(r)?r:r.key}function Cd(r){return typeof r=="object"?r:{key:r}}function Pd(r){return r==null||r===!1?null:{some:r}}function pu(r,t){const e=Nd(),n=jt(()=>{const i=Ua(r)?r.value:r();return Pd(i)});return yr(()=>{const i=n.value;return i?kd(i.some):null},i=>{i?e.setup(()=>{if(i===!0)return{expose:t(!0)};const o=n.value.some;return{expose:t(o),...Cd(o)}}):e.dispose()},{immediate:!0}),jt(()=>e.scope.value?.expose??null)}var Ko={exports:{}},ko,Fa;function Rd(){if(Fa)return ko;Fa=1;var r=1e3,t=r*60,e=t*60,n=e*24,i=n*7,o=n*365.25;ko=function(d,g){g=g||{};var _=typeof d;if(_==="string"&&d.length>0)return s(d);if(_==="number"&&isFinite(d))return g.long?u(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(!!g){var _=parseFloat(g[1]),k=(g[2]||"ms").toLowerCase();switch(k){case"years":case"year":case"yrs":case"yr":case"y":return _*o;case"weeks":case"week":case"w":return _*i;case"days":case"day":case"d":return _*n;case"hours":case"hour":case"hrs":case"hr":case"h":return _*e;case"minutes":case"minute":case"mins":case"min":case"m":return _*t;case"seconds":case"second":case"secs":case"sec":case"s":return _*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return _;default:return}}}}function a(d){var g=Math.abs(d);return g>=n?Math.round(d/n)+"d":g>=e?Math.round(d/e)+"h":g>=t?Math.round(d/t)+"m":g>=r?Math.round(d/r)+"s":d+"ms"}function u(d){var g=Math.abs(d);return g>=n?c(d,g,n,"day"):g>=e?c(d,g,e,"hour"):g>=t?c(d,g,t,"minute"):g>=r?c(d,g,r,"second"):d+" ms"}function c(d,g,_,k){var T=g>=_*1.5;return Math.round(d/_)+" "+k+(T?"s":"")}return ko}function Td(r){e.debug=e,e.default=e,e.coerce=u,e.disable=o,e.enable=i,e.enabled=s,e.humanize=Rd(),e.destroy=c,Object.keys(r).forEach(d=>{e[d]=r[d]}),e.names=[],e.skips=[],e.formatters={};function t(d){let g=0;for(let _=0;_<d.length;_++)g=(g<<5)-g+d.charCodeAt(_),g|=0;return e.colors[Math.abs(g)%e.colors.length]}e.selectColor=t;function e(d){let g,_=null,k,T;function C(...F){if(!C.enabled)return;const D=C,R=Number(new Date),G=R-(g||R);D.diff=G,D.prev=g,D.curr=R,g=R,F[0]=e.coerce(F[0]),typeof F[0]!="string"&&F.unshift("%O");let W=0;F[0]=F[0].replace(/%([a-zA-Z%])/g,(K,tt)=>{if(K==="%%")return"%";W++;const A=e.formatters[tt];if(typeof A=="function"){const N=F[W];K=A.call(D,N),F.splice(W,1),W--}return K}),e.formatArgs.call(D,F),(D.log||e.log).apply(D,F)}return C.namespace=d,C.useColors=e.useColors(),C.color=e.selectColor(d),C.extend=n,C.destroy=e.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(k!==e.namespaces&&(k=e.namespaces,T=e.enabled(d)),T),set:F=>{_=F}}),typeof e.init=="function"&&e.init(C),C}function n(d,g){const _=e(this.namespace+(typeof g>"u"?":":g)+d);return _.log=this.log,_}function i(d){e.save(d),e.namespaces=d,e.names=[],e.skips=[];let g;const _=(typeof d=="string"?d:"").split(/[\s,]+/),k=_.length;for(g=0;g<k;g++)!_[g]||(d=_[g].replace(/\*/g,".*?"),d[0]==="-"?e.skips.push(new RegExp("^"+d.slice(1)+"$")):e.names.push(new RegExp("^"+d+"$")))}function o(){const d=[...e.names.map(a),...e.skips.map(a).map(g=>"-"+g)].join(",");return e.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let g,_;for(g=0,_=e.skips.length;g<_;g++)if(e.skips[g].test(d))return!1;for(g=0,_=e.names.length;g<_;g++)if(e.names[g].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function u(d){return d instanceof Error?d.stack||d.message:d}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}var Od=Td;(function(r,t){t.formatArgs=n,t.save=i,t.load=o,t.useColors=e,t.storage=s(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;u.splice(1,0,c,"color: inherit");let d=0,g=0;u[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(d++,_==="%c"&&(g=d))}),u.splice(g,0,c)}t.log=console.debug||console.log||(()=>{});function i(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}function o(){let u;try{u=t.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=process.env.DEBUG),u}function s(){try{return localStorage}catch{}}r.exports=Od(t);const{formatters:a}=r.exports;a.j=function(u){try{return JSON.stringify(u)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(Ko,Ko.exports);const Id=Ko.exports;function mi(r,t){const e=Id("kakuyaku").extend(t);yr(r,n=>{n.pending?e("pending..."):n.fulfilled?e("fulfilled with value: %o",n.fulfilled.value):n.rejected&&(e("rejected"),console.error(`Promise "${t}" errored:`,n.rejected.reason))},{deep:!0,immediate:!0}),gn(()=>{e("disposed")})}function cg(r,t,e){Ho(r,n=>{t({type:"err",title:e,error:n})})}function hg(r){return za({pending:vi(r,"pending"),fulfilled:jt(()=>!!r.fulfilled),rejected:jt(()=>!!r.rejected)})}function Sd({mustBeMetaMask:r=!1,silent:t=!1,timeout:e=3e3}={}){i();let n=!1;return new Promise(o=>{window.ethereum?s():(window.addEventListener("ethereum#initialized",s,{once:!0}),setTimeout(()=>{s()},e));function s(){if(n)return;n=!0,window.removeEventListener("ethereum#initialized",s);const{ethereum:a}=window;a&&(!r||a.isMetaMask)?o(a):(!t&&console.error("@metamask/detect-provider:",r&&a?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum."),o(null))}});function i(){if(typeof r!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof t!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof e!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}var Dd=Sd;const Fd=300,Bd=1e3;let qn;{const{caver:r,klaytn:t}=window;qn=r&&t&&{caver:r,klaytn:t}}const Ld=!!qn;async function Ud(r,t){const e=`0x${t.chainId.toString(16)}`;try{await r.send("wallet_switchEthereumChain",[{chainId:e}])}catch(n){if(n?.code===4902)await r.send("wallet_addEthereumChain",[{chainId:e,chainName:t.chainName,nativeCurrency:t.nativeToken,rpcUrls:[t.rpcUrl],blockExplorerUrls:[t.blockExplorerUrl]}]);else throw n}}function Ba(r){return r.at(0)??null}function qd(r,t,e){const n=pu(t,()=>{const{state:a,run:u}=hn(async()=>(await r.value.getNetwork()).chainId,{immediate:!0});return mi(a,"get-chain-id"),yr(r,()=>u()),a}),i=jt(()=>!!n.value?.expose.fulfilled),o=jt(()=>n.value?.expose.fulfilled?.value===pi(e)),s=jt(()=>n.value?.expose.pending??!1);return{isCorrect:o,isLoaded:i,isPending:s}}function dg(r){const{state:t,run:e}=hn(()=>Dd({mustBeMetaMask:!0,silent:!0}),{immediate:!0});Ed(t,e,{count:1/0,interval:1e3});const n=jt(()=>!!t.fulfilled),i=jt(()=>t.fulfilled?.value??null),o=jt(()=>!!i.value),s=yu("selected-wallet",null);$n(()=>s.value==="metamask"&&n.value&&!o.value,()=>a(null),{immediate:!0}),$n(()=>s.value==="kaikas"&&!Ld,()=>a(null),{immediate:!0});function a(D){s.value=D}const u=pu(()=>{const D=s.value;return D&&(D==="kaikas"&&qn?{key:D,payload:{kind:D,kaikas:qn.klaytn,caver:qn.caver}}:D==="metamask"&&i.value?{key:D,payload:{kind:D,ethereum:i.value}}:null)},({payload:D})=>{if(D.kind==="kaikas"){const{kaikas:R,caver:G}=D,W={kind:"caver",caver:G,kaikas:R,unstableEthers:new ka(R)},{state:H,run:K}=hn(async()=>{await R.enable()},{immediate:!0});mi(H,"enable-kaikas");const tt=dn(null),A=w=>{tt.value=Ba(w)};R.on("accountsChanged",A),gn(()=>R.removeListener("accountsChanged",A));const{state:N,run:P}=hn(async()=>{const[w,E,O]=await Promise.all([R._kaikas.isEnabled(),R._kaikas.isApproved(),R._kaikas.isUnlocked()]);return{isEnabled:w,isApproved:E,isUnlocked:O}},{immediate:!0});bu(P,Bd);const S=jt(()=>{if(N.fulfilled){const{value:w}=N.fulfilled;return w.isApproved&&w.isEnabled&&w.isUnlocked}return!1});Mo(N,()=>{const w=S.value;tt.value=w?R.selectedAddress:null});const I=()=>Number(R.networkVersion),y=dn(null),f=jt(()=>y.value===r.network.chainId),l=jt(()=>typeof y.value=="number"),m=()=>{y.value=I()};R.on("networkChanged",m),gn(()=>R.removeListener("networkChanged",m)),Mo(H,()=>{tt.value=R.selectedAddress,m()}),Ho(H,()=>a(null));const v=vi(H,"pending");return hs({account:tt,provider:()=>W,isChainCorrect:f,isChainLoaded:l,enableState:H,isSetupPending:v,enable:K})}else{const{ethereum:R}=D,G=()=>({kind:"ethers",ethers:new ka(R)}),W=Wo(G()),H=()=>{W.value=G()},{state:K,run:tt}=hn(async()=>{await W.value.ethers.send("eth_requestAccounts",[])},{immediate:!0});mi(K,"enable-ethereum");const A=jt(()=>!!K.fulfilled);Ho(K,()=>a(null));const N=dn(R.selectedAddress),P=v=>{N.value=Ba(v)};R.on("accountsChanged",P),gn(()=>R.removeListener("accountsChanged",P));const{isCorrect:S,isLoaded:I,isPending:y}=qd(jt(()=>W.value.ethers),A,r.network.chainId);R.on("chainChanged",H),gn(()=>R.removeListener("chainChanged",H));const{run:f,state:l}=hn(async()=>{await Ud(W.value.ethers,r.network)});mi(l,"ethereum-switch-network"),Mo(l,H),$n(Au(I,_u(S)),f,{immediate:!0});const m=jt(()=>K.pending||l.pending||y.value);return hs({account:N,provider:()=>W.value,isChainCorrect:S,isChainLoaded:I,enableState:K,isSetupPending:m,enable:tt})}}),c=jt(()=>{if(u.value){const{expose:{provider:D,account:R,isChainCorrect:G},payload:{kind:W}}=u.value;if(G&&R)return{wallet:W,provider:D(),account:R}}return null}),d=jt(()=>u.value?.expose.enableState??null),g=jt(()=>u.value?.expose.isChainLoaded??!1),_=jt(()=>u.value?.expose.isChainCorrect??!1),k=jt(()=>u.value?.expose.isSetupPending??!1),T=jt(()=>!!u.value?.expose.account),C=()=>u.value?.expose.enable(),F=dn(!!s.value);if(F.value){const D=()=>{F.value=!1};xu(D,Fd),$n(()=>!!u.value?.expose.enableState.fulfilled,D,{immediate:!0})}return{isMetamaskDetectionDone:n,isMetamaskDetected:o,selectedWallet:s,selectWallet:a,connectState:d,validProvider:c,isChainLoaded:g,isChainCorrect:_,isProviderSetupPending:k,initialDelayActive:F,isEnabled:T,enable:C}}export{jd as $,gt as A,J as B,ie as C,Id as D,kh as E,Ui as F,os as G,Gu as H,we as I,an as J,si as K,Yd as L,ng as M,eg as N,rg as O,ns as P,fe as Q,Xn as R,ig as S,Or as T,Hd as U,Jf as V,An as W,Vu as X,Xu as Y,$c as Z,Rs as _,hn as a,Qd as a0,wd as a1,fg as a2,sd as a3,Xd as a4,Kd as a5,Wd as a6,dg as a7,tg as a8,Ed as a9,ug as aa,he as ab,Va as ac,Vo as ad,$d as ae,ju as af,$a as ag,Nd as ah,bd as ai,Zd as aj,Zu as ak,$u as al,Ad as am,qu as an,zd as ao,Jd as ap,nl as aq,Ld as ar,rl as as,mi as b,cg as c,og as d,sg as e,lg as f,ag as g,gr as h,Lf as i,Vd as j,L as k,ut as l,Ee as m,Ze as n,nt as o,hg as p,at as q,ge as r,ee as s,wr as t,pu as u,Bi as v,Mo as w,Dn as x,le as y,qf as z};
